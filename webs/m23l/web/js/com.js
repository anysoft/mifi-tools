define("service","underscore jquery set CryptoJS".split(" "),function(cr,c0,aK,bG){function bi(dp,dn){if(cr.isArray(dp)){for(var dq=0;dq<dp.length;dq++){dc(dp[dq])}}else{dc(dp)}c1(dn)}function n(dp,dn){if(cr.isArray(dp)){for(var dq=0;dq<dp.length;dq++){bz(dp[dq])}}else{bz(dp)}C(dn)}function aV(){return a7({}).get_user_mac_addr}function b5(dn,dr){return bJ(arguments,{},dp,dq,null,false);function dp(ds,dt){return{multi_data:1,cmd:"DDNS_Enable,DDNS_Mode,DDNSProvider,DDNSAccount,DDNSPassword,DDNS,DDNS_Hash_Value"}}function dq(ds){if(ds){return{DDNS_Enable:ds.DDNS_Enable,DDNS_Mode:ds.DDNS_Mode,DDNSProvider:ds.DDNSProvider,DDNSAccount:ds.DDNSAccount,DDNSPassword:ds.DDNSPassword,DDNS:ds.DDNS,DDNS_Hash_Value:ds.DDNS_Hash_Value}}else{return X}}}function aW(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds=c0.extend({},dq);return ds}function dp(dq){if(dq){return dq}else{return X}}}function cu(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="modem_main_state,puknumber,pinnumber,blc_wan_mode,blc_wan_auto_mode,psw_fail_num_str,login_lock_time,psw_changed";ds.multi_data=1;return ds}function dp(dq){if(dq){if(dq.blc_wan_mode=="AUTO"){dq.blc_wan_mode=dq.blc_wan_auto_mode?dq.blc_wan_auto_mode:"AUTO_PPP"}else{dq.blc_wan_mode=dq.blc_wan_mode?dq.blc_wan_mode:"PPP"}dq.psw_fail_num_str=dq.psw_fail_num_str==""?aK.MAX_LOGIN_COUNT:dq.psw_fail_num_str;dq.login_lock_time=dq.login_lock_time==""?"300":dq.login_lock_time;return dq}else{return X}}}function aR(){return bJ(arguments,{},dn,dp,{errorType:"badPassword"},true);function dn(dq,dr){var ds={goformId:"LOGIN",password:aK.PASSWORD_ENCODE?Base64.encode(dq.password):dq.password};return ds}function dp(dq){if(dq&&(dq.result=="0"||dq.result=="4")){bF.isLoggedIn=true;return{result:true}}else{var dr={};switch(dq.result){case"1":dr={errorType:"Login Fail"};break;case"2":dr={errorType:"duplicateUser"};break;case"3":dr={errorType:"badPassword"};break;default:dr={errorType:"Login Fail"};break}bF.isLoggedIn=false;return c0.extend(X,dr)}}}function bX(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="current_Password,admin_Password,root_Password";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.CurrentPasswd=dr.current_Password;dq.AdminPasswd=dr.admin_Password;dq.RootPasswd=dr.root_Password;return dq}else{return X}}}function bk(){if(bF.isLoggedIn!=undefined){return bJ(arguments,{status:bF.isLoggedIn?"loggedIn":"loggedOut"})}else{var dq={};if(!aK.HAS_LOGIN){dq.status="loggedIn";dq.errorType="no_login";bF.isLoggedIn=true}return bJ(arguments,dq,dn,dp,null,false)}function dn(dr,ds){var dt={};dt.cmd="loginfo";dt.multi_data=1;return dt}function dp(ds){if(ds&&ds.loginfo||ds.loginfo==""){var dr={};switch(ds.loginfo){case"ok":bF.isLoggedIn=true;dr.status="loggedIn";break;default:bF.isLoggedIn=false;dr.status="loggedOut";break}return dr}else{bF.isLoggedIn=undefined;return c0.extend(X,{errorType:"LoginStatusError"})}}}function J(){return bJ(arguments,{},dn,dp,{},true);function dn(dq,dr){var ds={};ds.goformId="ENTER_PIN";ds.PinNumber=dq.PinNumber;return ds}function dp(dq){if(dq&&dq.result==="success"){return{result:true}}else{return{result:false}}}}function U(){return bJ(arguments,{},dn,dp,{},true);function dn(dq,dr){var ds={};ds.goformId="ENTER_PUK";ds.PUKNumber=dq.PUKNumber;ds.PinNumber=dq.PinNumber;return ds}function dp(dq){if(dq&&dq.result==="success"){return{result:true}}else{return{result:false}}}}function cA(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="get_support_band";return ds}function dp(dr){if(dr){var dq={};dq=dr;return dq}else{return X}}}function O(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="set_band_list";return ds}function dp(dr){if(dr){var dq={};dq=dr;return dq}else{return X}}}function cG(){return bJ(arguments,{},dn,dp,null,true);function dn(dq){var dr=c0.extend({goformId:"GOFORM_SET_BAND"},dq);return dr}function dp(dq){if(dq&&dq.result=="success"){return dq}else{return X}}}function cJ(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="ttl_value";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.ttlValue=dr.ttl_value;return dq}else{return X}}}function bB(){return bJ(arguments,{},dn,dp,{},true);function dn(dq){var dr={};dr.goformId="TTL_VALUE_SET";dr.webttl_value=dq;return dr}function dp(dq){if(dq&&dq.result==="success"){return{result:true}}else{return{result:false}}}}function bT(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="GET_RESIDE_BAND";return ds}function dp(dr){if(dr){var dq={reside_band:dr.result};return dq}else{return X}}}function e(){if(bF.isLoggedIn===undefined){var dn=bk();return{networkType:bF.networkType,signalImg:bF.signalImg,networkOperator:bF.networkOperator,spn_b1_flag:bF.spn_b1_flag,spn_name_data:bF.spn_name_data,spn_b2_flag:bF.spn_b2_flag,connectStatus:bF.connectStatus,rj45ConnectStatus:bF.rj45ConnectStatus,ssid1AttachedNum:bF.ssid1AttachedNum,ssid2AttachedNum:bF.ssid2AttachedNum,wirelessDeviceNum:bF.ssid1AttachedNum+bF.ssid2AttachedNum,roamingStatus:bF.roamingStatus,wifiStatus:bF.wifiStatus,simStatus:bF.simStatus,pinStatus:bF.pinStatus,batteryStatus:bF.batteryStatus,batteryShow:bF.batteryShow,batteryLevel:bF.batteryLevel,batteryPers:bF.batteryPers,batteryTime:bF.batteryTime,ssid:bF.ssid,authMode:bF.authMode,data_counter:bF.data_counter,isLoggedIn:dn.status=="loggedIn",newSmsReceived:bF.newSmsReceived,smsReportReceived:bF.smsReportReceived,smsUnreadCount:bF.smsUnreadCount,limitVolumeEnable:bF.limitVolumeEnable,limitVolumeType:bF.limitVolumeType,limitVolumePercent:bF.limitVolumePercent,limitVolumeSize:bF.limitVolumeSize,connectWifiProfile:bF.connectWifiProfile,connectWifiSSID:bF.connectWifiSSID,connectWifiStatus:bF.connectWifiStatus,multi_ssid_enable:bF.multi_ssid_enable,show_ssid_on_lcd:timerInfo.show_ssid_on_lcd,roamMode:bF.roamMode,blc_wan_mode:bF.blc_wan_mode,current_upgrade_state:bF.current_upgrade_state,is_mandatory:bF.is_mandatory,new_version_state:bF.new_version_state,allowRoamingUpdate:bF.allowRoamingUpdate,ap_station_enable:bF.ap_station_enable,ap_station_mode:bF.ap_station_mode,dialMode:bF.dialMode,fota_package_already_download:bF.fota_package_already_download,ethWanMode:bF.ethWanMode,fota_user_selector:bF.fota_user_selector,defaultWanName:bF.defaultWanName,vpn_state:bF.vpn_state,connect_status:bF.connect_status}}return{networkType:bF.networkType,signalImg:bF.signalImg,networkOperator:bF.networkOperator,spn_b1_flag:bF.spn_b1_flag,spn_name_data:bF.spn_name_data,spn_b2_flag:bF.spn_b2_flag,connectStatus:bF.connectStatus,rj45ConnectStatus:bF.rj45ConnectStatus,ssid1AttachedNum:bF.ssid1AttachedNum,ssid2AttachedNum:bF.ssid2AttachedNum,wirelessDeviceNum:bF.ssid1AttachedNum+bF.ssid2AttachedNum,roamingStatus:bF.roamingStatus,wifiStatus:bF.wifiStatus,simStatus:bF.simStatus,pinStatus:bF.pinStatus,batteryStatus:bF.batteryStatus,batteryShow:bF.batteryShow,batteryLevel:bF.batteryLevel,batteryPers:bF.batteryPers,batteryTime:bF.batteryTime,ssid:bF.ssid,authMode:bF.authMode,data_counter:bF.data_counter,isLoggedIn:bF.isLoggedIn,newSmsReceived:bF.newSmsReceived,smsReportReceived:bF.smsReportReceived,smsUnreadCount:bF.smsUnreadCount,limitVolumeEnable:bF.limitVolumeEnable,limitVolumeType:bF.limitVolumeType,limitVolumePercent:bF.limitVolumePercent,limitVolumeSize:bF.limitVolumeSize,connectWifiProfile:bF.connectWifiProfile,connectWifiSSID:bF.connectWifiSSID,connectWifiStatus:bF.connectWifiStatus,multi_ssid_enable:bF.multi_ssid_enable,blc_wan_mode:bF.blc_wan_mode,roamMode:bF.roamMode,current_upgrade_state:bF.current_upgrade_state,is_mandatory:bF.is_mandatory,new_version_state:bF.new_version_state,allowRoamingUpdate:bF.allowRoamingUpdate,ap_station_enable:bF.ap_station_enable,ap_station_mode:bF.ap_station_mode,dialMode:bF.dialMode,fota_package_already_download:bF.fota_package_already_download,ethWanMode:bF.ethWanMode,fota_user_selector:bF.fota_user_selector,defaultWanName:bF.defaultWanName,vpn_state:bF.vpn_state,connect_status:bF.connect_status}}function bI(){var dp=bF.limitVolumeType=="1";var dn={data_counter:bF.data_counter,connectStatus:bF.connectStatus,rj45ConnectStatus:bF.rj45ConnectStatus,limitVolumeEnable:bF.limitVolumeEnable,limitVolumeType:bF.limitVolumeType,limitVolumePercent:bF.limitVolumePercent,networkType:bF.networkType};if(dp){dn.limitDataMonth=bF.limitVolumeSize;dn.limitTimeMonth=0}else{dn.limitTimeMonth=bF.limitVolumeSize;dn.limitDataMonth=0}dn.blc_wan_mode=bF.blc_wan_mode;return dn}function E(){bF.newSmsReceived=false}function ce(){bF.smsReportReceived=false}function b(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="sms_capacity_info";return ds}function dp(dq){return{nvTotal:parseInt(dq.sms_nv_total,10),nvUsed:parseInt(dq.sms_nv_rev_total,10)+parseInt(dq.sms_nv_send_total,10)+parseInt(dq.sms_nv_draftbox_total,10),simTotal:parseInt(dq.sms_sim_total,10),simUsed:parseInt(dq.sms_sim_rev_total,10)+parseInt(dq.sms_sim_send_total,10)+parseInt(dq.sms_sim_draftbox_total,10),nvReceive:parseInt(dq.sms_nv_rev_total,10),nvSend:parseInt(dq.sms_nv_send_total,10),nvDraft:parseInt(dq.sms_nv_draftbox_total,10),simReceive:parseInt(dq.sms_sim_rev_total,10),simSend:parseInt(dq.sms_sim_send_total,10),simDraft:parseInt(dq.sms_sim_draftbox_total,10)}}}function be(){var ds=arguments[1];var dr=0;return bJ(arguments,{},dn,dq,null,true);function dn(dt,du){var dv={};dv.notCallback=true;dv.goformId="CONNECT_NETWORK";return dv}function dq(dt){if(dt.result=="success"){dr=new Date().getTime();c1(dp)}else{ds({result:false})}}function dp(dt){if(dt.ppp_status=="ppp_connecting"){bF.connectStatus="ppp_connecting"}else{if(dt.ppp_status=="ppp_connected"){C(dp);bF.connectStatus="ppp_connected";ds({result:true,status:bF.connectStatus})}else{if(new Date().getTime()-dr<10000){bF.connectStatus="ppp_connecting"}else{C(dp);ds({result:false})}}}}}function R(){var ds=arguments[1];var dr=0;return bJ(arguments,{},dp,dq,null,true);function dp(dt,du){var dv={};dv.notCallback=true;dv.goformId="DISCONNECT_NETWORK";return dv}function dq(dt){if(dt.result=="success"){dr=new Date().getTime();c1(dn)}else{ds({result:false})}}function dn(dt){if(dt.ppp_status=="ppp_disconnecting"){bF.connectStatus="ppp_disconnecting"}else{if(dt.ppp_status=="ppp_disconnected"){C(dn);bF.connectStatus="ppp_disconnected";ds({result:true,status:bF.connectStatus})}else{if(new Date().getTime()-dr<10000){bF.connectStatus="ppp_disconnecting"}else{C(dn);ds({result:false})}}}}}function m(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="APN_configtmp0,APN_configtmp1,APN_configtmp2,APN_configtmp3,APN_configtmp4,APN_configtmp5,APN_configtmp6,APN_configtmp7,APN_configtmp8,APN_configtmp9,APN_configtmp10,APN_configtmp11,APN_configtmp12,APN_configtmp13,APN_configtmp14,APN_configtmp15,APN_configtmp16,APN_configtmp17,APN_configtmp18,APN_configtmp19,ipv6_APN_configtmp0,ipv6_APN_configtmp1,ipv6_APN_configtmp2,ipv6_APN_configtmp3,ipv6_APN_configtmp4,ipv6_APN_configtmp5,ipv6_APN_configtmp6,ipv6_APN_configtmp7,ipv6_APN_configtmp8,ipv6_APN_configtmp9,ipv6_APN_configtmp10,ipv6_APN_configtmp11,ipv6_APN_configtmp12,ipv6_APN_configtmp13,ipv6_APN_configtmp14,ipv6_APN_configtmp15,ipv6_APN_configtmp16,ipv6_APN_configtmp17,ipv6_APN_configtmp18,ipv6_APN_configtmp19,m_profile_name,profile_name,wan_dial,pdp_type,pdp_select,index,Current_index,apn_auto_config,ipv6_apn_auto_config,apn_mode,wan_apn,ppp_auth_mode,ppp_username,ppp_passtmp,ipv6_wan_apn,ipv6_pdp_type,ipv6_ppp_auth_mode,ipv6_ppp_username,ipv6_ppp_passtmp,apn_num_preset";ds.multi_data=1;return ds}function dp(dq){if(dq){return{APNs:dq.APN_configtmp0+"||"+dq.APN_configtmp1+"||"+dq.APN_configtmp2+"||"+dq.APN_configtmp3+"||"+dq.APN_configtmp4+"||"+dq.APN_configtmp5+"||"+dq.APN_configtmp6+"||"+dq.APN_configtmp7+"||"+dq.APN_configtmp8+"||"+dq.APN_configtmp9+"||"+dq.APN_configtmp10+"||"+dq.APN_configtmp11+"||"+dq.APN_configtmp12+"||"+dq.APN_configtmp13+"||"+dq.APN_configtmp14+"||"+dq.APN_configtmp15+"||"+dq.APN_configtmp16+"||"+dq.APN_configtmp17+"||"+dq.APN_configtmp18+"||"+dq.APN_configtmp19,ipv6APNs:dq.ipv6_APN_configtmp0+"||"+dq.ipv6_APN_configtmp1+"||"+dq.ipv6_APN_configtmp2+"||"+dq.ipv6_APN_configtmp3+"||"+dq.ipv6_APN_configtmp4+"||"+dq.ipv6_APN_configtmp5+"||"+dq.ipv6_APN_configtmp6+"||"+dq.ipv6_APN_configtmp7+"||"+dq.ipv6_APN_configtmp8+"||"+dq.ipv6_APN_configtmp9+"||"+dq.ipv6_APN_configtmp10+"||"+dq.ipv6_APN_configtmp11+"||"+dq.ipv6_APN_configtmp12+"||"+dq.ipv6_APN_configtmp13+"||"+dq.ipv6_APN_configtmp14+"||"+dq.ipv6_APN_configtmp15+"||"+dq.ipv6_APN_configtmp16+"||"+dq.ipv6_APN_configtmp17+"||"+dq.ipv6_APN_configtmp18+"||"+dq.ipv6_APN_configtmp19,apnMode:dq.apn_mode,profileName:dq.m_profile_name||dq.profile_name,wanDial:dq.wan_dial,pdpType:dq.pdp_type=="IP"?"IP":dq.ipv6_pdp_type,pdpSelect:dq.pdp_select,index:dq.index,currIndex:dq.Current_index,autoApns:dq.apn_auto_config,autoApnsV6:dq.ipv6_apn_auto_config,wanApn:dq.wan_apn,authMode:dq.ppp_auth_mode.toLowerCase(),username:dq.ppp_username,password:dq.ppp_passtmp,dnsMode:"",dns1:"",dns2:"",wanApnV6:dq.ipv6_wan_apn,authModeV6:dq.ipv6_ppp_auth_mode.toLowerCase(),usernameV6:dq.ipv6_ppp_username,passwordV6:dq.ipv6_ppp_passtmp,dnsModeV6:"",dns1V6:"",dns2V6:"",apnNumPreset:dq.apn_num_preset}}else{return{result:false}}}}function aA(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={apn_action:"delete",apn_mode:"manual",index:dq.index};ds.goformId="APN_PROC_EX";return ds}function dp(dq){if(dq.result=="success"){return{result:true}}else{return{result:false}}}}function bH(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,ds){var dr={goformId:"APN_PROC_EX",apn_mode:dq.apnMode};if(dq.apnMode=="manual"){dr.apn_action="set_default";dr.set_default_flag="1";dr.pdp_type=dq.pdpType;dr.index=dq.index}return dr}function dp(dq){if(dq.result=="success"){return{result:true}}else{return{result:false}}}}function by(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={goformId:"APN_PROC_EX",apn_action:"save",apn_mode:"manual",profile_name:dq.profileName,wan_dial:"*99#",pdp_type:dq.pdpType,pdp_select:"auto",index:dq.index};if(dq.pdpType=="IP"){c0.extend(ds,{wan_apn:dq.wanApn,ppp_auth_mode:dq.authMode,ppp_username:dq.username,ppp_passtmp:dq.password})}else{if(dq.pdpType=="IPv6"){c0.extend(ds,{ipv6_wan_apn:dq.wanApnV6,ipv6_ppp_auth_mode:dq.authModeV6,ipv6_ppp_username:dq.usernameV6,ipv6_ppp_passtmp:dq.passwordV6})}else{c0.extend(ds,{wan_apn:dq.wanApn,ppp_auth_mode:dq.authMode,ppp_username:dq.username,ppp_passtmp:dq.password,dns_mode:dq.dnsMode,prefer_dns_manual:dq.dns1,standby_dns_manual:dq.dns2,ipv6_wan_apn:dq.wanApnV6,ipv6_ppp_auth_mode:dq.authModeV6,ipv6_ppp_username:dq.usernameV6,ipv6_ppp_passtmp:dq.passwordV6})}}return ds}function dp(dq){if(dq.result=="success"){return{result:true}}else{return{result:false}}}}var c7=["modem_main_state","pin_status","blc_wan_mode","blc_wan_auto_mode","loginfo","fota_new_version_state","fota_current_upgrade_state","fota_upgrade_selector","network_provider_spn","network_provider","is_mandatory","sta_count","m_sta_count"];var ax=["signalbar","network_type","sub_network_type","ppp_status","internet_status","EX_SSID1","sta_ip_status","EX_wifi_profile","m_ssid_enable","wifi_cur_state","SSID1","simcard_roam","lan_ipaddr","battery_charging","cstm_webui_battery","battery_vol_percent","battery_pers","spn_name_data","spn_b1_flag","spn_b2_flag","realtime_tx_bytes","realtime_rx_bytes","realtime_time","realtime_tx_thrpt","realtime_rx_thrpt","monthly_rx_bytes","monthly_tx_bytes","traffic_alined_delta","monthly_time","date_month","data_volume_limit_switch","data_volume_limit_size","data_volume_alert_percent","data_volume_limit_unit","roam_setting_option","upg_roam_switch","fota_package_already_download","ssid","show_ssid_on_lcd","dial_mode","ethwan_mode","default_wan_name","vpn_state","connect_status"];if(aK.HAS_SMS){c0.merge(ax,["sms_received_flag","sts_received_flag","sms_unread_num"])}var aX=[];var bW=[bw];function aY(){if(!cZ){setTimeout(function(){aY()},1000);return}var dn=cF();dj(dn,function(dp){for(var dq=0;dq<bW.length;dq++){if(typeof bW[dq]==="function"){bW[dq](dp)}}c0.merge(bW,aX);aX=[];setTimeout(function(){aY()},1000)},function(){cV();setTimeout(function(){aY()},1000)},false)}function cF(){var dn={multi_data:1};if(window.location.hash&&window.location.hash!="#entry"&&bF.isLoggedIn){if(aK.HAS_SMS){dn.sms_received_flag_flag=0;dn.sts_received_flag_flag=0}if(ax.length>0&&cr.indexOf(c7,ax[0])==-1){c0.each(ax,function(dp,dq){c7.push(dq)})}}else{if(ax.length>0&&cr.indexOf(c7,ax[0])!=-1){c7=cr.without(c7,ax)}}dn.cmd=c7.join(",");return dn}function c1(dn){if(cr.indexOf(aX,dn)==-1){aX.push(dn)}}function C(dn){bW=cr.without(bW,dn);if(bW.length==0){bW.push(bw)}return aX}function dc(dn){if(cr.indexOf(c7,dn)==-1){c7.push(dn)}}function bz(dn){c7=cr.without(c7,dn);return c7}function bw(dp){bF.defaultWanName=dp.default_wan_name;bF.signalImg=typeof dp.signalbar=="undefined"?"0":dp.signalbar;bF.networkType=dp.sub_network_type?dp.sub_network_type:(dp.network_type?dp.network_type:"");if(bF.networkType.toLowerCase().indexOf("limited_service")!=-1||bF.networkType.toLowerCase().indexOf("limited service")!=-1){bF.networkType="limited_service"}else{if(bF.networkType.toLowerCase().indexOf("no_service")!=-1||bF.networkType.toLowerCase().indexOf("no service")!=-1){bF.networkType="no_service"}}bF.networkOperator=dp.network_provider_spn?dp.network_provider_spn:dp.network_provider?dp.network_provider:"";bF.spn_b1_flag=dp.spn_b1_flag;bF.spn_b2_flag=dp.spn_b2_flag;bF.spn_name_data=dp.spn_name_data;bF.connectStatus=typeof dp.ppp_status=="undefined"?"ppp_disconnected":dp.ppp_status;bF.rj45ConnectStatus=dp.internet_status;bF.ethWanMode=dp.ethwan_mode;bF.ssid1AttachedNum=dp.sta_count==""?0:parseInt(dp.sta_count,10);bF.ssid2AttachedNum=dp.m_sta_count==""?0:parseInt(dp.m_sta_count,10);bF.roamingStatus=aF(bF.networkType,dp.modem_main_state,dp.simcard_roam);bF.wifiStatus=dp.wifi_cur_state=="1";bF.simStatus=dp.modem_main_state;bF.pinStatus=dp.pin_status;var dq=3*60*60;var dn=(dp.battery_vol_percent&&dp.battery_vol_percent.length>0)?dp.battery_vol_percent:100;bF.batteryPers=dp.battery_pers;var dr=Math.round(dq*(1-dn/100));bF.batteryStatus=(typeof dp.battery_charging=="undefined")?"0":dp.battery_charging;bF.batteryShow=dp.cstm_webui_battery;bF.batteryLevel=dn;bF.batteryTime=dr.toString();bF.data_counter={uploadRate:dp.realtime_tx_thrpt==""?0:dp.realtime_tx_thrpt,downloadRate:dp.realtime_rx_thrpt==""?0:dp.realtime_rx_thrpt,currentSent:dp.realtime_tx_bytes==""?0:dp.realtime_tx_bytes,currentReceived:dp.realtime_rx_bytes==""?0:dp.realtime_rx_bytes,currentConnectedTime:dp.realtime_time==""?0:dp.realtime_time,monthlySent:dp.monthly_tx_bytes==""?0:dp.monthly_tx_bytes,monthlyReceived:dp.monthly_rx_bytes==""?0:dp.monthly_rx_bytes,traffic_alined_delta:dp.traffic_alined_delta==""?0:dp.traffic_alined_delta,monthlyConnectedTime:dp.monthly_time==""?0:dp.monthly_time,month:dp.date_month==""?1:dp.date_month};bF.ssid=dp.SSID1;bF.authMode=dp.AuthMode;bF.isLoggedIn=aK.HAS_LOGIN?dp.loginfo=="ok":true;if(aK.HAS_SMS){if(!bF.newSmsReceived){bF.newSmsReceived=dp.sms_received_flag>0}if(!bF.smsReportReceived){bF.smsReportReceived=dp.sts_received_flag>0}if(typeof dp.sms_dev_unread_num!="undefined"){bF.smsUnreadCount=aK.SMS_UNREAD_NUM_INCLUDE_SIM?parseInt(dp.sms_dev_unread_num|0,10)+parseInt(dp.sms_sim_unread_num|0,10):parseInt(dp.sms_dev_unread_num|0,10)}else{bF.smsUnreadCount=parseInt(dp.sms_unread_num|0,10)}}if(dp.data_volume_limit_switch=="1"){bF.limitVolumeEnable=true;bF.limitVolumeType=dp.data_volume_limit_unit=="data"?"1":"0";bF.limitVolumePercent=dp.data_volume_alert_percent;if(dp.data_volume_limit_unit=="data"){var ds=dp.data_volume_limit_size.split("_");bF.limitVolumeSize=ds[0]*ds[1]*1024*1024}else{bF.limitVolumeSize=dp.data_volume_limit_size*60*60}}else{bF.limitVolumeEnable=false;bF.limitVolumeType="1";bF.limitVolumePercent="100";bF.limitVolumeSize="0"}bF.connectWifiProfile=dp.EX_wifi_profile;bF.connectWifiSSID=dp.EX_SSID1;bF.connectWifiStatus=dp.sta_ip_status;bF.multi_ssid_enable=dp.m_ssid_enable;bF.roamMode=dp.roam_setting_option;if(dp.blc_wan_mode=="AUTO"){bF.blc_wan_mode=dp.blc_wan_auto_mode?dp.blc_wan_auto_mode:"AUTO_PPP"}else{bF.blc_wan_mode=dp.blc_wan_mode?dp.blc_wan_mode:"PPP"}bF.new_version_state=dp.fota_new_version_state=="has_critical"||dp.fota_new_version_state=="has_optional"||dp.fota_new_version_state=="already_has_pkg";bF.current_upgrade_state=dp.fota_current_upgrade_state;if(bF.current_upgrade_state=="verify_failed"){bF.current_upgrade_state="upgrade_pack_error"}bF.fota_user_selector=dp.fota_upgrade_selector;bF.is_mandatory=dp.is_mandatory=="1"||dp.fota_new_version_state=="has_critical";bF.allowRoamingUpdate=dp.upg_roam_switch;bF.dialMode=dp.dial_mode;bF.fota_package_already_download=dp.fota_package_already_download;bF.connect_status=dp.connect_status;bF.vpn_state=dp.vpn_state}function cV(){bF.batteryStatus="0"}function aF(dp,dn,dq){if((""==c0.trim(dp))||"no_service"==dp.toLowerCase()||"limited_service"==dp.toLowerCase()||"modem_sim_undetected"==dn||"modem_waitpin"==dn||"modem_waitpuk"==dn){return false}if("Internal"==dq||"International"==dq){return true}else{return false}}c0(document).ready(function(){setTimeout(function(){aY()},0)});function bv(dp,dn,dr,dt){if((typeof(dp)!=="string")||(dp==="")||(typeof(dn)!=="number")||(isNaN(dn))){if(typeof(dt)==="function"){dt(false);return}}var ds=-1;if(dn===0){ds=0}else{if(dn===2){ds=2}else{if(dn==7){ds=7}else{ds=-1}}}if(-1===ds){if(typeof(dt)==="function"){dt(false);return}}var dq;if(dr.toString()=="NaN"){dq=""}else{dq=dr}dj({goformId:"SET_NETWORK",NetworkNumber:dp,Rat:dn,nSubrat:dq},function(dw){if(dw&&dw.result=="success"){var dv;var du=0;var dx=setInterval(function(){var dy=cE({cmd:"m_netselect_result"},false);if(!dy){dt(false);return}if(dy.m_netselect_result=="manual_success"){dv="1";window.clearInterval(dx);dt(true)}else{if(dy.m_netselect_result=="manual_fail"){dv="0";window.clearInterval(dx);dt(false)}else{if(du<120){du++}else{window.clearInterval(dx);dt(false)}}}},1000)}else{dt(false)}},function(du){dt(false)},true)}function cS(){var dr=arguments[1];return bJ(arguments,{},dp,dq,null,true);function dp(ds,dt){var du={};du.notCallback=true;du.goformId="PBM_CONTACT_ADD";du.location=ds.location;du.name=encodeMessage(ds.name);du.mobilephone_num=ds.mobile_phone_number;if(du.location==1){du.add_index_pc=ds.index;du.homephone_num=ds.home_phone_number;du.officephone_num=ds.office_phone_number;du.email=encodeMessage(ds.mail);du.groupchoose=ds.group;if(!du.groupchoose){du.groupchoose="common"}}else{du.edit_index=ds.index}if(ds.delId!=undefined){du.delId=ds.delId}return du}function dq(ds){if(ds&&ds.result=="success"){bi("pbm_write_flag",dn)}else{dr(ds)}}function dn(ds){a5(ds,dr,dn)}}function a5(dn,dq,dp){if(dn.pbm_write_flag=="0"){n("pbm_write_flag",dp);dq({result:"success"})}else{if(dn.pbm_write_flag=="6"||dn.pbm_write_flag=="7"||dn.pbm_write_flag=="8"||dn.pbm_write_flag=="9"||dn.pbm_write_flag=="10"||dn.pbm_write_flag=="11"||dn.pbm_write_flag=="14"){n("pbm_write_flag",dp);dq({result:"fail"})}else{}}}function bu(){var dr=arguments[1];return bJ(arguments,{},dp,dq,null,true);function dp(ds,dt){var du={};du.notCallback=true;du.goformId="PBM_CONTACT_DEL";du.del_option="delete_num";du.delete_id=ds.indexs.join(",");return du}function dq(ds){if(ds&&ds.result=="success"){bi("pbm_write_flag",dn)}else{dr(ds)}}function dn(ds){a5(ds,dr,dn)}}function aZ(){var dr=arguments[1];return bJ(arguments,{},dn,dq,null,true);function dn(ds,dt){var du={};du.notCallback=true;du.goformId="PBM_CONTACT_DEL";du.del_option="delete_all";du.del_all_location=ds.location;return du}function dq(ds){if(ds&&ds.result=="success"){bi("pbm_write_flag",dp)}else{dr(ds)}}function dp(ds){a5(ds,dr,dp)}}function ab(){var dr=arguments[1];return bJ(arguments,{},dp,dq,null,true);function dp(ds,dt){var du={};du.notCallback=true;du.goformId="PBM_CONTACT_DEL";du.del_option="delete_all_by_group";du.del_all_location=3;du.del_group=ds.group;return du}function dq(ds){if(ds&&ds.result=="success"){bi("pbm_write_flag",dn)}else{dr(ds)}}function dn(ds){a5(ds,dr,dn)}}function ah(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="SET_CONNECTION_MODE";ds.ConnectionMode=dq.connectionMode;ds.roam_setting_option=dq.isAllowedRoaming;return ds}function dp(dq){if(dq){return dq}else{callback(dq)}}}function K(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="ConnectionMode";return ds}function dp(dr){if(dr){var dq={};dq.connectionMode=dr.connectionMode;dq.isAllowedRoaming=dr.autoConnectWhenRoaming;return dq}else{return X}}}function a(dr,dn){if(dr[0].data_per_page==0){return{pbm_data:[]}}return bJ(dr,{},dp,dq,null,false);function dp(ds,dt){var du={};du.mem_store=dn;if(dn==2){du.cmd="pbm_data_total"}else{du.cmd="pbm_data_info"}du.page=ds.page;du.data_per_page=ds.data_per_page;du.orderBy=ds.orderBy;du.isAsc=ds.isAsc;return du}function dq(ds){if(ds&&ds.pbm_data){var dt=[];c0.each(ds.pbm_data,function(du){dt.push({pbm_id:ds.pbm_data[du].pbm_id,pbm_location:ds.pbm_data[du].pbm_location,pbm_number:ds.pbm_data[du].pbm_number,pbm_anr:ds.pbm_data[du].pbm_anr,pbm_anr1:ds.pbm_data[du].pbm_anr1,pbm_group:ds.pbm_data[du].pbm_group,pbm_name:decodeMessage(ds.pbm_data[du].pbm_name),pbm_email:decodeMessage(ds.pbm_data[du].pbm_email)})});return{pbm_data:dt}}else{return X}}}function b7(){if(arguments[0].data_per_page==0){return{pbm_data:[]}}return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="pbm_data_total";ds.mem_store=3;ds.pbm_group=dq.group;ds.page=dq.page;ds.data_per_page=dq.data_per_page;ds.orderBy=dq.orderBy;ds.isAsc=dq.isAsc;return ds}function dp(dq){if(dq&&dq.pbm_data){var dr=[];c0.each(dq.pbm_data,function(ds){dr.push({pbm_id:dq.pbm_data[ds].pbm_id,pbm_location:dq.pbm_data[ds].pbm_location,pbm_number:dq.pbm_data[ds].pbm_number,pbm_anr:dq.pbm_data[ds].pbm_anr,pbm_anr1:dq.pbm_data[ds].pbm_anr1,pbm_group:dq.pbm_data[ds].pbm_group,pbm_name:decodeMessage(dq.pbm_data[ds].pbm_name),pbm_email:decodeMessage(dq.pbm_data[ds].pbm_email)})});return{pbm_data:dr}}else{return X}}}function dg(){return a(arguments,1)}function cT(){return a(arguments,0)}function T(){return a(arguments,2)}function cs(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="pbm_init_flag";return ds}function dp(dq){if(dq){return dq}else{return X}}}function cp(dr,dq){return bJ(dr,{},dn,dp,null,false);function dn(ds,dt){var du={};du.cmd="pbm_capacity_info";if(dq){du.pbm_location="pbm_sim"}else{du.pbm_location="pbm_native"}return du}function dp(ds){if(ds){return ds}else{return X}}}function b2(){var dn=cp(arguments,true);return{simPbmTotalCapacity:parseInt(dn.pbm_sim_max_record_num),simPbmUsedCapacity:parseInt(dn.pbm_sim_used_record_num),simType:dn.pbm_sim_type,maxNameLen:parseInt(dn.pbm_sim_max_name_len),maxNumberLen:parseInt(dn.pbm_sim_max_number_len)>40?40:parseInt(dn.pbm_sim_max_number_len)}}function ai(){var dn=cp(arguments,false);return{pcPbmTotalCapacity:parseInt(dn.pbm_dev_max_record_num),pcPbmUsedCapacity:parseInt(dn.pbm_dev_used_record_num)}}function bN(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={cmd:"lan_station_list"};return ds}function dp(dq){var dt=[];var du=dq.lan_station_list||dq.station_list;for(var ds=0;du&&ds<du.length;ds++){var dv={};dv.macAddress=du[ds].mac_addr;var dr=du[ds].hostname;dv.hostName=dr==""?c0.i18n.prop("unknown"):(dr=="--")?c0.i18n.prop("unknown"):dr;dv.ipAddress=du[ds].ip_addr;dt.push(dv)}return{attachedDevices:dt}}}function bA(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={cmd:"station_list"};return ds}function dp(dq){var dt=[];var du=dq.station_list;for(var ds=0;du&&ds<du.length;ds++){var dv={};dv.macAddress=du[ds].mac_addr;var dr=du[ds].hostname;dv.hostName=dr==""?c0.i18n.prop("unknown"):(dr=="--")?c0.i18n.prop("unknown"):dr;dv.ipAddress=du[ds].ip_addr;dv.timestamp=du[ds].timestamp;dv.duration=du[ds].duration;dv.rx=du[ds].rx;dv.tx=du[ds].tx;dt.push(dv)}return{attachedDevices:dt}}}function k(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="SET_WEB_LANGUAGE";ds.Language=dq.Language;return ds}function dp(dq){if(dq){return dq}else{return X}}}function A(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="Language";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.Language=(dr&&dr.Language)?dr.Language:"en";return dq}else{return X}}}function di(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="support_languages";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.supLanguages=dr.support_languages.split("+");return dq}else{return X}}}function bR(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="SET_BEARER_PREFERENCE";ds.BearerPreference=dq.strBearerPreference;return ds}function dp(dq){if(dq){return dq}else{return X}}}function aG(dq){c0.post("/goform/goform_set_cmd_process",{goformId:"SCAN_NETWORK"},function(dr){if(dr.result=="success"){dn()}else{dq(false,[])}},"json").error(function(){dq(false,[])});function dn(){c0.getJSON("/goform/goform_get_cmd_process",{cmd:"m_netselect_status",_:new Date().getTime()},function(dr){if(dr.m_netselect_status=="manual_selecting"){setTimeout(dn,1000)}else{c0.getJSON("/goform/goform_get_cmd_process",{cmd:"m_netselect_contents",_:new Date().getTime()},function(ds){if(trim(ds.m_netselect_contents)!=""){dp(ds.m_netselect_contents)}else{dq(false,[])}}).error(function(){dq(false,[])})}}).error(function(){dq(false,[])})}function dp(dr){var dv=/([^,;]*),([^,]*),([^,]*),([^,]*),([^,;]*)/g;var dw=[];var dx;var du=dr.split(";");var ds="";for(i=0;i<du.length;i++){var dt=du[i].split(",").length;if(dt==4){ds+=du[i]+",NON;"}else{ds+=du[i]+";"}}while(dx=dv.exec(ds)){if(dx!=null){dw.push({strShortName:dx[2].replace(/\"/g,""),strNumeric:dx[3].replace(/\D/g,""),nRat:parseInt(dx[4],10),nState:parseInt(dx[1],10),SubAct:parseInt(dx[5],10)})}}dq(true,dw)}}function S(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="current_network_mode,m_netselect_save,net_select_mode,m_netselect_contents,net_select,ppp_status,modem_main_state";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.current_network_mode=dr.current_network_mode;dq.net_select_mode=dr.net_select_mode;dq.m_netselect_save=dr.m_netselect_save;dq.m_netselect_contents=dr.m_netselect_contents;dq.net_select=dr.net_select;dq.ppp_status=dr.ppp_status;dq.modem_main_state=dr.modem_main_state;return dq}else{return X}}}function aO(){return bJ(arguments,{},dn,dp,{},false);function dn(dq,dr){var ds={cmd:"sms_data_total",page:dq.page,data_per_page:aK.SMS_DATABASE_SORT_SUPPORT?dq.smsCount:500,mem_store:dq.nMessageStoreType,tags:dq.tags,order_by:dq.orderBy};return ds}function dp(dq){if(dq&&dq.messages&&dq.messages.length>0){return{messages:cW(dq.messages)}}else{return{messages:[]}}}}function cW(dq,dv){var dw=[];for(var dr=0;dr<dq.length;dr++){if(!aK.SHOW_UN_COMPLETE_CONCAT_SMS&&typeof dq[dr].received_all_concat_sms!="undefined"&&dq[dr].received_all_concat_sms=="0"){continue}var dt={};dt.id=dq[dr].id;dt.number=dq[dr].number;dt.content=dv?dq[dr].content:a2(dq[dr].content);dt.time=transTime("20"+dq[dr].date);dt.isNew=dq[dr].tag=="1";dt.groupId=dq[dr].draft_group_id;dt.tag=dq[dr].tag;dt.receivedAll=dq[dr].received_all_concat_sms=="1";dw.push(dt)}if(!aK.SMS_DATABASE_SORT_SUPPORT){var dn=[];var ds=[];for(var dr=dw.length;dr--;){var dp=dw[dr];var du=c0.inArray(dp.id,dn);if(du==-1){dn.push(dp.id);ds.push(dp)}else{if(dp.content.length>ds[du].content.length){ds[du]=dp}}}return cr.sortBy(ds,function(dx){return 0-dx.id})}else{return dw}}function a2(dn){return decodeMessage(escapeMessage(dn))}function a4(){var dr=arguments[1];var dp=arguments[2]?arguments[2]:dr;return bJ(arguments,{},dn,dq,null,true);function dn(ds,dt){var du={goformId:"SEND_SMS",notCallback:true,Number:ds.number,sms_time:getCurrentTimeString(),MessageBody:escapeMessage(encodeMessage(ds.message)),ID:ds.id,encode_type:getEncodeType(ds.message).encodeType};return du}function dq(ds){if(!ds){dp(c0.extend(X,{errorType:"sendFail",errorText:"send_fail_try_again"}));return}if(ds.result=="success"){setTimeout(function(){cX({smsCmd:4,errorType:"sendFail",errorText:"send_fail_try_again"},dr,dp)},1000)}else{dp(c0.extend(X,{errorType:"sendFail",errorText:"send_fail_try_again"}))}}}function aL(){var dr=arguments[1];var dp=arguments[2]?arguments[2]:dr;return bJ(arguments,{},dn,dq,null,true);function dn(ds,dt){var du={notCallback:true,goformId:"SAVE_SMS",SMSMessage:escapeMessage(encodeMessage(ds.message)),SMSNumber:ds.numbers.join(";")+";",Index:ds.index,encode_type:getEncodeType(ds.message).encodeType,sms_time:ds.currentTimeString,draft_group_id:ds.groupId};return du}function dq(ds){if(!ds){dp(c0.extend(X,{errorType:"saveFail",errorText:"save_fail"}));return}if(ds.result=="success"){cX({smsCmd:5,errorType:"saveFail",errorText:"save_fail"},dr,dp)}else{dp(c0.extend(X,{errorType:"saveFail",errorText:"save_fail"}))}}}function b6(){var ds=arguments[1];var dq=arguments[2]?arguments[2]:ds;return bJ(arguments,{},dp,dr,null,true);function dp(dt,du){var dv={goformId:"ALL_DELETE_SMS",notCallback:true,which_cgi:dt.location};return dv}function dr(dt){if(!dt){dq(c0.extend(X,{errorType:"deleteFail",errorText:"delete_fail_try_again"}));return}if(dt.result=="success"){bi("sms_cmd_status_info",dn)}else{dq(c0.extend(X,{errorType:"deleteFail",errorText:"delete_fail_try_again"}))}}function dn(du){var dt=du.sms_cmd_status_info;if(dt=="2"){n("sms_cmd_status_info",dn);dq(c0.extend(X,{errorType:"deleteFail",errorText:"delete_fail_try_again"}))}else{if(dt=="3"){n("sms_cmd_status_info",dn);ds({result:true})}}}}function cM(){var dr=arguments[1];var dp=arguments[2]?arguments[2]:dr;return bJ(arguments,{},dn,dq,null,true);function dn(dt,du){var ds=dt.ids.join(";")+";";var dv={goformId:"DELETE_SMS",msg_id:ds,notCallback:true};return dv}function dq(ds){if(!ds){dp(c0.extend(X,{errorType:"deleteFail",errorText:"delete_fail_try_again"}));return}if(ds.result=="success"){cX({smsCmd:6,errorType:"deleteFail",errorText:"delete_fail_try_again"},dr,dp)}else{dp(c0.extend(X,{errorType:"deleteFail",errorText:"delete_fail_try_again"}))}}}function cX(dp,dq,dn){dj({cmd:"sms_cmd_status_info",sms_cmd:dp.smsCmd},function(ds){if(ds){var dr=ds.sms_cmd_status_result;if(dr=="2"){dn(c0.extend(X,{errorType:dp.errorType,errorText:dp.errorText}))}else{if(dr=="3"){dq({result:"success"})}else{window.setTimeout(function(){cX(dp,dq,dn)},1000)}}}else{dn(c0.extend(X,{errorType:dp.errorType,errorText:dp.errorText}))}},function(dr){dn(c0.extend(X,{errorType:dp.errorType,errorText:dp.errorText}))},false)}function aM(){if(aK.smsIsReady){var dq=arguments[1];if(dq){return dq({sms_cmd:"1",sms_cmd_status_result:"3"})}else{return{sms_cmd:"1",sms_cmd_status_result:"3"}}}else{return bJ(arguments,{},dn,dp,null,false)}function dn(dr,ds){var dt={};dt.cmd="sms_cmd_status_info";dt.sms_cmd=1;return dt}function dp(dr){if(dr){if(dr.sms_cmd_status_result=="3"){aK.smsIsReady=true}return dr}else{return X}}}function ag(){return bJ(arguments,{},dn,dp,null,true);function dn(dr,ds){var dq=dr.ids.join(";");if(dr.ids.length>0){dq+=";"}var dt={goformId:"SET_MSG_READ",msg_id:dq,tag:0};return dt}function dp(dq){if(dq.result=="success"){return{result:true}}else{return{result:false}}}}function L(){return bJ(arguments,{},dn,dp,{},false);function dn(dq,dr){var ds={cmd:"sms_status_rpt_data",page:dq.page,data_per_page:dq.smsCount};return ds}function dp(dq){if(dq){return{messages:cW(dq.messages,true)}}else{return X}}}function bE(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds=c0.extend({},dq);ds.goformId="LOGOUT";return ds}function dp(dq){if(dq&&dq.result=="success"){bF.isLoggedIn=false;return{result:true}}else{return c0.extend(X,{errorType:"loggedOutError"})}}}function b9(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.newPassword=aK.PASSWORD_ENCODE?Base64.encode(dq.newValue):dq.newValue;ds.oldPassword=aK.PASSWORD_ENCODE?Base64.encode(dq.oldValue):dq.oldValue;ds.goformId="CHANGE_PASSWORD";return ds}function dp(dq){if(dq&&dq.result==="success"){return{result:true}}else{return c0.extend(X,{errorType:"badPassword"})}}}function c9(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="pinnumber,pin_status,puknumber";ds.multi_data=1;return ds}function dp(dq){if(dq){return dq}else{return X}}}function dm(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="ENABLE_PIN";ds.OldPinNumber=dq.oldPin;return ds}function dp(dq){if(dq&&dq.result==="success"){return{result:true}}else{return{result:false}}}}function cb(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="DISABLE_PIN";ds.OldPinNumber=dq.oldPin;return ds}function dp(dq){if(dq&&dq.result==="success"){return{result:true}}else{return{result:false}}}}function p(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="ENABLE_PIN";ds.OldPinNumber=dq.oldPin;ds.NewPinNumber=dq.newPin;return ds}function dp(dq){if(dq&&dq.result==="success"){return{result:true}}else{return{result:false}}}}function bD(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="lan_ipaddr,lan_netmask,mac_address,dhcpEnabled,dhcpStart,dhcpEnd,dhcpLease_hour";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.ipAddress=dr.lan_ipaddr;dq.subnetMask=dr.lan_netmask;dq.macAddress=dr.mac_address;dq.dhcpServer=dr.dhcpEnabled;dq.dhcpStart=dr.dhcpStart;dq.dhcpEnd=dr.dhcpEnd;dq.dhcpLease=parseInt(dr.dhcpLease_hour,10);return dq}else{return X}}}function bZ(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="dns_manual_enable,dhcpDns";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.dnsServerMode=dr.dns_manual_enable;dq.dnsPrimary=dr.dhcpDns;return dq}else{return X}}}function co(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="DHCP_SETTING";ds.lanIp=dq.ipAddress;ds.lanNetmask=dq.subnetMask;ds.lanDhcpType=dq.dhcpServer=="1"?"SERVER":"DISABLE";if(ds.lanDhcpType=="SERVER"){ds.dhcpStart=dq.dhcpStart;ds.dhcpEnd=dq.dhcpEnd;ds.dhcpLease=dq.dhcpLease}ds.dhcp_reboot_flag=1;return ds}function dp(dq){if(dq){return dq}else{return X}}}function cL(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="DNS_SETTING";ds.dns_manual_enable=dq.dnsServerMode;ds.dhcpDns=dq.dnsPrimary;return ds}function dp(dq){if(dq){return dq}else{return X}}}function au(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="tr069_enable,tr069_acs_username,tr069_acs_password,tr069_acs_url,tr069_inform_enable,tr069_inform_interval,tr069_cpe_auth_enable,tr069_cpe_username,tr069_cpe_password";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.TR069Server=dr.tr069_enable;dq.AcsName=dr.tr069_acs_username;dq.AcsPassword=dr.tr069_acs_password;dq.AcsAddress=dr.tr069_acs_url;dq.InformEnable=dr.tr069_inform_enable;dq.ReportCycle=dr.tr069_inform_interval;dq.AuthEnable=dr.tr069_cpe_auth_enable;dq.CpeName=dr.tr069_cpe_username;dq.CpePassword=dr.tr069_cpe_password;return dq}else{return X}}}function l(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="GORORM_SET_TR069";ds.tr069enanble=dq.tr069Server;ds.tr069AcsName=dq.AcsName;ds.tr069AcsPassword=dq.AcsPassword;ds.tr069AcsAddress=dq.AcsAddress;ds.tr069InformEnable=dq.InformEnable;ds.tr069InformInterval=dq.ReportCycle;ds.tr069AuthEnable=dq.AuthEnable;ds.tr069CpeName=dq.CpeName;ds.tr069CpePassword=dq.CpePassword;return ds}function dp(dq){if(dq){return dq}else{return X}}}function df(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="vpn_name,vpn_password,vpn_server_ip,vpn_state,vpn_type,vpn_mode,connect_status,vpn_status";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.vpn_name=dr.vpn_name;dq.vpn_password=dr.vpn_password;dq.vpn_server_ip=dr.vpn_server_ip;dq.vpn_state=dr.vpn_state;dq.vpn_type=dr.vpn_type;dq.vpn_mode=dr.vpn_mode;dq.connect_status=dr.connect_status;dq.vpn_status=dr.vpn_status;return dq}else{return X}}}function P(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="GOFORM_OPEN_VPN";ds.vpn_name=dq.vpn_name;ds.vpn_password=dq.vpn_password;ds.vpn_server_ip=dq.vpn_server_ip;ds.vpn_type=dq.vpn_type;return ds}function dp(dq){if(dq){return dq}else{return X}}}function bx(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="GOFORM_OPEN_VPN";return ds}function dp(dq){if(dq){return dq}else{return X}}}function aJ(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="GOFORM_CLOSE_VPN";return ds}function dp(dq){if(dq){return dq}else{return X}}}function bY(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="cstm_webui_imei,cstm_webui_ttl,cstm_webui_dns,cstm_webui_bandselect,band_select_enable,ussd_enable,vpn_enable,dns_manual_func_enable,tr069_func_enable,cstm_webui_restartplan,cstm_wifi_sleep";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.imeiFuncEnable=dr.cstm_webui_imei;dq.ttlFuncEnable=dr.cstm_webui_ttl;dq.dnsFuncEnable=dr.cstm_webui_dns;dq.bandSelectFuncEnable=dr.cstm_webui_bandselect;dq.ussdEnable=dr.ussd_enable=="1";dq.vpnEnable=dr.vpn_enable=="1";dq.dnsManualEnable=dr.dns_manual_func_enable=="1";dq.wifiSleepEnable=dr.cstm_wifi_sleep=="1";var dt=bX().CurrentPasswd;var ds=bX().RootPasswd;if(dr.cstm_webui_restartplan=="2"){if(dt!=ds&&dt!="factoryAdmin"){dq.restartPlanEnable=true}else{dq.restartPlanEnable=dr.cstm_webui_restartplan=="2"}}else{if(dr.cstm_webui_restartplan=="1"){dq.restartPlanEnable=dr.cstm_webui_restartplan=="1"}else{dq.restartPlanEnable=false}}if(dt!=ds&&dt!="factoryAdmin"){dq.tr069FuncEnable=true}else{dq.tr069FuncEnable=dr.tr069_func_enable=="1"}return dq}else{return X}}}function a1(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="keep_alive_enable,ping_detect_url1,ping_detect_url2";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.keep_alive_enable=dr.keep_alive_enable;dq.ping_detect_url1=dr.ping_detect_url1;dq.ping_detect_url2=dr.ping_detect_url2;return dq}else{return X}}}function bC(){return bJ(arguments,{},dn,dp,{},true);function dn(dq){var dr={};dr.goformId="KEEP_ALIVE_SET";dr.keep_alive_enable=dq.keep_alive_enable;dr.ping_detect_url1=dq.ping_detect_url1;dr.ping_detect_url2=dq.ping_detect_url2;return dr}function dp(dq){if(dq&&dq.result==="success"){return{result:true}}else{return{result:false}}}}function cc(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="sms_parameter_info";return ds}function dp(dr){if(dr){var dq={};dq.centerNumber=dr.sms_para_sca;dq.memStroe=dr.sms_para_mem_store;dq.deliveryReport=dr.sms_para_status_report;switch(parseInt(dr.sms_para_validity_period,10)){case 143:dq.validity="twelve_hours";break;case 167:dq.validity="one_day";break;case 173:dq.validity="one_week";break;case 244:dq.validity="largest";break;case 255:dq.validity="largest";break;default:dq.validity="twelve_hours";break}return dq}else{return X}}}function aU(){var dr=arguments[1];var dp=arguments[2]?arguments[2]:dr;return bJ(arguments,{},dn,dq,null,true);function dn(ds,dt){var du={};du.goformId="SET_MESSAGE_CENTER";du.save_time=ds.validity;du.MessageCenter=ds.centerNumber;du.status_save=ds.deliveryReport;du.save_location="native";du.notCallback=true;return du}function dq(ds){if(!ds){dp(c0.extend(X,{errorType:"smsSettingFail",errorText:"error_info"}));return}if(ds.result=="success"){cX({smsCmd:3,errorType:"smsSettingFail",errorText:"error_info"},dr,dp)}else{dp(c0.extend(X,{errorType:"deleteFail",errorText:"delete_fail_try_again"}))}}}function s(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="EXECUTE_AT_COMMAND";ds.at_cmd=c0("#txtAtCmd").val().replace(/\s*/g,"").toUpperCase();return ds}function dp(dq){if(dq){return dq}else{return X}}}function az(){var dp={};if(aK.HAS_PARENTAL_CONTROL&&aK.currentUserInChildGroup!=false){dp={errorType:"no_auth"}}return bJ(arguments,dp,dn,dq,null,true);function dn(dr,ds){var dt={};dt.goformId="RESTORE_FACTORY_SETTINGS";return dt}function dq(dr){if(dr){return dr}else{return X}}}function ad(dn){var dp={};dp.cmd="restore_flag";dp.multi_data=1;dj(dp,function(dq){if(dq&&dq.restore_flag==="1"){dn()}else{setTimeout(function(){ad(dn)},5000)}},function(){setTimeout(function(){ad(dn)},5000)},false)}function cn(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="wifi_wps_index,WscModeOption,AuthMode,wifi_cur_state,EncrypType,wps_mode,WPS_SSID,m_ssid_enable,SSID1,m_SSID,m_EncrypType,m_AuthMode,wifi_sta_connection";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.wpsFlag=dr.WscModeOption;dq.authMode=dr.AuthMode;dq.wpsType=dr.wps_mode;dq.radioFlag=dr.wifi_cur_state=="1"?"1":"0";dq.encrypType=dr.EncrypType;dq.wpsSSID=dr.WPS_SSID;dq.ssidEnable=dr.m_ssid_enable;dq.ssid=dr.SSID1;dq.multiSSID=dr.m_SSID;dq.m_encrypType=dr.m_EncrypType;dq.wifi_wps_index=dr.wifi_wps_index;dq.AuthMode=dr.AuthMode;dq.m_AuthMode=dr.m_AuthMode;dq.ap_station_enable=dr.wifi_sta_connection;return dq}else{return X}}}function r(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="WIFI_WPS_SET";ds.WPS_SSID=dq.wpsSSID;ds.wps_mode=dq.wpsType;ds.wifi_wps_index=dq.wpsIndex;if(ds.wps_mode=="PIN"){ds.wps_pin=dq.wpsPin}return ds}function dp(dq){if(dq){return dq}else{return X}}}function ae(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="WIFI_M_WPS_SET";ds.m_WPS_SSID=dq.wpsSSID;ds.m_wps_mode=dq.wpsType;ds.m_wifi_wps_index=dq.wpsIndex;if(ds.m_wps_mode=="PIN"){ds.m_wps_pin=dq.wpsPin}return ds}function dp(dq){if(dq){return dq}else{return X}}}function cv(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="Sleep_interval";return ds}function dp(dr){if(dr){var dq={};dq.sleepMode=dr.Sleep_interval;return dq}else{return X}}}function bm(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="SET_WIFI_SLEEP_INFO";ds.sysIdleTimeToSleep=dq.sleepMode;return ds}function dp(dq){if(dq){return dq}else{return X}}}function b8(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="RemoteManagement,WANPingFilter";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.remoteFlag=dr.RemoteManagement=="1"?"1":"0";dq.pingFlag=dr.WANPingFilter=="1"?"1":"0";return dq}else{return X}}}function cQ(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="FW_SYS";ds.remoteManagementEnabled=dq.remoteFlag;ds.pingFrmWANFilterEnabled=dq.pingFlag;return ds}function dp(dq){if(dq){return dq}else{return X}}}function D(){return bJ(arguments,{},dn,dq,null,false);function dn(dr,ds){var dt={};dt.cmd="PortForwardEnable,PortForwardRules_0,PortForwardRules_1,PortForwardRules_2,PortForwardRules_3,PortForwardRules_4,PortForwardRules_5,PortForwardRules_6,PortForwardRules_7,PortForwardRules_8,PortForwardRules_9";dt.multi_data=1;return dt}function dq(ds){if(ds){var dr={};dr.portForwardEnable=ds.PortForwardEnable;var dt=[];if(ds.PortForwardRules_0!=""){dt.push([0,ds.PortForwardRules_0])}if(ds.PortForwardRules_1!=""){dt.push([1,ds.PortForwardRules_1])}if(ds.PortForwardRules_2!=""){dt.push([2,ds.PortForwardRules_2])}if(ds.PortForwardRules_3!=""){dt.push([3,ds.PortForwardRules_3])}if(ds.PortForwardRules_4!=""){dt.push([4,ds.PortForwardRules_4])}if(ds.PortForwardRules_5!=""){dt.push([5,ds.PortForwardRules_5])}if(ds.PortForwardRules_6!=""){dt.push([6,ds.PortForwardRules_6])}if(ds.PortForwardRules_7!=""){dt.push([7,ds.PortForwardRules_7])}if(ds.PortForwardRules_8!=""){dt.push([8,ds.PortForwardRules_8])}if(ds.PortForwardRules_9!=""){dt.push([9,ds.PortForwardRules_9])}dr.portForwardRules=dp(dt);return dr}else{return X}}function dp(dr){var dv=[];if(dr&&dr.length>0){for(var dt=0;dt<dr.length;dt++){var ds={};var du=dr[dt][1].split(",");ds.index=dr[dt][0];ds.ipAddress=du[0];ds.portRange=du[1]+" - "+du[2];ds.protocol=transProtocol(du[3]);ds.comment=du[4];dv.push(ds)}}return dv}}function ar(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="FW_FORWARD_ADD";ds.ipAddress=dq.ipAddress;ds.portStart=dq.portStart;ds.portEnd=dq.portEnd;ds.protocol=dq.protocol;ds.comment=dq.comment;return ds}function dp(dq){if(dq){return dq}else{return X}}}function cP(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="FW_FORWARD_DEL";ds.delete_id=dq.indexs.join(";")+";";return ds}function dp(dq){if(dq){return dq}else{return X}}}function aE(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="VIRTUAL_SERVER";ds.PortForwardEnable=dq.portForwardEnable;return ds}function dp(dq){if(dq){return dq}else{return X}}}function c(dt,ds,dn){var dr=dt+ds+"FFFFFFFFFFFFFFFFFFFFFFFF";var dv;var du;dv=dr.substring(0,24);du=dr.substring(0,16);var dq=bG.enc.Latin1.parse(dv);var dp=bG.enc.Latin1.parse(du);var dw=bG.AES.decrypt(dn,dq,{iv:dp,mode:bG.mode.CBC,padding:bG.pad.ZeroPadding}).toString(bG.enc.Utf8);return dw}function ba(){return bJ(arguments,{},dn,dp,null,false);function dn(dr,ds){var dt={};var dq=aK.PASSWORD_ENCODE?",WPAPSK1_encode":",imei,rnum_js,WPAPSK1_enaes";dt.cmd="pdp_type,ipv6_pdp_type,wifi_cur_state,SSID1,HideSSID,AuthMode,WscModeOption,ppp_status,apn_index,ipv6_apn_index,ipv6_APN_index,m_profile_name,apn_mode,EncrypType,DefaultKeyID,Key1Str1,Key2Str1,Key3Str1,Key4Str1"+dq+",APN_configtmp0,APN_configtmp1,APN_configtmp2,APN_configtmp3,APN_configtmp4,APN_configtmp5,APN_configtmp6,APN_configtmp7,APN_configtmp8,APN_configtmp9,APN_configtmp10,APN_configtmp11,APN_configtmp12,APN_configtmp13,APN_configtmp14,APN_configtmp15,APN_configtmp16,APN_configtmp17,APN_configtmp18,APN_configtmp19,ipv6_APN_configtmp0,ipv6_APN_configtmp1,ipv6_APN_configtmp2,ipv6_APN_configtmp3,ipv6_APN_configtmp4,ipv6_APN_configtmp5,ipv6_APN_configtmp6,ipv6_APN_configtmp7,ipv6_APN_configtmp8,ipv6_APN_configtmp9,ipv6_APN_configtmp10,ipv6_APN_configtmp11,ipv6_APN_configtmp12,ipv6_APN_configtmp13,ipv6_APN_configtmp14,ipv6_APN_configtmp15,ipv6_APN_configtmp16,ipv6_APN_configtmp17,ipv6_APN_configtmp18,ipv6_APN_configtmp19";dt.multi_data=1;return dt}function dp(dq){if(dq){if(aK.PASSWORD_ENCODE){dq.WPAPSK1=Base64.decode(dq.WPAPSK1_encode)}else{dq.WPAPSK1=c(dq.rnum_js,dq.imei,dq.WPAPSK1_enaes)}return dq}else{return X}}}function dh(){ay(arguments,dn,dp);function dn(dq){var dr={goformId:"QUICK_SETUP_EX",index:dq.apn_index,pdp_type:dq.pdp_type,apn_mode:dq.apnMode,profile_name:dq.profile_name,wan_apn:dq.wan_apn,ppp_auth_mode:dq.ppp_auth_mode,ppp_username:dq.ppp_username,ppp_passtmp:dq.ppp_passtmp,ipv6_wan_apn:dq.ipv6_wan_apn,ipv6_ppp_auth_mode:dq.ipv6_ppp_auth_mode,ipv6_ppp_username:dq.ipv6_ppp_username,ipv6_ppp_passtmp:dq.ipv6_ppp_passtmp,SSID_name:dq.SSID_name,SSID_Broadcast:dq.SSID_Broadcast,Encryption_Mode_hid:dq.Encryption_Mode_hid,security_shared_mode:dq.security_shared_mode,WPA_PreShared_Key:aK.PASSWORD_ENCODE?Base64.encode(dq.WPA_PreShared_Key):dq.WPA_PreShared_Key,wep_default_key:dq.wep_default_key,WPA_ENCRYPTION_hid:dq.WPA_ENCRYPTION_hid};dr.wep_key_1=dq.wep_key_1;dr.wep_key_2=dq.wep_key_2;dr.wep_key_3=dq.wep_key_3;dr.wep_key_4=dq.wep_key_4;if(dq.wep_default_key=="1"){dr.WEP2Select=dq.WEP2Select}else{if(dq.wep_default_key=="2"){dr.WEP3Select=dq.WEP3Select}else{if(dq.wep_default_key=="3"){dr.WEP4Select=dq.WEP4Select}else{dr.WEP1Select=dq.WEP1Select}}}return dr}function dp(dq){if(dq){return dq}else{return c0.extend(X,{errorType:"SetSetUpError"})}}}function ay(dx,ds,dq){var dw=false;var dn=false;var du=ds(dx[0]);var dv=dx[1];var dp=function(dy){dw=true;if(!dn&&dv){dv(dq(dy))}dn=true};var dt=dx[2];var dr=function(){dw=true;if(dt){dt()}};dj(du,dp,dr,true);addTimeout(function(){if(dw==false){var dy=addInterval(function(){if(dw==false){A({},function(dz){window.clearInterval(dy);dp({result:"success"})})}},1000)}},5000)}function b4(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={cmd:"sdcard_mode_option,sd_card_state,HTTP_SHARE_STATUS,HTTP_SHARE_WR_AUTH,HTTP_SHARE_FILE",multi_data:1};return ds}function dp(dr){if(dr){var ds;if("mmc2"==dr.HTTP_SHARE_FILE||"/mmc2"==dr.HTTP_SHARE_FILE||"/mmc2/"==dr.HTTP_SHARE_FILE){ds="1"}else{ds="0"}var dq={sd_mode:dr.sdcard_mode_option=="1"?"0":"1",sd_status:dr.sd_card_state,share_status:dr.HTTP_SHARE_STATUS=="Enabled"?"1":"0",share_auth:dr.HTTP_SHARE_WR_AUTH=="readOnly"?"0":"1",file_to_share:ds,share_file:dr.HTTP_SHARE_FILE};return dq}else{return X}}}function cH(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={goformId:"HTTPSHARE_MODE_SET",mode_set:dq.mode=="0"?"http_share_mode":"usb_mode"};return ds}function dp(dq){if(dq&&dq.result=="success"){return{result:"success"}}else{if(dq&&dq.result=="processing"){return{result:"processing"}}else{return{result:false}}}}}function M(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={goformId:"GOFORM_HTTPSHARE_CHECK_FILE",path_SD_CARD:dq.path};return ds}function dp(dq){if(dq){if(dq.result=="no_sdcard"){return{status:"no_sdcard"}}else{if(dq.result=="noexist"){return{status:"noexist"}}else{if(dq.result=="processing"){return{status:"processing"}}else{return{status:"exist"}}}}}else{return X}}}function af(){return bJ(arguments,{},dn,dq,null,true);function dn(dr,ds){var dt={goformId:"HTTPSHARE_ENTERFOLD",path_SD_CARD:dr.path,indexPage:dr.index};return dt}function dq(dr){if(dr){if(dr.result=="failure"){return c0.extend(X,{errorType:"get_file_list_failure"})}else{if(dr.result=="no_sdcard"){return c0.extend(X,{errorType:"no_sdcard"})}else{return dp(dr.result)}}}else{return X}}function dp(dr){var du={};du.totalRecord=dr.totalRecord;var dw=[];var dt=dr.fileInfo;for(var ds=0;dt&&ds<dt.length;ds++){if(dt[ds].fileName==""){continue}var dv={};dv.fileName=dt[ds].fileName;dv.attribute=dt[ds].attribute;dv.size=dt[ds].size;dv.lastUpdateTime=dt[ds].lastUpdateTime;dw.push(dv)}du.details=dw;return du}}function bL(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var dt=new Date();var ds=dt.getTime();var du=dt.getTimezoneOffset()*60;return{goformId:"HTTPSHARE_FILE_RENAME",path_SD_CARD:dq.path,OLD_NAME_SD_CARD:dq.oldPath,NEW_NAME_SD_CARD:dq.newPath,path_SD_CARD_time:transUnixTime(ds),path_SD_CARD_time_unix:Math.round((ds-du*1000)/1000)}}function dp(dq){if(dq){if(dq.result=="success"){return{result:true}}else{if(dq.result=="no_sdcard"){return c0.extend(X,{errorType:"no_sdcard"})}else{if(dq.result=="noexist"){return c0.extend(X,{errorType:"no_exist"})}else{if(dq.result=="processing"){return c0.extend(X,{errorType:"sd_file_processing_cant_rename"})}else{return{result:false}}}}}}else{return X}}}function B(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={cmd:"HTTPSHARE_GETCARD_VALUE"};return ds}function dp(dq){if(!dq||(dq.result&&dq.result=="no_sdcard")){return c0.extend(X,{errorType:"no_sdcard"})}else{return{totalMemorySize:dq.sd_card_total_size==""?0:dq.sd_card_total_size*32*1024,availableMemorySize:dq.sd_card_avi_space==""?0:dq.sd_card_avi_space*32*1024}}}}function a0(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds=new Date().getTime();var dt={goformId:"HTTPSHARE_DEL",path_SD_CARD:dq.path,name_SD_CARD:dq.names,path_SD_CARD_time:transUnixTime(ds),path_SD_CARD_time_unix:Math.round(ds/1000)};return dt}function dp(dq){if(dq.result&&dq.result=="failure"){return{status:"failure"}}else{if(dq.result&&dq.result=="no_sdcard"){return{status:"no_sdcard"}}else{if(dq.result&&dq.result=="processing"){return{status:"processing"}}else{if(dq.result&&dq.result=="success"){return{status:"success"}}else{return X}}}}}}function I(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var dt=new Date();var ds=dt.getTime();var du=dt.getTimezoneOffset()*60;return{goformId:"HTTPSHARE_NEW",path_SD_CARD:dq.path,path_SD_CARD_time:transUnixTime(ds),path_SD_CARD_time_unix:Math.round((ds-du*1000)/1000)}}function dp(dq){if(dq.result&&dq.result=="failure"){return c0.extend(X,{errorType:"create_folder_failure"})}else{if(dq.result&&dq.result=="no_sdcard"){return c0.extend(X,{errorType:"no_sdcard"})}else{if(dq.result&&dq.result=="success"){return{result:true}}else{return X}}}}}function cm(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={goformId:"HTTPSHARE_AUTH_SET",HTTP_SHARE_STATUS:dq.share_status=="1"?"Enabled":"Disabled",HTTP_SHARE_WR_AUTH:dq.share_auth=="1"?"readWrite":"readOnly",HTTP_SHARE_FILE:dq.share_file};return ds}function dp(dq){if(dq){if(dq.result=="no_sdcard"){return c0.extend(X,{errorType:"no_sdcard"})}else{return{result:true}}}else{return X}}}function bl(){return bJ(arguments,{},dp,dq,null,false);function dp(dr,ds){var dt={};dt.cmd="IPPortFilterEnable,DefaultFirewallPolicy,IPPortFilterRules_0,IPPortFilterRules_1,IPPortFilterRules_2,IPPortFilterRules_3,IPPortFilterRules_4,IPPortFilterRules_5,IPPortFilterRules_6,IPPortFilterRules_7,IPPortFilterRules_8,IPPortFilterRules_9";dt.cmd+=",IPPortFilterRulesv6_0,IPPortFilterRulesv6_1,IPPortFilterRulesv6_2,IPPortFilterRulesv6_3,IPPortFilterRulesv6_4,IPPortFilterRulesv6_5,IPPortFilterRulesv6_6,IPPortFilterRulesv6_7,IPPortFilterRulesv6_8,IPPortFilterRulesv6_9";dt.multi_data=1;return dt}function dq(ds){if(ds){var dr={};dr.portFilterEnable=ds.IPPortFilterEnable;dr.defaultPolicy=ds.DefaultFirewallPolicy;var du=[];if(ds.IPPortFilterRules_0!=""){du.push([0,ds.IPPortFilterRules_0])}if(ds.IPPortFilterRules_1!=""){du.push([1,ds.IPPortFilterRules_1])}if(ds.IPPortFilterRules_2!=""){du.push([2,ds.IPPortFilterRules_2])}if(ds.IPPortFilterRules_3!=""){du.push([3,ds.IPPortFilterRules_3])}if(ds.IPPortFilterRules_4!=""){du.push([4,ds.IPPortFilterRules_4])}if(ds.IPPortFilterRules_5!=""){du.push([5,ds.IPPortFilterRules_5])}if(ds.IPPortFilterRules_6!=""){du.push([6,ds.IPPortFilterRules_6])}if(ds.IPPortFilterRules_7!=""){du.push([7,ds.IPPortFilterRules_7])}if(ds.IPPortFilterRules_8!=""){du.push([8,ds.IPPortFilterRules_8])}if(ds.IPPortFilterRules_9!=""){du.push([9,ds.IPPortFilterRules_9])}dr.portFilterRules=dn(du,"IPv4");var dt=[];if(ds.IPPortFilterRulesv6_0!=""){dt.push([10,ds.IPPortFilterRulesv6_0])}if(ds.IPPortFilterRulesv6_1!=""){dt.push([11,ds.IPPortFilterRulesv6_1])}if(ds.IPPortFilterRulesv6_2!=""){dt.push([12,ds.IPPortFilterRulesv6_2])}if(ds.IPPortFilterRulesv6_3!=""){dt.push([13,ds.IPPortFilterRulesv6_3])}if(ds.IPPortFilterRulesv6_4!=""){dt.push([14,ds.IPPortFilterRulesv6_4])}if(ds.IPPortFilterRulesv6_5!=""){dt.push([15,ds.IPPortFilterRulesv6_5])}if(ds.IPPortFilterRulesv6_6!=""){dt.push([16,ds.IPPortFilterRulesv6_6])}if(ds.IPPortFilterRulesv6_7!=""){dt.push([17,ds.IPPortFilterRulesv6_7])}if(ds.IPPortFilterRulesv6_8!=""){dt.push([18,ds.IPPortFilterRulesv6_8])}if(ds.IPPortFilterRulesv6_9!=""){dt.push([19,ds.IPPortFilterRulesv6_9])}dr.portFilterRules=cr.union(dr.portFilterRules,dn(dt,"IPv6"));return dr}else{return X}}function dn(dr,dw){var dv=[];if(dr&&dr.length>0){for(var dt=0;dt<dr.length;dt++){var ds={};var du=dr[dt][1].split(",");ds.index=dr[dt][0];ds.macAddress=du[11];ds.destIpAddress=du[4]=="any/0"?"":du[4];ds.sourceIpAddress=du[0]=="any/0"?"":du[0];ds.destPortRange=du[6]=="0"?"":du[6]+" - "+du[7];ds.sourcePortRange=du[2]=="0"?"":du[2]+" - "+du[3];ds.action=du[9]==1?"filter_accept":"filter_drop";ds.protocol=transProtocol(du[8]);ds.comment=du[10];ds.ipType=dw;dv.push(ds)}}return dv}}function ak(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="BASIC_SETTING";ds.portFilterEnabled=dq.portFilterEnable;ds.defaultFirewallPolicy=dq.defaultPolicy;return ds}function dp(dq){if(dq){return dq}else{return X}}}function V(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="ADD_IP_PORT_FILETER_V4V6";ds.ip_version=dq.ipType;ds.mac_address=dq.macAddress;ds.dip_address=dq.destIpAddress;ds.sip_address=dq.sourceIpAddress;ds.dFromPort=dq.destPortStart;ds.dToPort=dq.destPortEnd;ds.sFromPort=dq.sourcePortStart;ds.sToPort=dq.sourcePortEnd;ds.action=dq.action;ds.protocol=dq.protocol;ds.comment=dq.comment;return ds}function dp(dq){if(dq){return dq}else{return X}}}function aC(){return bJ(arguments,{},dn,dp,null,true);function dn(dr,ds){var dt={};var du=cr.filter(dr.indexs,function(dv){return dv.length==1});dt.goformId="DEL_IP_PORT_FILETER_V4V6";var dq=[];cr.each(dr.indexs,function(dv){if(dv.length==2){dq.push(dv.substring(1))}});dt.delete_id_v6=dq.length>0?dq.join(";")+";":"";dt.delete_id=du.length>0?du.join(";")+";":"";return dt}function dp(dq){if(dq){return dq}else{return X}}}function br(){return bJ(arguments,{},dn,dq,null,false);function dn(dt,dr){var ds={};ds.cmd="RateLimitEnable,RateLimitRules_0,RateLimitRules_1,RateLimitRules_2,RateLimitRules_3,RateLimitRules_4,RateLimitRules_5,RateLimitRules_6,RateLimitRules_7,RateLimitRules_8,RateLimitRules_9";ds.multi_data=1;return ds}function dq(ds){if(ds){var dr={};dr.RateLimitEnable=ds.RateLimitEnable;var dt=[];if(ds.RateLimitRules_0!=""){dt.push([0,ds.RateLimitRules_0])}if(ds.RateLimitRules_1!=""){dt.push([1,ds.RateLimitRules_1])}if(ds.RateLimitRules_2!=""){dt.push([2,ds.RateLimitRules_2])}if(ds.RateLimitRules_3!=""){dt.push([3,ds.RateLimitRules_3])}if(ds.RateLimitRules_4!=""){dt.push([4,ds.RateLimitRules_4])}if(ds.RateLimitRules_5!=""){dt.push([5,ds.RateLimitRules_5])}if(ds.RateLimitRules_6!=""){dt.push([6,ds.RateLimitRules_6])}if(ds.RateLimitRules_7!=""){dt.push([7,ds.RateLimitRules_7])}if(ds.RateLimitRules_8!=""){dt.push([8,ds.RateLimitRules_8])}if(ds.RateLimitRules_9!=""){dt.push([9,ds.RateLimitRules_9])}dr.RateLimitRules=dp(dt);return dr}else{return unknownErrorObject}}function dp(du){var dv=[];if(du&&du.length>0){for(var ds=0;ds<du.length;ds++){var dr={};var dt=du[ds][1].split(",");dr.index=du[ds][0];dr.ip_address=dt[0];dr.download_speed=dt[1];dr.upload_speed=dt[2];dr.comment=dt[3];dv.push(dr)}}return dv}}function aH(){return bJ(arguments,{},dn,dp,null,true);function dn(ds,dq){var dr={};dr.goformId="ADD_RATE_LIMIT";dr.RateLimitEnable=ds.RateLimitEnable;dr.ip_address=ds.ip_address;dr.download_speed=ds.download_speed;dr.upload_speed=ds.upload_speed;dr.comment=ds.comment;return dr}function dp(dq){if(dq){return dq}else{return unknownErrorObject}}}function bp(){return bJ(arguments,{},dn,dp,null,true);function dn(ds,dq){var dr={};dr.goformId="DEL_RATE_LIMIT";dr.delete_id=ds.indexs.join(";")+";";return dr}function dp(dq){if(dq){return dq}else{return unknownErrorObject}}}function aS(){return bJ(arguments,{},dn,dp,null,true);function dn(ds,dq){var dr={};dr.goformId="ADD_RATE_LIMIT";dr.RateLimitEnable=ds.RateLimitEnable;return dr}function dp(dq){if(dq){return dq}else{return unknownErrorObject}}}function cz(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="WirelessMode,CountryCode,Channel,HT_MCS,wifi_band,wifi_11n_cap,MAX_Access_num,m_MAX_Access_num,MAX_Station_num,wifi_sta_connection";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={mode:dr.WirelessMode,countryCode:dr.CountryCode,channel:dr.Channel,rate:dr.HT_MCS,wifiBand:dr.wifi_band=="a"?"a":"b",bandwidth:dr.wifi_11n_cap,MAX_Station_num:c0.isNumeric(dr.MAX_Station_num)?dr.MAX_Station_num:aK.MAX_STATION_NUMBER,MAX_Access_num:dr.MAX_Access_num,m_MAX_Access_num:dr.m_MAX_Access_num,ap_station_enable:dr.wifi_sta_connection};return dq}else{return X}}}function db(){ay(arguments,dn,dp);function dn(dq){var dr={goformId:"SET_WIFI_INFO",wifiMode:dq.mode,countryCode:dq.countryCode,MAX_Access_num:dq.station,m_MAX_Access_num:dq.m_station};if(aK.WIFI_BAND_SUPPORT){dr.wifi_band=dq.wifiBand}if(aK.WIFI_BAND_SUPPORT&&dq.wifiBand=="a"){dr.selectedChannel="auto"}else{dr.selectedChannel=dq.channel;dr.abg_rate=dq.rate}if(aK.WIFI_BANDWIDTH_SUPPORT){dr.wifi_11n_cap=dq.bandwidth}return dr}function dp(dq){if(dq){return dq}else{return X}}}function bg(){return bJ(arguments,{},dn,dp,null,false);function dn(dr,ds){var dq=aK.PASSWORD_ENCODE?"WPAPSK1_encode,m_WPAPSK1_encode,":"rnum_js,WPAPSK1_enaes,m_WPAPSK1_enaes,";var dt={cmd:"wifi_coverage,m_ssid_enable,imei,network_type,sub_network_type,rssi,rscp,lte_rsrp,ziccid,imsi,sim_imsi,cr_version,cstm_sw_version,hw_version,cstm_hw_version,MAX_Access_num,"+dq+"SSID1,AuthMode,m_SSID,m_AuthMode,m_HideSSID,m_MAX_Access_num,lan_ipaddr,mac_address,msisdn,LocalDomain,wan_ipaddr,static_wan_ipaddr,ipv6_wan_ipaddr,ipv6_pdp_type,pdp_type,ppp_status,sta_ip_status,rj45_state,ethwan_mode,detail_cell_rsrq,detail_cell_rssi,detail_cell_pci,detail_cell_sinr,detail_cell_id",multi_data:1};return dt}function dp(dq){if(dq){return{ssid:dq.SSID1,authMode:dq.AuthMode,passPhrase:aK.PASSWORD_ENCODE?Base64.decode(dq.WPAPSK1_encode):c(dq.rnum_js,dq.imei,dq.WPAPSK1_enaes),m_ssid:dq.m_SSID,m_AuthMode:dq.m_AuthMode,m_passPhrase:aK.PASSWORD_ENCODE?Base64.decode(dq.m_WPAPSK1_encode):c(dq.rnum_js,dq.imei,dq.m_WPAPSK1_enaes),m_max_access_num:dq.m_MAX_Access_num,multi_ssid_enable:dq.m_ssid_enable,ipAddress:dq.lan_ipaddr,wanIpAddress:dq.wan_ipaddr,staticWanIpAddress:dq.static_wan_ipaddr,ipv6WanIpAddress:dq.ipv6_wan_ipaddr,ipv6PdpType:dq.ipv6_pdp_type,macAddress:dq.mac_address,simSerialNumber:dq.msisdn,iccid:dq.ziccid,lanDomain:dq.LocalDomain,imei:dq.imei,signal:convertSignal(dq),imsi:dq.imsi||dq.sim_imsi,sw_version:dq.cstm_sw_version?dq.cstm_sw_version.split("-").join(""):dq.cr_version?dq.cr_version.split("-").join(""):"",hw_version:dq.cstm_hw_version?dq.cstm_hw_version:dq.hw_version,max_access_num:dq.MAX_Access_num,wifiRange:dq.wifi_coverage,pdpType:dq.pdp_type,rj45ConnectStatus:(typeof dq.rj45_state=="undefined"||dq.rj45_state=="")?"dead":dq.rj45_state,blc_wan_mode:bF.blc_wan_mode,connectStatus:dq.ppp_status,wifiConStatus:dq.sta_ip_status,ethwan_mode:dq.ethwan_mode.toUpperCase(),rsrp:dq.lte_rsrp,rsrq:dq.detail_cell_rsrq,rssi:dq.detail_cell_rssi,pci:dq.detail_cell_pci,sinr:dq.detail_cell_sinr,cellid:dq.detail_cell_id}}else{return X}}}function c6(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={cmd:"imei,rnum_js",multi_data:1};return ds}function dp(dq){if(dq){var dt=dq.rnum_js+dq.imei+"FFFFFFFFFFFFFFFFFFFFFFFF";var dr;var ds;dr=dt.substring(0,24);ds=dt.substring(0,16);return{skey:dr,siv:ds}}else{return{skey:"FFFFFFFFFFFFFFFFFFFFFFFF",siv:"FFFFFFFFFFFFFFFF"}}}}function Y(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="wifi_coverage";return ds}function dp(dr){if(dr){var dq={};dq.wifiRangeMode=dr.wifi_coverage;return dq}else{return X}}}function c8(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="SET_WIFI_COVERAGE";ds.wifi_coverage=dq.wifiRangeMode;return ds}function dp(dq){if(dq){return dq}else{return X}}}function am(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="upnpEnabled";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.upnpSetting=dr.upnpEnabled=="1"?"1":"0";return dq}else{return X}}}function a8(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="UPNP_SETTING";ds.upnp_setting_option=dq.upnpSetting;return ds}function dp(dq){if(dq){return dq}else{return X}}}function aB(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="DMZEnable,DMZIPAddress";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.dmzSetting=dr.DMZEnable=="1"?"1":"0";dq.ipAddress=dr.DMZIPAddress;return dq}else{return X}}}function c4(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="DMZ_SETTING";ds.DMZEnabled=dq.dmzSetting;if(ds.DMZEnabled=="1"){ds.DMZIPAddress=dq.ipAddress}return ds}function dp(dq){if(dq){return dq}else{return X}}}function bf(){return bJ(arguments,{},dp,dq,null,false);function dp(dr,ds){var dt={};dt.cmd="PortMapEnable,PortMapRules_0,PortMapRules_1,PortMapRules_2,PortMapRules_3,PortMapRules_4,PortMapRules_5,PortMapRules_6,PortMapRules_7,PortMapRules_8,PortMapRules_9",dt.multi_data=1;return dt}function dq(ds){if(ds){var dr={};dr.portMapEnable=ds.PortMapEnable;var dt=[];if(ds.PortMapRules_0!=""){dt.push([0,ds.PortMapRules_0])}if(ds.PortMapRules_1!=""){dt.push([1,ds.PortMapRules_1])}if(ds.PortMapRules_2!=""){dt.push([2,ds.PortMapRules_2])}if(ds.PortMapRules_3!=""){dt.push([3,ds.PortMapRules_3])}if(ds.PortMapRules_4!=""){dt.push([4,ds.PortMapRules_4])}if(ds.PortMapRules_5!=""){dt.push([5,ds.PortMapRules_5])}if(ds.PortMapRules_6!=""){dt.push([6,ds.PortMapRules_6])}if(ds.PortMapRules_7!=""){dt.push([7,ds.PortMapRules_7])}if(ds.PortMapRules_8!=""){dt.push([8,ds.PortMapRules_8])}if(ds.PortMapRules_9!=""){dt.push([9,ds.PortMapRules_9])}dr.portMapRules=dn(dt);return dr}else{return X}}function dn(dr){var dv=[];if(dr&&dr.length>0){for(var dt=0;dt<dr.length;dt++){var ds={};var du=dr[dt][1].split(",");ds.index=dr[dt][0];ds.sourcePort=du[1];ds.destIpAddress=du[0];ds.destPort=du[2];ds.protocol=transProtocol(du[3]);ds.comment=du[4];dv.push(ds)}}return dv}}function bP(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="ADD_PORT_MAP";ds.portMapEnabled=dq.portMapEnable;ds.fromPort=dq.sourcePort;ds.ip_address=dq.destIpAddress;ds.toPort=dq.destPort;ds.protocol=dq.protocol;ds.comment=dq.comment;return ds}function dp(dq){if(dq){return dq}else{return X}}}function bM(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="ADD_PORT_MAP";ds.portMapEnabled=dq.portMapEnable;return ds}function dp(dq){if(dq){return dq}else{return X}}}function a3(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="DEL_PORT_MAP";ds.delete_id=dq.indexs.join(";")+";";return ds}function dp(dq){if(dq){return dq}else{return X}}}function H(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){return{cmd:"data_volume_limit_switch,data_volume_limit_unit,data_volume_limit_size,data_volume_alert_percent,monthly_tx_bytes,monthly_rx_bytes,monthly_time,traffic_alined_delta",multi_data:1}}function dp(dr){if(dr){var ds=dr.data_volume_limit_unit=="data";var dq={dataLimitChecked:dr.data_volume_limit_switch,dataLimitTypeChecked:ds?"1":"0",limitDataMonth:ds?dr.data_volume_limit_size:"0",alertDataReach:ds?dr.data_volume_alert_percent:"0",limitTimeMonth:ds?"0":dr.data_volume_limit_size,alertTimeReach:ds?"0":dr.data_volume_alert_percent,monthlySent:dr.monthly_tx_bytes==""?0:dr.monthly_tx_bytes,monthlyReceived:dr.monthly_rx_bytes==""?0:dr.monthly_rx_bytes,monthlyConnectedTime:dr.monthly_time==""?0:dr.monthly_time,traffic_alined_delta:dr.traffic_alined_delta==""?0:dr.traffic_alined_delta};return dq}else{return X}}}function ao(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var dt=dq.dataLimitTypeChecked=="1";var ds={goformId:"DATA_LIMIT_SETTING",data_volume_limit_switch:dq.dataLimitChecked};if(dq.dataLimitChecked=="1"){ds.data_volume_limit_unit=dt?"data":"time";ds.data_volume_limit_size=dt?dq.limitDataMonth:dq.limitTimeMonth;ds.data_volume_alert_percent=dt?dq.alertDataReach:dq.alertTimeReach}return ds}function dp(dq){if(dq){return dq}else{return X}}}function cK(){var dq=arguments[1];return bJ(arguments,{},dn,dp,null,true);function dn(dr,ds){if(dr.sendOrReply=="send"){return{goformId:"USSD_PROCESS",USSD_operator:dr.operator,USSD_send_number:dr.strUSSDCommand,notCallback:true}}else{if(dr.sendOrReply=="reply"){return{goformId:"USSD_PROCESS",USSD_operator:dr.operator,USSD_reply_number:dr.strUSSDCommand,notCallback:true}}}}function dp(dr){if(!dr){dq(false,"ussd_fail");return}if(dr.result=="success"){callbackTemp=dq;ck()}else{dq(false,"ussd_fail")}}}function ck(){c0.ajax({url:"/goform/goform_get_cmd_process",data:{cmd:"ussd_write_flag"},cache:false,async:true,dataType:"json",success:function(dn){if(dn.ussd_write_flag=="1"){callbackTemp(false,"ussd_no_service")}else{if(dn.ussd_write_flag=="4"||dn.ussd_write_flag=="unknown"||dn.ussd_write_flag=="3"){callbackTemp(false,"ussd_timeout")}else{if(dn.ussd_write_flag=="15"){setTimeout(ck,1000)}else{if(dn.ussd_write_flag=="10"){callbackTemp(false,"ussd_retry")}else{if(dn.ussd_write_flag=="99"){callbackTemp(false,"ussd_unsupport")}else{if(dn.ussd_write_flag=="41"){callbackTemp(false,"operation_not_supported")}else{if(dn.ussd_write_flag=="2"){callbackTemp(false,"network_terminated")}else{if(dn.ussd_write_flag=="16"){c0.ajax({url:"/goform/goform_get_cmd_process",data:{cmd:"ussd_data_info"},dataType:"json",async:true,cache:false,success:function(dp){var dq={};dq.data=dp.ussd_data;dq.ussd_action=dp.ussd_action;dq.ussd_dcs=dp.ussd_dcs;callbackTemp(true,dq)},error:function(){callbackTemp(false,"ussd_info_error")}})}else{callbackTemp(false,"ussd_fail")}}}}}}}}},error:function(){callbackTemp(false,"ussd_fail")}})}function q(dp){c0.ajax({url:"/goform/goform_set_cmd_process",data:{goformId:"USSD_PROCESS",USSD_operator:"ussd_cancel"},cache:false,dataType:"json",success:function(dq){if(dq.result=="success"){dn()}else{dp(false)}}});function dn(){c0.ajax({url:"/goform/goform_get_cmd_process",data:{cmd:"ussd_write_flag"},cache:false,async:true,dataType:"json",success:function(dq){if(dq.ussd_write_flag=="15"){setTimeout(dn,1000)}else{if(dq.ussd_write_flag=="13"){dp(true)}else{dp(false)}}},error:function(){dp(false)}})}}function aP(){var ds=arguments[1];var dr=0;return bJ(arguments,{},dn,dp,null,true);function dn(dt){return{goformId:"UNLOCK_NETWORK",notCallback:true,unlock_network_code:dt.unlock_network_code}}function dp(dt){if(dt&&dt.result=="success"){c1(dq)}else{ds({result:"fail"})}}function dq(){if(dr>5){C(dq);ds({result:"fail"})}else{if(bF.simStatus!="modem_imsi_waitnck"){C(dq);ds({result:"success"})}}dr++}}function bV(){var ds=arguments[1];var dr=0;return bJ(arguments,{},dn,dq,null,true);function dn(dt){return{goformId:"GORORM_UNLOCK_SIM",notCallback:true,sim_unlock_code:dt.sim_unlock_code}}function dq(dt){if(dt&&dt.result=="success"){c1(dp)}else{ds({result:"fail"})}}function dp(){if(dr>5){C(dp);ds({result:"fail"})}else{if(bF.simStatus!="modem_imsi_waitnck"){C(dp);ds({result:"success"})}}dr++}}function ct(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){return{cmd:"unlock_nck_time"}}function dp(dq){if(dq){return dq}else{return X}}}function W(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){return{cmd:"sim_unlock_nck_time"}}function dp(dq){if(dq){return dq}else{return X}}}function a6(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){return{cmd:"sim_lock_status,cstm_webui_unlocksim",multi_data:"1"}}function dp(dq){if(dq){var ds;var dt=bX().CurrentPasswd;var dr=bX().RootPasswd;if(dt!=dr&&dt!="factoryAdmin"){ds=dq.cstm_webui_unlocksim}else{if(dq.cstm_webui_unlocksim=="2"){ds="1"}else{ds=dq.cstm_webui_unlocksim}}return{sim_lock_status:dq.sim_lock_status,cstm_webui_unlocksim:ds}}else{return X}}}function de(){var dq=arguments[1];return bJ(arguments,{},dn,dp,null,true);function dn(dr){return{goformId:"SET_UPGRADE_NOTICE",upgrade_notice_flag:dr.upgrade_notice_flag,notCallback:true}}function dp(dr){if(dr.result=="success"){dq(true)}else{dq(false)}}}function cd(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){return{cmd:"upgrade_notice_flag"}}function dp(dq){if(dq){return dq}else{return X}}}function aw(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){return{multi_data:1,cmd:"wifi_sta_connection,pswan_priority,wifiwan_priority,ethwan_priority"}}function dp(dq){if(dq){return{ap_station_enable:dq.wifi_sta_connection,ap_station_mode:parseInt(dq.wifiwan_priority,10)>parseInt(dq.pswan_priority,10)?"wifi_pref":"dial_pref"}}else{return X}}}function bj(){var dp=arguments[0];return bJ(arguments,{},dn,dq,null,true);function dn(dr){return{goformId:"WIFI_STA_CONTROL",wifi_sta_connection:dr.ap_station_enable}}function dq(dr){if(dr&&dr.result=="success"){bF.ap_station_enable=dp.ap_station_enable==1;return dr}else{return X}}}function ac(){return aw({},function(dn){bF.ap_station_enable=dn.ap_station_enable==1;bF.ap_station_mode=dn.ap_station_mode})}function cw(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,ds){var dt="wifi_profile_num,wifi_profile";for(var dr=1;dr<aK.AP_STATION_LIST_LENGTH;dr++){dt=dt+",wifi_profile"+dr}return{multi_data:1,cmd:dt}}function dp(dq){if(dq){var dv=[];for(var du=0;du<aK.AP_STATION_LIST_LENGTH;du++){var dx="";if(du==0){dx=dq.wifi_profile}else{dx=dq["wifi_profile"+du]}var dt=dx.split(";");for(var ds=0;ds<dt.length;ds++){var dw=dt[ds].split(",");if(!dw[0]){break}var dr={profileName:dw[0],fromProvider:dw[1],connectStatus:dw[2],signal:dw[3],ssid:dw[4],authMode:dw[5],encryptType:dw[6],password:dw[7]=="0"?"":dw[7],keyID:dw[8],mac:dw[9]};dv.push(dr)}}return{hotspotList:dv}}else{return X}}}function ap(){return bJ(arguments,{},dn,dp,null,true);function dn(dq){return{goformId:"WLAN_SET_STA_REFRESH"}}function dp(dq){if(dq){return dq}else{return X}}}function Z(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){return{multi_data:1,cmd:"scan_finish,EX_APLIST,EX_APLIST1"}}function dp(dq){if(dq){if(dq.scan_finish=="0"){return{scan_finish:"0",hotspotList:[]}}if(dq.scan_finish=="2"){return{scan_finish:"2",hotspotList:[]}}var dv=[];for(var du=0;du<=1;du++){var dx;if(du==0){dx=dq.EX_APLIST}else{dx=dq.EX_APLIST1}var dt=dx.split(";");for(var ds=0;ds<dt.length;ds++){var dw=dt[ds].split(",");if(!dw[0]){break}var dr={fromProvider:dw[0],connectStatus:dw[1],ssid:dw[2],signal:dw[3],channel:dw[4],authMode:dw[5],encryptType:dw[6],mac:dw[7]};dv.push(dr)}}return{scan_finish:"1",hotspotList:dv}}else{return X}}}function cY(dp){var dn=[];dn.push(dp.profileName);dn.push(dp.fromProvider||"0");dn.push(dp.connectStatus||"0");dn.push(dp.signal);dn.push(dp.ssid);dn.push(dp.authMode);dn.push(dp.encryptType);dn.push(dp.password||"0");dn.push(dp.keyID);dn.push(dp.mac);return dn.join(",")}function al(){return bJ(arguments,{},dn,dp,null,true);function dn(dz){var dA=dz.apList;var dq="modify";if(dz.profileName==""){dq="add";var dv=(jQuery.fn.jquery+Math.random()).replace(/\D/g,"");dz.profileName=dv;dA.push({profileName:dv,fromProvider:"0",connectStatus:"0",signal:dz.signal,ssid:dz.ssid,authMode:dz.authMode,encryptType:dz.encryptType,password:dz.password||"0",keyID:dz.keyID,mac:dz.mac})}var dx={profile0:[]};for(var dr=1;dr<aK.AP_STATION_LIST_LENGTH;dr++){dx["profile"+dr]=[]}var ds="";for(var dr=0;dr<dA.length;dr++){var du="";if(dz.profileName==dA[dr].profileName){du=cY(dz);ds=du}else{du=cY(dA[dr])}var dt=parseInt(dr%10);dx["profile"+dt].push(du)}var dw={wifi_profile:dx.profile0.join(";")};for(var dr=1;dr<aK.AP_STATION_LIST_LENGTH;dr++){dw["wifi_profile"+dr]=dx["profile"+dr].join(";")}var dy=c0.extend({goformId:"WIFI_SPOT_PROFILE_UPDATE",wifi_profile_num:dA.length,wifi_update_profile:ds,action:dq},dw);return dy}function dp(dq){if(dq){return dq}else{return X}}}function c5(){return bJ(arguments,{},dn,dp,null,true);function dn(dz){var dB=dz.apList;var dx={profile0:[]};for(var dr=1;dr<aK.AP_STATION_LIST_LENGTH;dr++){dx["profile"+dr]=[]}var dq=false;var dt="";for(var dr=0;dr<dB.length;dr++){var dv=cY(dB[dr]);if(dB[dr].profileName==dz.profileName){dq=true;dt=dv;continue}var dA=dr;if(dq){dA=dr-1}var du=parseInt(dA%10);dx["profile"+du].push(dv)}var ds=dq?dB.length-1:dB.length;var dw={wifi_profile:dx.profile0.join(";")};for(var dr=1;dr<aK.AP_STATION_LIST_LENGTH;dr++){dw["wifi_profile"+dr]=dx["profile"+dr].join(";")}var dy=c0.extend({goformId:"WIFI_SPOT_PROFILE_UPDATE",wifi_profile_num:ds,wifi_update_profile:dt,action:"delete"},dw);return dy}function dp(dq){if(dq){return dq}else{return X}}}function bO(){return bJ(arguments,{},dn,dp,null,true);function dn(dq){return{goformId:"WLAN_SET_STA_CON",EX_SSID1:dq.EX_SSID1,EX_AuthMode:dq.EX_AuthMode,EX_EncrypType:dq.EX_EncrypType,EX_DefaultKeyID:dq.EX_DefaultKeyID,EX_WEPKEY:dq.EX_WEPKEY,EX_WPAPSK1:dq.EX_WPAPSK1,EX_wifi_profile:dq.EX_wifi_profile,EX_mac:dq.EX_mac}}function dp(dq){if(dq&&(dq.result=="success"||dq.result=="processing")){return dq}else{return X}}}function aN(){return bJ(arguments,{},dn,dp,null,true);function dn(dq){return{goformId:"WLAN_SET_STA_DISCON"}}function dp(dq){if(dq&&dq.result=="success"){return dq}else{return X}}}function c3(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){return{multi_data:1,cmd:"blc_wan_mode,blc_wan_auto_mode,loginfo,ppp_status,rj45_state,ethwan_mode"}}function dp(dr){if(dr){var dq={};if(dr.blc_wan_mode=="AUTO"){dq.blc_wan_mode=dr.blc_wan_auto_mode?dr.blc_wan_auto_mode:"AUTO_PPP"}else{dq.blc_wan_mode=dr.blc_wan_mode?dr.blc_wan_mode:"PPP"}dq.loginfo=dr.loginfo;dq.ppp_status=dr.ppp_status;dq.rj45_state=(typeof dr.rj45_state=="undefined"||dr.rj45_state=="")?"dead":dr.rj45_state;dq.ethwan_mode=dr.ethwan_mode.toUpperCase();return dq}else{return X}}}function a9(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){return{cmd:"rj45_plug"}}function dp(dr){if(dr){var dq={};dq.rj45_plug=dr.rj45_plug==""?"wan_lan_off":dr.rj45_plug;return dq}else{return X}}}function cI(dn,dp){if(aK.RJ45_SUPPORT){if(dp=="dead"||dp==""){return"PPP"}else{if(!dn||dn=="undefined"){if(dp=="working"){return"PPPOE"}else{return"PPP"}}else{return dn}}}else{return"PPP"}}function bq(dn,dr){return bJ(arguments,{},dp,dq,null,true);function dp(ds){var dt=c0.extend({goformId:"OPERATION_MODE"},ds);return dt}function dq(ds){if(ds&&ds.result=="success"){return ds}else{return X}}}function bc(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){return{multi_data:1,cmd:"opms_wan_auto_mode,ethwan_mode,pppoe_username,pppoe_cc,ethwan_dialmode,ppp_status,static_wan_ipaddr,static_wan_netmask,static_wan_gateway,static_wan_primary_dns,static_wan_secondary_dns,rj45_state,lan_ipaddr,lan_netmask"}}function dp(dq){if(dq){return{opms_wan_auto_mode:dq.opms_wan_auto_mode,ethwan_mode:dq.ethwan_mode.toUpperCase(),pppoe_username:dq.pppoe_username,pppoe_cc:dq.pppoe_cc,ethwan_dialmode:dq.ethwan_dialmode=="manual"?"manual_dial":"auto_dial",ppp_status:dq.ppp_status,static_wan_ipaddr:dq.static_wan_ipaddr,static_wan_netmask:dq.static_wan_netmask,static_wan_gateway:dq.static_wan_gateway,static_wan_primary_dns:dq.static_wan_primary_dns,static_wan_secondary_dns:dq.static_wan_secondary_dns,rj45_state:(typeof dq.rj45_state=="undefined"||dq.rj45_state=="")?"dead":dq.rj45_state,lan_ipaddr:dq.lan_ipaddr,lan_netmask:dq.lan_netmask}}else{return X}}}function cN(dn,dr){return bJ(arguments,{},dp,dq,null,true);function dp(ds){var dt=c0.extend({notCallback:true},ds);return dt}function dq(ds){if(ds.result=="success"){dr({result:true})}else{dr({result:false})}}}function dk(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={cmd:"sim_switch_number,sim_auto_switch_enable,sim_current_type,sim_switch_running_detect,sim_default_type,sim_lock_status,cstm_webui_simswitch,sim_card_iccid,esim01_card_iccid,esim02_card_iccid,sim_operators_long_formart,esim01_operators_long_formart,esim02_operators_long_formart",multi_data:"1"};return ds}function dp(dr){if(dr){var dq;var dt=bX().CurrentPasswd;var ds=bX().RootPasswd;if(dt!=ds&&dt!="factoryAdmin"){dq=dr.cstm_webui_simswitch}else{if(dr.cstm_webui_simswitch=="2"){dq="1"}else{dq=dr.cstm_webui_simswitch}}return{sim_switch_number:dr.sim_switch_number,sim_auto_switch_enable:dr.sim_auto_switch_enable,sim_current_type:dr.sim_current_type,sim_default_type:dr.sim_default_type,sim_lock_status:dr.sim_lock_status,sim_switch_running_detect:dr.sim_switch_running_detect,sim_card_iccid:dr.sim_card_iccid,esim01_card_iccid:dr.esim01_card_iccid,esim02_card_iccid:dr.esim02_card_iccid,sim_operators_long_formart:dr.sim_operators_long_formart,esim01_operators_long_formart:dr.esim01_operators_long_formart,esim02_operators_long_formart:dr.esim02_operators_long_formart,cstm_webui_simswitch:dq}}else{return X}}}function cj(){return bJ(arguments,{},dn,dp,{},true);function dn(dq){var dr={};dr.goformId="SIM_SWITCH";dr.sim_auto_switch_enable=dq.sim_mode;dr.sim_default_type=dq.sim_type;dr.sim_switch_running_detect=dq.sim_running;return dr}function dp(dq){if(dq&&dq.result==="success"){return{result:"success"}}else{if(dq&&dq.result==="processing"){return{result:"processing"}}else{return{result:"failure"}}}}}function at(dn,ds){return bJ(arguments,{},dp,dq,null,false);function dp(dt,du){return{multi_data:1,cmd:"sntp_year,sntp_month,sntp_day,sntp_hour,sntp_minute,sntp_second,sntp_time_set_mode,sntp_static_server0,sntp_static_server1,sntp_static_server2,sntp_server0,sntp_server1,sntp_server2,sntp_server3,sntp_server4,sntp_server5,sntp_server6,sntp_server7,sntp_server8,sntp_server9,sntp_other_server0,sntp_other_server1,sntp_other_server2,sntp_timezone,sntp_timezone_index,sntp_dst_enable,ppp_status,sntp_process_result,rj45_state"}}function dq(dt){if(dt){var du=dr(dt);return{sntp_year:dt.sntp_year,sntp_month:dt.sntp_month,sntp_day:dt.sntp_day,sntp_hour:dt.sntp_hour,sntp_minute:dt.sntp_minute,sntp_second:dt.sntp_second,sntp_time_set_mode:dt.sntp_time_set_mode,sntp_servers:du,sntp_server0:dt.sntp_server0,sntp_server1:dt.sntp_server1,sntp_server2:dt.sntp_server2,sntp_static_server0:dt.sntp_static_server0,sntp_static_server1:dt.sntp_static_server1,sntp_static_server2:dt.sntp_static_server2,sntp_other_server0:dt.sntp_other_server0,sntp_other_server1:dt.sntp_other_server1,sntp_other_server2:dt.sntp_other_server2,sntp_timezone:dt.sntp_timezone,sntp_timezone_index:dt.sntp_timezone_index?dt.sntp_timezone_index:"0",sntp_dst_enable:dt.sntp_dst_enable,ppp_status:dt.ppp_status,blc_wan_mode:bF.blc_wan_mode,sntp_process_result:dt.sntp_process_result,rj45_state:(typeof dt.rj45_state=="undefined"||dt.rj45_state=="")?"dead":dt.rj45_state}}else{return X}}function dr(dt){var dx=[];for(var dw=0;dw<3;dw++){var dv="sntp_static_server"+(dw).toString();if(dt[dv]!=""){var dz={};dz.name=dt[dv];dz.value=dt[dv];dx.push(dz)}}var dy=[{name:"Other",value:"Other"},{name:"NONE",value:""}];for(var du=0;du<2;du++){dx.push(dy[du])}return dx}}function ci(dn,dr){return bJ(arguments,{},dp,dq,null,true);function dp(ds){var dt=c0.extend({},ds);return dt}function dq(ds){if(ds&&ds.result=="success"){return ds}else{return X}}}function g(dn,dr){var dq=c0.extend({},dn);c0.post("/goform/goform_set_cmd_process",dq,function(ds){if(ds&&ds.result=="success"){if(dn.manualsettime=="auto"){setTimeout(dp,2000);dr(ds)}else{dr(true)}}else{if(ds&&ds.result=="processing"){dr(ds)}else{dr(false)}}},"json");function dp(){c0.ajax({url:"/goform/goform_get_cmd_process",dataType:"json",data:{cmd:"sntp_process_result"},cache:false,async:false,success:function(ds){if(ds.sntp_process_result=="failure"){dr(false)}else{if(ds.sntp_process_result=="success"){dr(true)}else{setTimeout(dp,2000)}}},error:function(){dr(false)}})}}function cl(dn,dr){return bJ(arguments,{},dp,dq,null,true);function dp(ds){var dt=c0.extend({},ds);return dt}function dq(ds){if(ds&&ds.result=="success"){return ds}else{return X}}}function b3(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){return{cmd:"websURLFilters"}}function dp(dq){var dt=[];if(dq){if(dq.websURLFilters.length==0){return{urlFilterRules:[]}}else{var du=dq.websURLFilters.split(";");for(var ds=0;ds<du.length;ds++){var dr={};dr.index=ds;dr.url=du[ds];dt.push(dr)}return{urlFilterRules:dt}}}else{return X}}}function cy(dn,dr){return bJ(arguments,{},dp,dq,null,true);function dp(ds){var dt=c0.extend({},ds);return dt}function dq(ds){if(ds&&ds.result=="success"){return ds}else{return X}}}function bQ(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){return{multi_data:"1",cmd:"wifi_wds_mode,wifi_wds_ssid,wifi_wds_AuthMode,wifi_wds_EncrypType,wifi_wds_WPAPSK1,wifi_cur_state "}}function dp(dq){if(dq){return{currentMode:dq.wifi_wds_mode,wdsSSID:dq.wifi_wds_ssid,wdsAuthMode:dq.wifi_wds_AuthMode,wdsEncrypType:dq.wifi_wds_EncrypType,wdsWPAPSK1:dq.wifi_wds_WPAPSK1,RadioOff:dq.wifi_cur_state=="1"?"1":"0"}}else{return X}}}function aq(dn,dr){return bJ(arguments,{},dp,dq,null,true);function dp(ds){var dt=c0.extend({},ds);return dt}function dq(ds){if(ds&&ds.result=="success"){return ds}else{return X}}}function y(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){return{multi_data:"1",cmd:"syslog_mode,debug_level"}}function dp(dq){if(dq){return{currentMode:dq.syslog_mode,debugLevel:dq.debug_level}}else{return X}}}function bh(dn,dr){return bJ(arguments,{},dp,dq,null,true);function dp(ds){var dt=c0.extend({},ds);return dt}function dq(ds){if(ds&&ds.result=="success"){return ds}else{return X}}}function ch(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){return{multi_data:"1",cmd:"ACL_mode,wifi_mac_black_list,wifi_hostname_black_list,wifi_cur_state,user_ip_addr,client_mac_address,wifi_mac_white_list"}}function dp(dq){if(dq){return{ACL_mode:dq.ACL_mode,wifi_mac_black_list:dq.wifi_mac_black_list,wifi_hostname_black_list:dq.wifi_hostname_black_list,RadioOff:dq.wifi_cur_state=="1"?"1":"0",user_ip_addr:dq.user_ip_addr,client_mac_address:dq.client_mac_address,wifi_mac_white_list:dq.wifi_mac_white_list}}else{return X}}}function cD(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){return{multi_data:"1",cmd:"usb_net_mac_addr"}}function dp(dq){if(dq){return dq}else{return unknownErrorObject}}}function bd(){return bJ(arguments,{},dn,dp,null,true);function dn(ds,dq){var dr={};dr.goformId="SET_IMEI_NUM";dr.imei=ds.imei;return dr}function dp(dq){if(dq){return dq}else{return unknownErrorObject}}}function da(){return bJ(arguments,{},dn,dp,null,true);function dn(ds,dq){var dr={};dr.goformId="SET_USB_MAC_ADDRESS";dr.mac=ds.mac;return dr}function dp(dq){if(dq){return dq}else{return unknownErrorObject}}}function aD(){return bJ(arguments,{},dn,dp,null,true);function dn(dq){var dr=c0.extend({goformId:"WIFI_MAC_FILTER"},dq);return dr}function dp(dq){if(dq&&dq.result=="success"){return dq}else{return X}}}function av(){return bJ(arguments,{},dn,dp,null,false);function dn(dq){return{cmd:"mgmt_quicken_power_on,need_hard_reboot,need_sim_pin",multi_data:1}}function dp(dq){return{fastbootEnabled:dq.mgmt_quicken_power_on=="1"?"1":"0",need_hard_reboot:dq.need_hard_reboot,need_sim_pin:dq.need_sim_pin=="yes"?"yes":"no"}}}function b1(){return bJ(arguments,{},dn,dp,null,true);function dn(dq){return{goformId:"MGMT_CONTROL_POWER_ON_SPEED",mgmt_quicken_power_on:dq.fastbootEnabled}}function dp(dq){if(dq&&dq.result=="success"){return dq}else{return X}}}function bb(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="TURN_OFF_DEVICE";return ds}function dp(dq){if(dq){return dq}else{return X}}}function aj(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="REBOOT_DEVICE";return ds}function dp(dq){if(dq){return dq}else{return X}}}function aa(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="fota_new_version_state,fota_current_upgrade_state,fota_package_already_download";ds.multi_data=1;return ds}function dp(dq){if(dq){var dr=(dq.fota_new_version_state=="has_critical"||dq.fota_new_version_state=="has_optional"||dq.fota_new_version_state=="already_has_pkg");dq.hasNewVersion=dr;return dq}else{return X}}}function bt(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};if(aK.UPGRADE_TYPE=="OTA"){ds.cmd="is_mandatory"}else{ds.cmd="fota_new_version_state"}return ds}function dp(dq){if(dq){if(aK.UPGRADE_TYPE=="OTA"){return{is_mandatory:dq.is_mandatory=="1"}}else{return{is_mandatory:dq.fota_new_version_state=="has_critical"}}}else{return X}}}function cO(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="upgrade_result";return ds}function dp(dq){if(dq){return dq}else{return X}}}function bo(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="fota_current_upgrade_state";return ds}function dp(dq){if(dq){dq.current_upgrade_state=dq.fota_current_upgrade_state;return dq}else{return X}}}function Q(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="fota_pkg_total_size,fota_dl_pkg_size";ds.multi_data=1;return ds}function dp(dq){if(dq){return dq}else{return X}}}function N(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="IF_UPGRADE";ds.select_op=dq.selectOp;if(ds.select_op=="check"){ds.ota_manual_check_roam_state=1}return ds}function dp(dq){if(dq){return dq}else{return X}}}function G(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="fota_updateMode,fota_updateIntervalDay,fota_allowRoamingUpdate";ds.multi_data=1;return ds}function dp(dq){if(dq){return{updateMode:dq.fota_updateMode,updateIntervalDay:dq.fota_updateIntervalDay,allowRoamingUpdate:dq.fota_allowRoamingUpdate}}else{return X}}}function an(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="SetUpgAutoSetting";ds.UpgMode=dq.updateMode;ds.UpgIntervalDay=dq.updateIntervalDay;ds.UpgRoamPermission=dq.allowRoamingUpdate;return ds}function dp(dq){if(dq&&dq.result=="success"){return dq}else{return X}}}function dl(){return cx({nv:["dm_last_check_time"]},arguments[1],arguments[2])}function h(){return cx({nv:["network_type","sub_network_type","rssi","rscp","lte_rsrp"]},arguments[1],arguments[2])}function j(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="RESULT_RESTORE";return ds}function dp(dq){if(dq&&dq.result=="success"){return dq}else{return X}}}function w(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={cmd:"childGroupList"};return ds}function dp(dq){if(dq&&(dq.childGroupList||dq.devices)){return dq}else{return{devices:[]}}}}function cB(){return bJ(arguments,aK.currentUserInChildGroup==false?{}:{errorType:"no_auth"},dn,dp,null,true);function dn(dq,dr){var ds={goformId:"ADD_DEVICE",mac:dq.macAddress};return ds}function dp(dq){if(dq&&dq.result=="success"){return dq}else{return X}}}function cR(){return bJ(arguments,aK.currentUserInChildGroup==false?{}:{errorType:"no_auth"},dn,dp,null,true);function dn(dq,dr){var ds={goformId:"DEL_DEVICE",mac:dq.mac};return ds}function dp(dq){if(dq&&dq.result=="success"){return dq}else{return X}}}function t(dn){if(typeof aK.currentUserInChildGroup=="undefined"){var dr=[];if(typeof dn!="undefined"){dr=dn}else{dr=w({}).devices}var dp=a7({}).get_user_mac_addr;var dq=cr.find(dr,function(ds){return ds.mac==dp});aK.currentUserInChildGroup=typeof dq!="undefined";return{result:typeof dq!="undefined"}}return{result:aK.currentUserInChildGroup}}function a7(){return cx({nv:"get_user_mac_addr"},arguments[1],arguments[2])}function v(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={cmd:"hostNameList"};return ds}function dp(dq){if(dq&&(dq.hostNameList||dq.devices)){return dq}else{return{devices:[]}}}}function bn(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={goformId:"EDIT_HOSTNAME",mac:dq.mac,hostname:dq.hostname};return ds}function dp(dq){if(dq&&dq.result=="success"){return dq}else{return X}}}function dd(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={cmd:"site_white_list"};return ds}function dp(dq){if(dq&&(dq.site_white_list||dq.siteList)){return dq}else{return{siteList:[]}}}}function F(){return bJ(arguments,aK.currentUserInChildGroup==false?{}:{errorType:"no_auth"},dn,dp,null,true);function dn(dq,dr){var ds={goformId:"REMOVE_WHITE_SITE",ids:dq.ids.join(",")};return ds}function dp(dq){if(dq&&dq.result=="success"){return dq}else{return X}}}function bK(){return bJ(arguments,aK.currentUserInChildGroup==false?{}:{errorType:"no_auth"},dn,dp,null,true);function dn(dq,dr){var ds={goformId:"ADD_WHITE_SITE",name:dq.name,site:dq.site};return ds}function dp(dq){if(dq&&dq.result=="success"){return dq}else{return X}}}function cg(){var dr={"0":[],"1":[],"2":[],"3":[],"4":[],"5":[],"6":[]};return bJ(arguments,{},dn,dq,null,false);function dn(ds,dt){var du={cmd:"time_limited"};return du}function dq(ds){if(ds){return dp(ds)}else{return dr}}function dp(ds){if(ds.time_limited==""){return{time_limited:[]}}var dt=ds.time_limited.split(";");cr.each(dt,function(du){var dv=du.split("+");if(dv.length==2){dr[dv[0]]=dv[1].split(",")}});return dr}}function o(){return bJ(arguments,aK.currentUserInChildGroup==false?{}:{errorType:"no_auth"},dn,dp,null,true);function dn(dq,dr){var ds={goformId:"SAVE_TIME_LIMITED",time_limited:dq.time};return ds}function dp(dq){if(dq&&dq.result=="success"){return dq}else{return X}}}function cC(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={cmd:"openEnable,closeEnable,openTime,closeTime",multi_data:"1"};return ds}function dp(dq){if(dq){if(dq.openTime.indexOf(":")!=-1){var dr=dq.openTime.split(":");dq.openH=leftInsert(dr[0],2,"0");dq.openM=leftInsert(dr[1],2,"0")}else{dq.openH="06";dq.openM="00"}if(dq.closeTime.indexOf(":")!=-1){var ds=dq.closeTime.split(":");dq.closeH=leftInsert(ds[0],2,"0");dq.closeM=leftInsert(ds[1],2,"0")}else{dq.closeH="22";dq.closeM="00"}return dq}else{return X}}}function b0(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={goformId:"SAVE_TSW",openEnable:dq.openEnable,closeEnable:dq.closeEnable};if(dq.openEnable=="1"){ds.openTime=dq.openTime;ds.closeTime=dq.closeTime}return ds}function dp(dq){if(dq&&dq.result=="success"){return dq}else{if(dq&&dq.result=="failure"){return dq}else{return X}}}}function aQ(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={goformId:"FLOW_CALIBRATION_MANUAL",calibration_way:dq.way,time:dq.way=="time"?dq.value:0,data:dq.way=="data"?dq.value:0};return ds}function dp(dq){if(dq&&dq.result=="success"){return dq}else{return X}}}function cx(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};if(cr.isArray(dq.nv)){ds.cmd=dq.nv.join(",");ds.multi_data=1}else{ds.cmd=dq.nv}return ds}function dp(dq){if(dq){return dq}else{return X}}}function aT(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="vwim_mc_state,traffic_overrun,detect_new_version";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.vwim_mc_state=dr.vwim_mc_state;dq.traffic_overrun=dr.traffic_overrun;dq.detect_new_version=dr.detect_new_version;dq.blc_wan_mode=bF.blc_wan_mode;return dq}else{return X}}}function cU(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="CLEAR_REDIRECT_FLAG";ds.flag_id=dq.redirectFlags;return ds}function dp(dq){if(dq){return dq}else{return X}}}function cf(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="lock_zone_enable,pin_interlock_and_V4_lock";ds.multi_data=1;return ds}function dp(dq){if(dq){return dq}else{return X}}}function bU(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="PIN_LOCK_V4_ENCODE";ds.pin_interlock_and_V4_lock=dq.pin_interlock_and_V4_lock;ds.TspLock_key_data=dq.TspLock_key_data;return ds}function dp(dq){if(dq&&dq.result=="success"){return dq}else{return X}}}function aI(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="cell_id_list,global_cell_id,network_type,sub_network_type,cell_not_correct";ds.multi_data=1;return ds}function dp(dq){if(dq){return dq}else{return X}}}function ca(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="LOCK_ZONE";ds.lock_zone_enable=dq.lock_zone_enable;return ds}function dp(dq){if(dq&&dq.result=="success"){return dq}else{return X}}}function c2(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={cmd:"update_type"};return ds}function dp(dq){return{update_type:dq.update_type?dq.update_type:"mifi_fota"}}}function f(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,dr){var ds={};ds.cmd="AuthMode,passPhrase";ds.multi_data=1;return ds}function dp(dr){if(dr){var dq={};dq.AuthMode=dr.AuthMode;dq.passPhrase=aK.PASSWORD_ENCODE?Base64.decode(dr.passPhrase):dr.passPhrase;return dq}else{return X}}}function z(){return bJ(arguments,{},dn,dp,null,true);function dn(dq,dr){var ds={};ds.goformId="SET_WIFI_SECURITY_INFO";ds.AuthMode=dq.AuthMode;if(ds.AuthMode=="WPAPSKWPA2PSK"){ds.passPhrase=aK.PASSWORD_ENCODE?Base64.encode(dq.passPhrase):dq.passPhrase}return ds}function dp(dq){if(dq){return dq}else{return X}}}function cq(){ay(arguments,dn,dp);function dn(dq){var dr={goformId:"SET_WIFI_SSID1_SETTINGS",ssid:dq.SSID,broadcastSsidEnabled:dq.broadcast,MAX_Access_num:dq.station,security_mode:dq.AuthMode,cipher:dq.cipher,NoForwarding:dq.NoForwarding,show_qrcode_flag:dq.show_qrcode_flag,show_ssid_on_lcd:dq.show_ssid_on_lcd};if(aK.WIFI_WEP_SUPPORT){dr.wep_default_key=dq.wep_default_key;dr.wep_key_1=dq.wep_key_1;dr.wep_key_2=dq.wep_key_2;dr.wep_key_3=dq.wep_key_3;dr.wep_key_4=dq.wep_key_4;if(dq.wep_default_key=="1"){dr.WEP2Select=dq.WEP2Select}else{if(dq.wep_default_key=="2"){dr.WEP3Select=dq.WEP3Select}else{if(dq.wep_default_key=="3"){dr.WEP4Select=dq.WEP4Select}else{dr.WEP1Select=dq.WEP1Select}}}}if(dq.AuthMode=="WPAPSK"||dq.AuthMode=="WPA2PSK"||dq.AuthMode=="WPAPSKWPA2PSK"||dq.AuthMode=="WPA3Personal"||dq.AuthMode=="WPA2WPA3"){dr.security_shared_mode=dq.cipher;dr.passphrase=aK.PASSWORD_ENCODE?Base64.encode(dq.passPhrase):dq.passPhrase}else{if(dq.AuthMode=="SHARED"){dr.security_shared_mode="WEP";dr.security_mode="SHARED"}else{if(dq.encryptType=="WEP"){dr.security_shared_mode="WEP";dr.security_mode="OPEN"}else{dr.security_shared_mode="NONE"}}}return dr}function dp(dq){if(dq){return dq}else{return X}}}function bS(){ay(arguments,dn,dp);function dn(dq){var dr={goformId:"SET_WIFI_SSID2_SETTINGS",m_SSID:dq.m_SSID,m_HideSSID:dq.m_broadcast,m_MAX_Access_num:dq.m_station,m_AuthMode:dq.m_AuthMode,cipher:dq.m_cipher,m_NoForwarding:dq.m_NoForwarding,m_show_qrcode_flag:dq.m_show_qrcode_flag};if(aK.WIFI_WEP_SUPPORT){dr.m_DefaultKeyID=dq.m_wep_default_key;dr.m_Key1Str1=dq.m_wep_key_1;dr.m_Key2Str1=dq.m_wep_key_2;dr.m_Key3Str1=dq.m_wep_key_3;dr.m_Key4Str1=dq.m_wep_key_4;if(dq.m_wep_default_key=="1"){dr.m_Key2Type=dq.m_WEP2Select}else{if(dq.m_wep_default_key=="2"){dr.m_Key3Type=dq.m_WEP3Select}else{if(dq.m_wep_default_key=="3"){dr.m_Key4Type=dq.m_WEP4Select}else{dr.m_Key1Type=dq.m_WEP1Select}}}}if(dq.m_AuthMode=="WPAPSK"||dq.m_AuthMode=="WPA2PSK"||dq.m_AuthMode=="WPAPSKWPA2PSK"||dq.m_AuthMode=="WPA3Personal"||dq.m_AuthMode=="WPA2WPA3"){dr.m_EncrypType=dq.m_cipher;dr.m_WPAPSK1=aK.PASSWORD_ENCODE?Base64.encode(dq.m_passPhrase):dq.m_passPhrase}else{if(dq.m_AuthMode=="SHARED"){dr.m_EncrypType="WEP";dr.m_security_mode="SHARED"}else{if(dq.m_encryptType=="WEP"){dr.m_EncrypType="WEP";dr.m_security_mode="OPEN"}else{dr.m_EncrypType="NONE"}}}return dr}function dp(dq){if(dq){return dq}else{return X}}}function d(){return bJ(arguments,{},dn,dp,null,false);function dn(dq,ds){var dt={};var dr=aK.PASSWORD_ENCODE?"WPAPSK1_encode,m_WPAPSK1_encode,":"imei,rnum_js,WPAPSK1_enaes,m_WPAPSK1_enaes,";dt.cmd="m_ssid_enable,wifi_cur_state,NoForwarding,m_NoForwarding,"+dr+"MAX_Station_num,SSID1,AuthMode,HideSSID,MAX_Access_num,show_qrcode_flag,show_ssid_on_lcd,EncrypType,Key1Str1,Key2Str1,Key3Str1,Key4Str1,DefaultKeyID,m_SSID,m_AuthMode,m_HideSSID,m_MAX_Access_num,m_EncrypType,m_show_qrcode_flag,m_DefaultKeyID,m_Key1Str1,m_Key2Str1,m_Key3Str1,m_Key4Str1,rotationFlag,wifi_sta_connection";dt.multi_data=1;return dt}function dp(dr){if(dr){var dq={wifi_enable:dr.wifi_cur_state=="1"?"1":"0",show_ssid_on_lcd:dr.show_ssid_on_lcd=="yes"?"1":"0",multi_ssid_enable:dr.m_ssid_enable,MAX_Station_num:c0.isNumeric(dr.MAX_Station_num)?dr.MAX_Station_num:aK.MAX_STATION_NUMBER,AuthMode:dr.AuthMode,SSID:dr.SSID1,broadcast:dr.HideSSID,apIsolation:dr.NoForwarding,passPhrase:aK.PASSWORD_ENCODE?Base64.decode(dr.WPAPSK1_encode):dr.WPAPSK1,MAX_Access_num:dr.MAX_Access_num,cipher:dr.EncrypType=="TKIP"?"0":dr.EncrypType=="AES"?1:2,encryptType:dr.EncrypType,show_qrcode_flag:dr.show_qrcode_flag=="1"?true:false,keyID:dr.DefaultKeyID,Key1Str1:dr.Key1Str1,Key2Str1:dr.Key2Str1,Key3Str1:dr.Key3Str1,Key4Str1:dr.Key4Str1,m_SSID:dr.m_SSID,m_broadcast:dr.m_HideSSID,m_apIsolation:dr.m_NoForwarding,m_MAX_Access_num:dr.m_MAX_Access_num,m_AuthMode:dr.m_AuthMode,m_passPhrase:aK.PASSWORD_ENCODE?Base64.decode(dr.m_WPAPSK1_encode):dr.m_WPAPSK1,m_cipher:dr.m_EncrypType=="TKIP"?"0":dr.m_EncrypType=="AES"?1:2,m_show_qrcode_flag:dr.m_show_qrcode_flag=="1"?true:false,m_encryptType:dr.m_EncrypType,m_keyID:dr.m_DefaultKeyID,m_Key1Str1:dr.m_Key1Str1,m_Key2Str1:dr.m_Key2Str1,m_Key3Str1:dr.m_Key3Str1,m_Key4Str1:dr.m_Key4Str1,rotationFlag:dr.rotationFlag,ap_station_enable:dr.wifi_sta_connection};return dq}else{return X}}}function u(){ay(arguments,dn,dp);function dn(dq){var ds=dq;if(dq.wifiEnabled=="0"){ds={wifiEnabled:dq.wifiEnabled}}var dr=c0.extend({goformId:"SET_WIFI_INFO"},ds);return dr}function dp(dq){if(dq){return dq}else{return X}}}function bJ(dt,dA,du,dq,dp,dr){var dx=dt[0],dz=dt[1],ds=dt[2];var dv;if(dA&&typeof dA.errorType==="string"){dv=c0.extend(X,dA);if(!dz){return dv}dy(dv,dz,ds)}else{dv=c0.extend({},dA);var dw;if(du){dw=du(dx,dr)}else{dw=dx}if(!dz){if(dw&&(dw.cmd||dw.goformId)){var dn=cE(dw,dr);if(dq){dv=c0.extend({},dq(dn))}else{dv=dn}}return dv}else{if(dw&&(dw.cmd||dw.goformId)){dj(dw,function(dB){if(dq){dv=c0.extend({},dq(dB))}else{dv=c0.extend({},dB)}if(!dw.notCallback){dy(dv,dz,ds)}},function(){if(dp){dv=c0.extend(X,dp)}else{dv=c0.extend(X,{errorType:"Unknown"})}dy(dv,dz,ds)},dr)}else{dy(dv,dz,ds)}}}function dy(dB,dD,dC){dC=dC?dC:dD;if(isErrorObject(dB)){switch(dB.errorType){case"cellularNetworkError":case"deviceError":case"wifiConnectionError":window.receivedNonSpecificError(dB);break;default:dC(dB)}}else{dD(dB)}}}function cE(dn,dp){return bs(dn,null,null,false,dp)}function dj(dq,dn,dp,dr){bs(dq,dn,dp,true,dr)}function x(dn){var dq=/^[A-z0-9]+$/;var dp=dn.match(dq);if(dp==null){return"error"}else{return dn}}function bs(dr,dp,dq,dt,ds){var dn=null;c0.ajax({type:!!ds?"POST":"GET",url:ds?"/goform/goform_set_cmd_process":dr.cmd?"/goform/goform_get_cmd_process":"/goform/goform_set_cmd_process",data:dr,dataType:"json",async:!!dt,cache:false,error:function(du){if(dt){dq(du)}else{if(du.status==200){dn=jQuery.parseJSON("("+du.responseText+")")}}},success:function(du){if(dt){dp(du)}else{dn=du}}});if(!dt){return dn}}var bF={networkType:"",signalImg:"0",spn_b1_flag:"1",spn_name_data:"",spn_b2_flag:"1",networkOperator:"China Mobile",connectStatus:"ppp_disconnected",rj45ConnectStatus:"rj45_dead",attachedDevices:[],ssid1AttachedNum:0,ssid2AttachedNum:0,data_counter:{uploadRate:0,downloadRate:0,totalSent:0,totalReceived:0,totalConnectedTime:0,currentSent:0,currentReceived:0,currentConnectedTime:0,monthlySent:0,monthlyReceived:0,monthlyConnectedTime:0,month:""},newSmsReceived:false,smsReportReceived:false,smsUnreadCount:"0",isLoggedIn:undefined,limitVolumeEnable:false,limitVolumeType:"1",limitVolumePercent:"100",limitVolumeSize:"0",allowRoamingUpdate:"0",blc_wan_mode:"",ap_station_enable:undefined,ap_station_mode:undefined,dialMode:"",ethWanMode:"AUTO",fota_user_selector:"",defaultWanName:""};var X={errorType:"UnknownError",errorId:"123",errorText:"UnknownError"};var cZ=true;return{clearRedirectFlag:cU,connect:be,disconnect:R,getSIMPhoneBookCapacity:b2,getDevicePhoneBookCapacity:ai,getDevicePhoneBooks:dg,getSIMPhoneBooks:cT,getPhoneBooks:T,getPhoneBookReady:cs,getPhoneBooksByGroup:b7,deletePhoneBooks:bu,deleteAllPhoneBooks:aZ,deleteAllPhoneBooksByGroup:ab,savePhoneBook:cS,deleteAllMessages:b6,deleteMessage:cM,setSmsRead:ag,sendSMS:a4,saveSMS:aL,getSMSReady:aM,getSMSMessages:aO,getSMSDeliveryReport:L,getSmsCapability:b,resetNewSmsReceivedVar:E,resetSmsReportReceivedVar:ce,getSmsSetting:cc,setSmsSetting:aU,getBand:cA,getSetband:O,setBandlist:cG,getResideband:bT,getAttachedCableDevices:bN,getCurrentlyAttachedDevicesInfo:bA,getConnectionInfo:bI,getRedirectData:aT,getLanguage:A,setLanguage:k,getNetSelectInfo:S,getSecurityInfo:f,setSecurityInfo:z,getStatusInfo:e,getConnectionMode:K,setConnectionMode:ah,getWifiBasic:d,setWifiBasic:cq,setWifiBasic4SSID2:bS,setWifiBasicMultiSSIDSwitch:u,getWpsInfo:cn,setTTL:bB,getTTLValue:cJ,getExtraFunc:bY,openWps:r,getSleepMode:cv,setSleepMode:bm,getWifiAdvance:cz,setWifiAdvance:db,getWifiRange:Y,setWifiRange:c8,setImeiNum:bd,getLoginStatus:bk,getLoginData:cu,login:aR,logout:bE,getPassword:bX,changeManageInfo:b9,getPinData:c9,enablePin:dm,disablePin:cb,changePin:p,enterPIN:J,enterPUK:U,getLanInfo:bD,setLanInfo:co,getDnsInfo:bZ,setDnsInfo:cL,getApnSettings:m,deleteApn:aA,setDefaultApn:bH,addOrEditApn:by,getQuickSettingInfo:ba,setQuickSetting4IPv6:dh,scanForNetwork:aG,setBearerPreference:bR,editHostName:bn,getSiteWhiteList:dd,removeSiteWhite:F,saveSiteWhite:bK,setNetwork:bv,getUpnpSetting:am,setUpnpSetting:a8,getDmzSetting:aB,setDmzSetting:c4,getDeviceInfo:bg,getDeviceInfoLow:c6,getPortForward:D,setPortForward:ar,getPortFilter:bl,setPortFilterBasic:ak,setPortFilter:V,deleteFilterRules:aC,getPortMap:bf,setPortMap:bP,enablePortMap:bM,deleteMapRules:a3,getTrafficAlertInfo:H,setTrafficAlertInfo:ao,getCurrentUpgradeState:bo,setUpgradeSelectOp:N,addTimerThings:bi,removeTimerThings:n,getPackSizeInfo:Q,getMandatory:bt,getOTAUpdateSetting:G,setOTAUpdateSetting:an,getSignalStrength:h,getOTAlastCheckTime:dl,clearUpdateResult:j,refreshAPStationStatus:ac,getSIMswitch:dk,setSIMswitch:cj,getSntpParams:at,setSntpSetting:g,setSNTPDate:ci,executeAtCommand:s,restoreFactorySettings:az,checkRestoreStatus:ad,getSysSecurity:b8,setSysSecurity:cQ,deleteForwardRules:cP,enableVirtualServer:aE,getSDConfiguration:b4,setSdCardMode:cH,checkFileExists:M,getFileList:af,fileRename:bL,getSdMemorySizes:B,deleteFilesAndFolders:a0,createFolder:I,setSdCardSharing:cm,setUpdateInfoWarning:de,getUpdateInfoWarning:cd,getAPStationBasic:aw,setAPStationBasic:bj,getWdsInfo:bQ,setWDS:aq,addUrlFilterRule:cl,getUrlFilterList:b3,deleteSelectedRules:cy,getMacFilterInfo:ch,setMacFilter:aD,getFastbootSetting:av,setFastbootSetting:b1,turnOffDevice:bb,restart:aj,updateTimerFlag:cZ,childGroupList:w,addChildGroup:cB,removeChildGroup:cR,checkCurrentUserInChildGroup:t,getTimeLimited:cg,saveTimeLimited:o,getHostNameList:v,getHotspotList:cw,searchHotspot:ap,getSearchHotspotList:Z,saveHotspot:al,deleteHotspot:c5,connectHotspot:bO,disconnectHotspot:aN,getOpMode:c3,getRj45PlugState:a9,SetOperationMode:bq,getPppoeParams:bc,setPppoeDialMode:cN,getTsw:cC,saveTsw:b0,trafficCalibration:aQ,getParams:cx,getNewVersionState:aa,getUpgradeResult:cO,getV4Switch:cf,setV4Switch:bU,getCellId:aI,setCellIdSwitch:ca,getDdnsParams:b5,setDDNSForward:aW,getUpdateType:c2,getCurretnMAC:aV,getUSSDResponse:cK,USSDReplyCancel:q,getNetworkUnlockTimes:ct,getSIMUnlockTimes:W,unlockNetwork:aP,unlockSim:bV,getLockSimStatus:a6,getSyslogInfo:y,setSysLog:bh,getUsbMacAddress:cD,setUsbMacAddress:da,getTR069Info:au,setTR069Info:l,getVPNInfo:df,setVPNInfo:P,setVPNOpen:bx,setVPNClose:aJ,getRateLimit:br,setRateLimit:aH,deleteRateLimitRules:bp,enableRateLimit:aS,getExtraFunc:bY,getKeepAliveFunc:a1,setKeepAliveFunc:bC,getSupportLanguages:di}});define("adm_lan","jquery knockout set service".split(" "),function(c,b,q,s){var r="";function j(){return s.getLanInfo()}function d(){return s.getDnsInfo()}function f(u){var t=(u-0).toString(16);if(t.length==1){t="0"+t}return t.toUpperCase()}function n(){var w=this;var v=j();var t=d();w.dhcpStart=b.observable(v.dhcpStart);w.dhcpEnd=b.observable(v.dhcpEnd);w.dhcpLease=b.observable(v.dhcpLease);w.ipAddress=b.observable(v.ipAddress);w.subnetMask=b.observable(v.subnetMask);w.dhcpServer=b.observable(v.dhcpServer);w.macAddress=b.observable(v.macAddress);w.showMacAddress=b.observable(q.SHOW_MAC_ADDRESS);w.dnsServerMode=b.observable(t.dnsServerMode);w.dnsPrimary=b.observable(t.dnsPrimary);w.hasWifi=b.observable(q.HAS_WIFI);w.isSupportSD=q.SD_CARD_SUPPORT;w.hasDdns=q.DDNS_SUPPORT;w.hasUpdateCheck=q.HAS_UPDATE_CHECK;var u=checkCableMode(s.getOpMode().blc_wan_mode);var x=s.getExtraFunc();w.bandSelectFuncEnable=b.observable(x.bandSelectFuncEnable);if(w.bandSelectFuncEnable()=="2"&&!u){c(".bandSelect").attr("id","rootBandSelect")}else{if(w.bandSelectFuncEnable()=="1"&&!u){c(".bandSelect").attr("id","bandSelect")}else{c(".bandSelect").attr("id","removeBandSelect");c("#removeBandSelect").css("display","none")}}w.hasTr069=x.tr069FuncEnable;w.hasVpn=x.vpnEnable;w.hasManualDns=x.dnsManualEnable;w.dnsFuncEnable=b.observable(x.dnsFuncEnable);if(w.dnsFuncEnable()=="2"){c(".frmDns").attr("id","rootFrmDns")}else{if(w.dnsFuncEnable()=="1"){c(".frmDns").attr("id","frmDns")}else{c(".frmDns").attr("id","removeFrmDns");c("#removeFrmDns").css("display","none")}}w.clear=function(){clearTimer();m();clearValidateMsg()};w.refreshStatus=function(){var y=s.getConnectionInfo();if(y.connectStatus=="ppp_disconnected"){c("input","#frmLan").each(function(){c(this).attr("disabled",false)})}else{c("input","#frmLan").each(function(){c(this).attr("disabled",true)})}};w.saveAct=function(){showLoading();var y={ipAddress:w.ipAddress(),subnetMask:w.subnetMask(),dhcpServer:w.dhcpServer(),dhcpStart:w.dhcpStart(),dhcpEnd:w.dhcpEnd(),dhcpLease:w.dhcpLease()};s.setLanInfo(y,function(z){if(z.result=="success"){successOverlay();w.clear()}else{errorOverlay()}})};w.save=function(){var y=c("#frmLan").serialize();if(y==r){showAlert("setting_no_change");return false}if(q.RJ45_SUPPORT){var z=s.getPppoeParams();if(a(z.static_wan_ipaddr,w.ipAddress(),w.subnetMask())){showAlert("lan_tip_staticip_notsame");return false}}showConfirm("lan_confirm_reopen",function(){w.saveAct()})};w.refreshStatus();w.dhcpServerHandler=function(){c("#txtIpAddress").parent().find(".error").hide();c("#txtIpAddress").show();return true};w.dnsServerHandler=function(){c("#txtPrimaryDns").parent().find(".error").hide();c("#txtPrimaryDns").show();return true};w.saveDnsPara=function(){showLoading();var y={dnsServerMode:w.dnsServerMode(),dnsPrimary:w.dnsPrimary()};s.setDnsInfo(y,function(z){if(z.result=="success"){successOverlay();w.clear()}else{errorOverlay()}})};w.saveDnsAct=function(){showConfirm("lan_confirm_reopen",function(){w.saveDnsPara()})};addTimeout(function(){r=c("#frmLan").serialize()},500)}function e(y,w){var u;var x=[];var v=[];var t="0x";for(u=2,index_tmp=0;u<10;u+=2,index_tmp++){x[index_tmp]="0x"+y.substring(u,u+2);v[index_tmp]="0x"+w.substring(u,u+2)}for(u=0;u<4;u++){t=t+f(x[u]&v[u])}return t-0}c.validator.addMethod("dhcp_check",function(v,w,x){var u=x=="start"?c("#txtDhcpIpPoolStart").val():c("#txtDhcpIpPoolEnd").val();var t=k(c("#txtIpAddress").val(),c("#txtSubnetMask").val(),u);return this.optional(w)||t});c.validator.addMethod("dhcpCompare",function(u,v,w){var t;if(w=="#txtDhcpIpPoolStart"){t=g(c("#txtIpAddress").val(),c("#txtSubnetMask").val(),c(w).val(),u)}else{t=g(c("#txtIpAddress").val(),c("#txtSubnetMask").val(),u,c(w).val())}return t!=1});c.validator.addMethod("ipRange",function(u,w,x){var v=false;if(c("#dhcpEnable").is(":checked")){v=true}var t=g(u,c("#txtSubnetMask").val(),c("#txtDhcpIpPoolStart").val(),c("#txtDhcpIpPoolEnd").val(),v);return t!=2});c.validator.addMethod("subnetmask_check",function(u,v,w){var t=l(u);return this.optional(v)||t});function a(y,z,u){if(!y||!z||!u){return false}if(y==z){return true}var x=[];var w=[];var t=[];ip_array=y.split(".");lanIp_array=z.split(".");t=u.split(".");for(var v=0;v<ip_array.length;v+=1){x.push(parseInt(t[v])&parseInt(ip_array[v]));w.push(parseInt(t[v])&parseInt(lanIp_array[v]))}if(w.join(".")!=x.join(".")){return false}else{return true}}function h(t){return(t==255||t==254||t==252||t==248||t==240||t==224||t==192||t==128||t==0)}function o(w){var v=w.indexOf(".");var u=w.indexOf(".",(v+1));var t=w.indexOf(".",(u+1));o_ip=f(w.substring(0,v))+f(w.substring((v+1),u))+f(w.substring((u+1),t))+f(w.substring((t+1),w.length));o_ip="0x"+o_ip;return o_ip}function p(x){var w=x.indexOf(".");var v=x.indexOf(".",(w+1));var u=x.indexOf(".",(v+1));var t=x.substring((u+1),x.length)-0;return t}function k(t,D,C){var z=o(t);var x=p(t);var v=o(D);var B=p(D);var y=o(C);var A=p(C);var w;var u;if(e(z,v)!=e(y,v)){return false}w=(x&B);u=(x&B)+(255-B);return !(A==w||A==u)}function l(t){var u=t.split(".");if("0.0.0.0"==t||"255.255.255.255"==t){return false}if(u.length!=4){return false}u[0]=parseInt(u[0]);u[1]=parseInt(u[1]);u[2]=parseInt(u[2]);u[3]=parseInt(u[3]);if(u[3]!=0){if(u[0]!=255||u[1]!=255||u[2]!=255){return false}else{if(!h(u[3])){return false}}}if(u[2]!=0){if(u[0]!=255||u[1]!=255){return false}else{if(!h(u[2])){return false}}}if(u[1]!=0){if(u[0]!=255){return false}else{if(!h(u[1])){return false}}}if(u[0]!=255){return false}return true}function g(v,x,t,u,w){s_startIp=o(t);s_endIp=o(u);s_lanIp=o(v);if(s_startIp>s_endIp){return 1}if(s_lanIp>=s_startIp&&s_lanIp<=s_endIp){return 2}return 0}function m(){var t=c("#container");b.cleanNode(t[0]);var w=new n();b.applyBindings(w,t[0]);var v=s.getPassword().CurrentPasswd;var u=s.getPassword().RootPasswd;if(false){c("#rootFrmDns").css("display","none");c("#rootBandSelect").css("display","none")}addInterval(w.refreshStatus,1000);c("#frmLan").validate({submitHandler:function(){w.save()},rules:{txtIpAddress:{lanip_check:true,ipRange:true},txtSubnetMask:{ipv4:true,subnetmask_check:true},txtDhcpIpPoolStart:{lanip_check:true,dhcp_check:"start",dhcpCompare:"#txtDhcpIpPoolEnd"},txtDhcpIpPoolEnd:{lanip_check:true,dhcp_check:"end",dhcpCompare:"#txtDhcpIpPoolStart"},txtDhcpLease:{range:[1,65535],digits:true}},groups:{lanip_check:"txtDhcpIpPoolStart txtDhcpIpPoolEnd"},errorPlacement:function(x,y){if(y.attr("name")=="txtDhcpLease"){x.insertAfter("#errorHolder")}else{if(y.attr("name")=="txtDhcpIpPoolStart"){x.insertAfter("#txtDhcpIpPoolEnd")}else{x.insertAfter(y)}}}});c(".frmDns").validate({submitHandler:function(){w.saveDnsAct()},rules:{txtPrimaryDns:"dns_server_check"}})}return{init:m}});define("tr069","jquery knockout set service".split(" "),function(f,c,b,a){function g(){return a.getTR069Info()}function e(k){var j=(k-0).toString(16);if(j.length==1){j="0"+j}return j.toUpperCase()}function d(){var l=this;var k=g();l.tr069Server=c.observable(k.TR069Server);l.AcsName=c.observable(k.AcsName);l.AcsPassword=c.observable(k.AcsPassword);l.AcsAddress=c.observable(k.AcsAddress);l.InformEnable=c.observable(k.InformEnable);l.ReportCycle=c.observable(k.ReportCycle);l.AuthEnable=c.observable(k.AuthEnable);l.CpeName=c.observable(k.CpeName);l.CpePassword=c.observable(k.CpePassword);l.isSupportSD=b.SD_CARD_SUPPORT;l.hasDdns=b.DDNS_SUPPORT;l.hasUpdateCheck=b.HAS_UPDATE_CHECK;var j=checkCableMode(a.getOpMode().blc_wan_mode);var m=a.getExtraFunc();l.bandSelectFuncEnable=c.observable(m.bandSelectFuncEnable);if(l.bandSelectFuncEnable()=="2"&&!j){f(".bandSelect").attr("id","rootBandSelect")}else{if(l.bandSelectFuncEnable()=="1"&&!j){f(".bandSelect").attr("id","bandSelect")}else{f(".bandSelect").attr("id","removeBandSelect");f("#removeBandSelect").css("display","none")}}l.showCpePassword=c.observable(false);l.showAcsPassword=c.observable(false);l.hasVpn=m.vpnEnable;l.clear=function(){clearTimer();h();clearValidateMsg()};l.saveAct=function(){showLoading();var n={tr069Server:l.tr069Server(),AcsName:l.AcsName(),AcsPassword:l.AcsPassword(),AcsAddress:l.AcsAddress(),InformEnable:l.InformEnable(),ReportCycle:l.ReportCycle(),AuthEnable:l.AuthEnable(),CpeName:l.CpeName(),CpePassword:l.CpePassword()};a.setTR069Info(n,function(o){if(o.result=="success"){successOverlay();l.clear()}else{errorOverlay()}})};l.save=function(){var n=f("#frmTr069").serialize();if(n==originTr069){showAlert("setting_no_change");return false}showConfirm("lan_confirm_reopen",function(){l.saveAct()})};addTimeout(function(){originTr069=f("#frmTr069").serialize()},500);l.showAcsPasswordHandler=function(){f("#pwdAcsPassword").parent().find(".error").hide();var n=f("#showAcsPassword:checked");if(n&&n.length==0){l.showAcsPassword(true)}else{l.showAcsPassword(false)}};l.showCpePasswordHandler=function(){f("#pwdCpePassword").parent().find(".error").hide();var n=f("#showCpePassword:checked");if(n&&n.length==0){l.showCpePassword(true)}else{l.showCpePassword(false)}}}function h(){var j=f("#container");c.cleanNode(j[0]);var m=new d();c.applyBindings(m,j[0]);var l=a.getPassword().CurrentPasswd;var k=a.getPassword().RootPasswd;if(false){f("#rootBandSelect").css("display","none")}f("#frmTr069").validate({submitHandler:function(){m.save()},rules:{AcsName:"tr069_check",AcsPassword:"tr069_check",CpeName:"tr069_check",CpePassword:"tr069_check",AcsAddress:"tr069_check"},errorPlacement:function(n,o){var p=o.attr("id");n.insertAfter(o)}})}return{init:h}});define("vpn","jquery knockout set service".split(" "),function(d,k,b,f){function a(){return f.getVPNInfo()}var e;var g=_.map(b.VPN_TYPES,function(l){return new Option(l.name,l.value)});function h(m,l){if(m=="open"){if(l=="setting"){return"vpn_switch_btn vpn_switch_ing"}else{if(l=="connected"){return"vpn_switch_btn vpn_switch_on"}else{if(l=="disconnect"){return"vpn_switch_btn vpn_switch_failed"}else{return"vpn_switch_btn vpn_switch_failed"}}}}else{return"vpn_switch_btn vpn_switch_off"}}function c(){var n=this;var m=a();n.vpn_name=k.observable(m.vpn_name);n.vpn_password=k.observable(m.vpn_password);n.vpn_server_ip=k.observable(m.vpn_server_ip);n.vpn_state=k.observable(m.vpn_state);n.vpnState=k.observable();n.vpn_switch=k.observable();n.modes=k.observableArray(g);n.vpn_type=k.observable(m.vpn_type);n.connect_status=k.observable(m.connect_status);n.vpn_status=k.observable(m.vpn_status);n.vpnSwitchCssClass=k.observable(h(n.vpn_state,n.connect_status));n.isVpnEnable=k.observable(false);n.showVpnPassword=k.observable(false);n.isSupportSD=b.SD_CARD_SUPPORT;n.hasDdns=b.DDNS_SUPPORT;n.hasUpdateCheck=b.HAS_UPDATE_CHECK;var l=checkCableMode(f.getOpMode().blc_wan_mode);var o=f.getExtraFunc();n.bandSelectFuncEnable=k.observable(o.bandSelectFuncEnable);if(n.bandSelectFuncEnable()=="2"&&!l){d(".bandSelect").attr("id","rootBandSelect")}else{if(n.bandSelectFuncEnable()=="1"&&!l){d(".bandSelect").attr("id","bandSelect")}else{d(".bandSelect").attr("id","removeBandSelect");d("#removeBandSelect").css("display","none")}}n.hasTr069=o.tr069FuncEnable;n.hasVpn=o.vpnEnable;n.selectVpnMode=k.observable(m.vpn_type);n.clear=function(){clearTimer();j();clearValidateMsg()};n.saveAct=function(){var p={vpn_name:n.vpn_name(),vpn_password:n.vpn_password(),vpn_server_ip:n.vpn_server_ip(),vpn_type:n.vpn_type()};f.setVPNInfo(p,function(q){})};n.save=function(){showConfirm("vpn_confirm_reopen",function(){n.saveAct()})};n.submitAction=function(){var p=a();if(p.vpn_state=="open"){if(p.connect_status=="setting"){}else{if(p.connect_status=="connected"){f.setVPNClose({},function(q){});e="init"}else{if(p.connect_status=="disconnect"){n.saveAct();e="set_abnormal"}}}}else{n.saveAct();e="set_abnormal"}};n.showVpnPasswordHandler=function(){d("#pwdVpnPassword").parent().find(".error").hide();var p=d("#showVpnPassword:checked");if(p&&p.length==0){n.showVpnPassword(true)}else{n.showVpnPassword(false)}};addTimeout(function(){originVpn=d("#frmVpn").serialize()},500)}function j(){var l=d("#container");k.cleanNode(l[0]);var o=new c();k.applyBindings(o,l[0]);var n=f.getPassword().CurrentPasswd;var m=f.getPassword().RootPasswd;if(false){d("#rootBandSelect").css("display","none")}d("#frmVpn").validate({submitHandler:function(){o.save()}});window.setInterval(function(){var p=a();o.vpnSwitchCssClass(h(p.vpn_state,p.connect_status));if(p.connect_status=="connected"||p.connect_status=="setting"){d("#frmVpn :input").each(function(){d(this).prop("disabled",true)})}else{d("#frmVpn :input").each(function(){d(this).prop("disabled",false)})}if(p.connect_status=="connected"){e="con_abnormal"}if(e=="set_abnormal"&&p.connect_status=="disconnect"){d("#vpn_switch_txt").text(d.i18n.prop("vpn_open_error"));d(".vpn_switch_txt").css("color","red")}else{if(e=="con_abnormal"&&p.connect_status=="disconnect"){d("#vpn_switch_txt").text(d.i18n.prop("vpn_net_error"));d(".vpn_switch_txt").css("color","red")}else{if(e!="con_abnormal"&&e!="set_abnormal"&&p.connect_status=="disconnect"){d("#vpn_switch_txt").text(d.i18n.prop("vpn_net_disconnect"));d(".vpn_switch_txt").css("color","#898989")}else{if(p.connect_status=="setting"){d("#vpn_switch_txt").text(d.i18n.prop("vpn_net_connecting"));d(".vpn_switch_txt").css("color","green")}else{if(p.connect_status=="connected"){d("#vpn_switch_txt").text(d.i18n.prop("vpn_net_connect"));d(".vpn_switch_txt").css("color","#1295da")}}}}}},1000)}return{init:j}});define("adm_others","jquery knockout set service underscore".split(" "),function(d,a,s,u,t){var e=t.map(s.sntpTimeSetMode,function(v){return new Option(v.name,v.value)});var f=t.map(s.timeZone,function(v){return new Option(v.name,v.value)});var j=t.map(s.daylightSave,function(v){return new Option(v.name,v.value)});var l=[];var h=[];var b=[];var n=[];var k=[];var r=[1,3,5,7,8,10,12];var m=[4,6,9,11];function q(z,v,y){var x={};for(var w=z;w<=v;w++){x.name=w;x.value=w;y.push(new Option(x.name,x.value))}}q(2000,2030,l);q(1,12,h);q(0,23,n);q(0,59,k);function p(){var F=this;var A=null;var I=false;var y=u.getLanguage();var L=u.getSIMswitch();d("#SIMextrapolation").text(simSwitchFormat3(L.sim_card_iccid,L.sim_operators_long_formart,y));d("#SIMinternally1").text(simSwitchFormat1(L.esim01_card_iccid,L.esim01_operators_long_formart,y));d("#SIMinternally2").text(simSwitchFormat2(L.esim02_card_iccid,L.esim02_operators_long_formart,y));F.hasSIMCardChoose=a.observable(L.cstm_webui_simswitch);F.hasOtherSIM=a.observable(L.sim_switch_number>1?true:false);F.currentSIM0=a.observable(L.sim_current_type==0?true:false);F.currentSIM1=a.observable(L.sim_current_type==1?true:false);F.currentSIM2=a.observable(L.sim_current_type==2?true:false);F.switchRunningDetect=a.observable("");if(L.sim_auto_switch_enable==0){A=L.sim_current_type}else{A=L.sim_default_type}if(L.sim_auto_switch_enable==1&&A==0){F.switchRunningDetect=a.observable("0")}else{if(L.sim_auto_switch_enable==0&&A==0){F.switchRunningDetect=a.observable("1")}else{if(L.sim_auto_switch_enable==0&&A==1){F.switchRunningDetect=a.observable("3")}else{if(L.sim_auto_switch_enable==0&&A==2){F.switchRunningDetect=a.observable("2")}}}}F.SIMislock=a.observable(L.sim_lock_status=="lock"?(L.sim_current_type==0?true:false):false);F.enableFlag=a.observable(L.sim_lock_status=="lock"?(L.sim_current_type==0?false:true):true);d("#swithMode").val(L.sim_auto_switch_enable);F.swithMode=a.observable(d("#swithMode").val());if(L.sim_auto_switch_enable==0){d("#swithCard").val(L.sim_current_type)}else{d("#swithCard").val(L.sim_default_type)}var w=u.getExtraFunc();F.imeiFuncEnable=a.observable(w.imeiFuncEnable);if(F.imeiFuncEnable()=="2"){d(".setImei").attr("id","rootSetImei")}else{if(F.imeiFuncEnable()=="1"){d(".setImei").attr("id","setImei")}else{d(".setImei").attr("id","removeSetImei");d("#removeSetImei").css("display","none")}}var D=u.getTTLValue();document.getElementById("daylight_saving_TTL_select").value=D.ttlValue;F.ttlFuncEnable=a.observable(w.ttlFuncEnable);if(F.ttlFuncEnable()=="2"){d(".setTTLForm").attr("id","rootSetTTLForm")}else{if(F.ttlFuncEnable()=="1"){d(".setTTLForm").attr("id","setTTLForm")}else{d(".setTTLForm").attr("id","removeSetTTLForm");d("#removeSetTTLForm").css("display","none")}}F.fastbootSupport=s.FAST_BOOT_SUPPORT;F.turnOffSupport=s.TURN_OFF_SUPPORT;F.SNTPSupport=s.HAS_SNTP;F.isSupportSD=s.SD_CARD_SUPPORT;F.hasDdns=s.DDNS_SUPPORT;F.hasUpdateCheck=s.HAS_UPDATE_CHECK;var v=checkCableMode(u.getOpMode().blc_wan_mode);var w=u.getExtraFunc();F.bandSelectFuncEnable=a.observable(w.bandSelectFuncEnable);if(F.bandSelectFuncEnable()=="2"&&!v){d(".bandSelect").attr("id","rootBandSelect")}else{if(F.bandSelectFuncEnable()=="1"&&!v){d(".bandSelect").attr("id","bandSelect")}else{d(".bandSelect").attr("id","removeBandSelect");d("#removeBandSelect").css("display","none")}}F.hasTr069=w.tr069FuncEnable;F.hasVpn=w.vpnEnable;F.restartPlanEnable=w.restartPlanEnable;var J=u.getKeepAliveFunc();F.keep_alive_enable=a.observable(J.keep_alive_enable);F.ping_detect_url1=a.observable(J.ping_detect_url1);F.ping_detect_url2=a.observable(J.ping_detect_url2);if(s.HAS_PARENTAL_CONTROL){I=u.checkCurrentUserInChildGroup().result}F.currentUserInChildGroup=a.observable(I);var H=u.getFastbootSetting();F.fastbootEnableFlag=a.observable(s.RJ45_SUPPORT?(H.need_sim_pin!="yes"&&u.getRj45PlugState().rj45_plug=="wan_lan_off"):H.need_sim_pin!="yes");F.fastbootSetting=a.observable(H.fastbootEnabled);addInterval(function(){F.fastbootEnableFlag(s.RJ45_SUPPORT?(H.need_sim_pin!="yes"&&u.getRj45PlugState().rj45_plug=="wan_lan_off"):H.need_sim_pin!="yes")},1000);F.executeAtCmd=function(){var N=d("#txtAtCmd").val().replace(/\s*/g,"").toUpperCase();var M=new RegExp("^AT");if(!M.test(N)){alert("please input the correct at command . \n eg: at+cgsn");d("#txtAtCmd").focus();return}showLoading("waiting");u.executeAtCommand({},function(O){hideLoading();if(O){d("#txtCmdRsp").append("\n"+d("#txtAtCmd").val()+O.result);d("#txtCmdRsp").scrollTop(d("#txtCmdRsp")[0].scrollHeight)}else{errorOverlay()}})};F.cleanCon=function(){d("#txtCmdRsp").text("");d("#atCleanBtn").blur()};F.restore=function(){showConfirm("restore_confirm",function(){showLoading("restoring");u.restoreFactorySettings({},function(M){if(M&&M.result=="success"){successOverlay()}else{errorOverlay()}},function(M){if(isErrorObject(M)&&M.errorType=="no_auth"){errorOverlay()}})})};F.restart=function(){showConfirm("restart_confirm",function(){restartDevice(u)})};F.saveFastBoot=function(){showLoading();var M={fastbootEnabled:F.fastbootSetting(),need_hard_reboot:H.need_hard_reboot};u.setFastbootSetting(M,function(N){if(N.result=="success"){successOverlay()}else{errorOverlay()}})};F.turnoff=function(){showConfirm("turnoff_confirm",function(){showLoading("turnoff");u.turnOffDevice({},function(M){if(M&&M.result=="success"){successOverlay()}else{errorOverlay()}},d.noop)})};F.saveSIMSwitch=function(){var O=null,Q=null,M=null,N=d("input:radio[name='switch_card']:checked").val();if(N=="0"){O=1;Q=0;M=1}else{if(N=="1"){O=0;Q=0;M=1}else{if(N=="2"){O=0;Q=2;M=1}else{O=0;Q=1;M=1}}}var P={sim_mode:O,sim_type:Q,sim_running:M};showLoading();u.setSIMswitch(P,function(R){if(R.result=="success"){hideLoading();successOverlay()}else{if(R.result=="processing"){showAlert("sim_executing_try_again")}else{errorOverlay()}}})};F.moitorSelectSIMMode=function(N){var M=u.getSIMswitch();if(N==0||N==1){d("#swithCard").val(M.sim_default_type)}};F.moitorSelectSIMCard=function(N){var M=u.getSIMswitch();if(N&&M.sim_lock_status=="lock"){F.SIMislock(true);F.enableFlag(false)}else{F.SIMislock(false);F.enableFlag(true)}};var F=this;var C=u.getSntpParams();globalTime=new Date(parseInt(C.sntp_year,10),parseInt(C.sntp_month,10)-1,parseInt(C.sntp_day,10),parseInt(C.sntp_hour,10),parseInt(C.sntp_minute,10),parseInt(C.sntp_second,10));F.day=a.observable();F.localTime=a.observable();F.timeSetModes=a.observableArray(e);F.isManualSetTime=a.observable(false);F.isAutoSntpTime=a.observable(false);F.currentMode=a.observable(C.sntp_time_set_mode);B();F.changeSetTimeMode=function(){B()};F.currentYear=a.observable(parseInt(C.sntp_year,10));F.currentMonth=a.observable(parseInt(C.sntp_month,10));F.currentDate=a.observable(parseInt(C.sntp_day,10));F.currentHour=a.observable(parseInt(C.sntp_hour,10));F.currentMinute=a.observable(parseInt(C.sntp_minute,10));F.years=a.observableArray(l);F.months=a.observableArray(h);F.initDateList=function(){E();F.dates(b)};E();F.dates=a.observableArray(b);F.hours=a.observableArray(n);F.minutes=a.observableArray(k);var G=t.map(C.sntp_servers,function(M){return new Option(M.name,M.value)});F.serverList=a.observableArray(G);F.currentServer0=a.observable(C.sntp_server0);F.currentServer1=a.observable(C.sntp_server1);F.currentServer2=a.observable(C.sntp_server2);F.customServer0=a.observable(C.sntp_other_server0);F.customServer1=a.observable(C.sntp_other_server1);F.customServer2=a.observable(C.sntp_other_server2);F.isOther0=a.observable(false);F.isOther1=a.observable(false);F.isOther2=a.observable(false);x();F.changeServerSelect=function(){x()};F.timeZones=a.observableArray(f);F.currentTimeZone=a.observable(C.sntp_timezone+"_"+C.sntp_timezone_index);F.daylightSaves=a.observableArray(j);F.currentDaylightSave=a.observable(C.sntp_dst_enable);F.updateCurrentTime=function(){var M=globalTime.getDay();switch(M){case 6:F.day(d.i18n.prop("saturday"));break;case 5:F.day(d.i18n.prop("friday"));break;case 4:F.day(d.i18n.prop("thursday"));break;case 3:F.day(d.i18n.prop("wednesday"));break;case 2:F.day(d.i18n.prop("tuesday"));break;case 1:F.day(d.i18n.prop("monday"));break;case 0:F.day(d.i18n.prop("sunday"));break;default:break}var N=globalTime.getFullYear()+"-"+getTwoDigit(globalTime.getMonth()+1)+"-"+getTwoDigit(globalTime.getDate())+" "+getTwoDigit(globalTime.getHours())+":"+getTwoDigit(globalTime.getMinutes())+":"+getTwoDigit(globalTime.getSeconds());F.localTime(N);globalTime.setTime(globalTime.getTime()+1000)};F.updateCurrentSim=function(){var N=null;var M=u.getSIMswitch();if(M.sim_current_type!=N){if(M.sim_current_type==0){F.currentSIM0(true);F.currentSIM1(false);F.currentSIM2(false);N=M.sim_current_type}else{if(M.sim_current_type==1){F.currentSIM0(false);F.currentSIM1(true);F.currentSIM2(false);N=M.sim_current_type}else{F.currentSIM0(false);F.currentSIM1(false);F.currentSIM2(true);N=M.sim_current_type}}}};F.apply=function(){var N=[];for(var M=0;M<C.sntp_servers.length;M++){N.push(C.sntp_servers[M].value)}var P=u.getStatusInfo();var Q=u.getOpMode();if(!checkConnectedStatus(P.connectStatus,Q.rj45_state,P.connectWifiStatus)&&F.currentMode()=="auto"){showAlert("sntp_syn_time_wan_connected");return}else{if(F.currentServer0()==""&&F.currentServer1()==""&&F.currentServer2()==""){showAlert("three_sntp_servers_note");return}}showLoading("");var O={goformId:"SNTP",manualsettime:F.currentMode(),sntp_server1_ip:F.currentServer0(),sntp_server2_ip:F.currentServer1(),sntp_server3_ip:F.currentServer2(),sntp_other_server0:F.customServer0(),sntp_other_server1:F.customServer1(),sntp_other_server2:F.customServer2(),timezone:F.currentTimeZone().split("_")[0],sntp_timezone_index:F.currentTimeZone().split("_")[1],DaylightEnabled:F.currentDaylightSave(),time_year:F.currentYear(),time_month:F.currentMonth(),time_day:F.currentDate(),time_hour:F.currentHour(),time_minute:F.currentMinute()};u.setSntpSetting(O,function(R){if(R){if(R.result=="success"&&F.currentMode()=="auto"){successOverlay("sntp_req_success")}else{if(R.result=="processing"&&F.currentMode()=="auto"){successOverlay("sntp_processing")}else{u.setSNTPDate({goformId:"SNTP_Getdatastatic"},function(S){var T=u.getSntpParams();globalTime=new Date(parseInt(T.sntp_year,10),parseInt(T.sntp_month,10)-1,parseInt(T.sntp_day,10),parseInt(T.sntp_hour,10),parseInt(T.sntp_minute,10),parseInt(T.sntp_second,10));successOverlay()})}}}else{errorOverlay()}})};F.unlock_sim_code=a.observable("");F.simLockStatus=a.observable();var K=u.getLockSimStatus();F.hasLockSim=a.observable(K.cstm_webui_unlocksim);if(K.sim_lock_status=="unlock"){F.simLockStatus=a.observable(false)}else{if(K.sim_lock_status=="lock"){F.simLockStatus=a.observable(true)}}var z=u.getSIMUnlockTimes();F.simTimes=a.observable(z.sim_unlock_nck_time);F.sim_unlock=function(){u.unlockSim({sim_unlock_code:F.unlock_sim_code()},function(M){if(M&&M.result=="success"){F.SIMislock(false);F.enableFlag(true);F.simLockStatus=a.observable(false);d("#id_sim_unlock").css("display","none");d("#id_nlocked_status").css("display","block");d("#id_sim_times").css("display","none");d("#id_sim_lock").val("");successOverlay()}else{var N=u.getSIMUnlockTimes();F.simTimes(N.sim_unlock_nck_time);d("#id_sim_unlock").val("");d("#id_span_sim_times").text(F.simTimes());errorOverlay()}},d.noop)};F.saveKeepAlive=function(){showConfirm("lan_confirm_reopen",function(){var M={keep_alive_enable:F.keep_alive_enable(),ping_detect_url1:F.ping_detect_url1(),ping_detect_url2:F.ping_detect_url2()};u.setKeepAliveFunc(M,function(N){if(N.result){successOverlay()}else{errorOverlay()}})})};F.applyTTL=function(){showConfirm("lan_confirm_reopen",function(){var N=document.getElementById("daylight_saving_TTL_select");var M=N.selectedIndex;var O=N.options[M].text;u.setTTL(O,function(P){if(P.result){successOverlay()}else{errorOverlay()}})})};function B(){if(F.currentMode()=="manual"){F.isManualSetTime(true);F.isAutoSntpTime(false)}else{F.isManualSetTime(false);F.isAutoSntpTime(true)}return true}function E(){b=[];if(d.inArray(parseInt(F.currentMonth(),10),m)!=-1){q(1,30,b)}else{if(d.inArray(parseInt(F.currentMonth(),10),r)!=-1){q(1,31,b)}else{if(parseInt(F.currentYear(),10)%4==0){q(1,29,b)}else{q(1,28,b)}}}}function x(){F.isOther0(F.currentServer0()=="Other");F.isOther1(F.currentServer1()=="Other");F.isOther2(F.currentServer2()=="Other");!F.isOther0()&&d("#sntp_server0").find(".error").hide();!F.isOther1()&&d("#sntp_server1").find(".error").hide();!F.isOther2()&&d("#sntp_server2").find(".error").hide()}}var c=u.getUsbMacAddress();if(c.usb_net_mac_addr=="FFFFFFFFFFFF"||c.usb_net_mac_addr=="000000000000"){self.mac_address=a.observable("00A0C6000000")}else{self.mac_address=a.observable(c.usb_net_mac_addr)}self.set_usbmac=function(){showConfirm("set_usbmac_reboot",function(){u.setUsbMacAddress({mac:self.mac_address()},function(v){if(v&&v.result=="success"){successOverlay()}else{errorOverlay()}},d.noop)})};var g=u.getDeviceInfo();self.imei_num=a.observable(g.imei);self.set_imei=function(){showConfirm("set_imei_reboot",function(){u.setImeiNum({imei:d("#id_imei_set").val()},function(v){if(v&&v.result=="success"){successOverlay()}else{errorOverlay()}},d.noop)})};function o(){var y=new p();var v=d("#container")[0];a.cleanNode(v);a.applyBindings(y,v);y.updateCurrentTime();y.updateCurrentSim();window.setInterval(function(){var B=u.getLanguage();var A=u.getSIMswitch();d("#SIMextrapolation").text(simSwitchFormat3(A.sim_card_iccid,A.sim_operators_long_formart,B));d("#SIMinternally1").text(simSwitchFormat1(A.esim01_card_iccid,A.esim01_operators_long_formart,B));d("#SIMinternally2").text(simSwitchFormat2(A.esim02_card_iccid,A.esim02_operators_long_formart,B))},500);var x=u.getPassword().CurrentPasswd;var w=u.getPassword().RootPasswd;if(x!=w&&x!="factoryAdmin"){d("#rootSetTTLForm").css("display","none");d("#rootSetImei").css("display","none");d("#rootBandSelect").css("display","none");d("#frmAtCmd").css("display","none")}else{var z=u.getDeviceInfo();y.imei_num=a.observable(z.imei)}d("#swithMode").change(function(){var A=d(this).children("option:selected").val();if(A==0){y.moitorSelectSIMMode(0);y.swithMode(0)}else{y.moitorSelectSIMMode(1);y.swithMode(1)}});d("#swithCard").change(function(){var A=d(this).children("option:selected").val();if(A==0){y.moitorSelectSIMCard(true)}else{y.moitorSelectSIMCard(false)}});addInterval(function(){y.updateCurrentTime();y.updateCurrentSim()},1000);d("#sntpForm").validate({submitHandler:function(){y.apply()},rules:{sntp_other_server0:"sntp_invalid_server_name",sntp_other_server1:"sntp_invalid_server_name",sntp_other_server2:"sntp_invalid_server_name"}});d("#keepAlive").validate({submitHandler:function(){y.saveKeepAlive()},rules:{ping_detect_url1:"ping_detect_url_check",ping_detect_url2:"ping_detect_url_check"}});d(".setTTLForm").validate({submitHandler:function(){y.applyTTL()}})}return{init:o}});define("adm_management","jquery knockout set service underscore CryptoJS".split(" "),function(f,e,d,a,c,b){function g(){var l=this;l.currentValue=e.observable();l.newValue=e.observable();l.confirmValue=e.observable();function k(){var s={};if(d.PASSWORD_ENCODE){s.oldValue=l.currentValue();s.newValue=l.newValue()}else{var r=new RegExp("(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[^a-zA-Z0-9]).{8,32}");if(!r.test(l.newValue())){showConfirm("password_note_too_low",function(){var v=a.getDeviceInfoLow();var w=b.enc.Latin1.parse(v.skey);var t=b.enc.Latin1.parse(v.siv);var x=b.AES.encrypt(l.currentValue(),w,{iv:t,mode:b.mode.CBC,padding:b.pad.ZeroPadding}).toString();var u=b.AES.encrypt(l.newValue(),w,{iv:t,mode:b.mode.CBC,padding:b.pad.ZeroPadding}).toString();s.oldValue=x;s.newValue=u;showLoading();a.changeManageInfo(s,function(y){l.cancel();if(y&&y.result==true){successOverlay()}else{if(y&&y.errorType=="badPassword"){hideLoading();showAlert("current_password_error",function(){f("#txtCurrent").focus()})}else{errorOverlay()}}})});return}var o=a.getDeviceInfoLow();var p=b.enc.Latin1.parse(o.skey);var m=b.enc.Latin1.parse(o.siv);var q=b.AES.encrypt(l.currentValue(),p,{iv:m,mode:b.mode.CBC,padding:b.pad.ZeroPadding}).toString();var n=b.AES.encrypt(l.newValue(),p,{iv:m,mode:b.mode.CBC,padding:b.pad.ZeroPadding}).toString();s.oldValue=q;s.newValue=n}showLoading();a.changeManageInfo(s,function(t){l.cancel();if(t&&t.result==true){successOverlay()}else{if(t&&t.errorType=="badPassword"){hideLoading();showAlert("current_password_error",function(){f("#txtCurrent").focus()})}else{errorOverlay()}}})}function j(){l.currentValue("");l.newValue("");l.confirmValue("")}l.cancel=j;l.changeValue=k}function h(){var j=f("#container");e.cleanNode(j[0]);var k=new g();e.applyBindings(k,j[0]);f("#frmPassword").validate({submitHandler:function(){k.changeValue()},rules:{txtCurrent:"manage_info_check",txtNew:"manage_info_check",txtConfirm:{equalTo:"#txtNew"}}})}return{init:h}});define("adm_pin","jquery knockout set service".split(" "),function(g,d,c,b){var e={common:0,requirePin:1,modifyPin:2,requirePuk:3,destroyed:4};var f={enable:"1",disable:"0"};function a(){var q=this;var n=b.getPinData();q.isDataCard=c.PRODUCT_TYPE=="DATACARD";q.originPinStatus=d.observable(n.pin_status);q.pinStatus=d.observable(n.pin_status);q.pinNumber=d.observable(n.pinnumber);q.pukNumber=d.observable(n.puknumber);q.currentPin=d.observable();q.newPin=d.observable();q.confirmPin=d.observable();q.puk=d.observable();q.pageState=d.observable();q.operateSuccessFlag=true;q.callback=s;function s(u){if(u&&u.result==true){q.operateSuccessFlag=true;successOverlay()}else{q.operateSuccessFlag=false;if(q.pinNumber()==2){showAlert("last_enter_pin")}else{if(q.pukNumber()==2){showAlert("last_enter_puk")}else{errorOverlay()}}}h(q)}function o(){if(q.isConnectedNetWork()){showAlert("cannot_operate_when_connected");return}if(q.pageState()==e.common){return}var u={oldPin:q.currentPin(),newPin:q.newPin()};showLoading();if(q.pageState()==e.modifyPin){b.changePin(u,q.callback)}else{if(q.pageState()==e.requirePuk){u={PinNumber:q.newPin(),PUKNumber:q.puk()};b.enterPUK(u,q.callback)}else{if(q.pinStatus()==f.enable){b.enablePin(u,q.callback)}else{b.disablePin(u,q.callback)}}}}function r(){q.pageState(e.common);q.pinStatus(q.originPinStatus());q.clear()}function l(){q.confirmPin("");q.currentPin("");q.newPin("");q.puk("");clearValidateMsg()}function k(u){if(u.pinnumber>0){if(q.operateSuccessFlag){q.cancel()}else{q.clear()}}else{q.clear();if(u.puknumber>0){q.pageState(e.requirePuk)}else{q.pageState(e.destroyed)}}}function p(){if(q.isConnectedNetWork()){showAlert("cannot_operate_when_connected");return}q.pinStatus(q.originPinStatus());q.pageState(e.modifyPin);q.clear()}function m(){if(q.isConnectedNetWork()){g("#frmPin :input").each(function(){disableBtn(g(this))});clearValidateMsg()}else{g("#frmPin :input").each(function(){if(this.id=="txtPin"||this.id=="btnPinApply"){if(q.pageState()==e.common){disableBtn(g(this));return}}if(this.id=="btnModifyPin"){if(q.originPinStatus()!=f.enable){disableBtn(g(this));return}}if(this.id=="pinEnable"||this.id=="pinDisable"){if(q.pageState()==e.modifyPin){disableBtn(g(this));return}}enableBtn(g(this))})}}function t(){var u=b.getConnectionInfo();return u.connectStatus=="ppp_connected"}function j(){if(q.pinStatus()==q.originPinStatus()){q.pageState(e.common)}else{q.pageState(e.requirePin)}q.clear()}q.changePin=o;q.cancel=r;q.clear=l;q.computePageState=k;q.computePageState(n);q.displayModifyPinPage=p;q.fixPageEnable=m;q.isConnectedNetWork=t;q.pinStatusChangeEvent=d.dependentObservable(j,this)}function h(m){var k=m;if(k){var l=b.getPinData();k.originPinStatus(l.pin_status);k.pinNumber(l.pinnumber);k.pukNumber(l.puknumber);k.computePageState(l)}else{k=new a();addInterval(function(){k.fixPageEnable()},1000)}var j=g("#container")[0];d.cleanNode(j);d.applyBindings(k,j);k.fixPageEnable();g("#frmPin").validate({submitHandler:function(){k.changePin()},rules:{txtPuk:"puk_check",txtPin:"pin_check",txtNewPin:"pin_check",txtConfirmPin:{equalToPin:"#txtNewPin"}}})}return{init:h}});define("adm_quick_set","jquery knockout set service underscore CryptoJS".split(" "),function(g,o,c,k,m,l){var a={ok:0,wps_on:1,wifi_off:2};var h={auto:"auto",manual:"manual"};var j=1;var b=5;function d(){return m.map(c.APN_AUTH_MODES,function(p){return new Option(p.name,p.value)})}var e=m.map(c.WIFI_WEP_SUPPORT?c.AUTH_MODES_WEP:c.AUTH_MODES,function(p){return new Option(p.name,p.value)});function f(){var K=this;var q=k.getQuickSettingInfo();K.currentStep=o.observable(j);K.ipType=o.observable(q.pdp_type=="IP"?"IP":q.ipv6_pdp_type);K.supportIPv6=c.IPV6_SUPPORT;K.supportIpv4AndIpv6=c.IPV4_AND_V6_SUPPORT;K.wpsFlag=o.observable(q.WscModeOption);function H(){return(q.apn_index<c.defaultApnSize||q.ppp_status=="ppp_connected"||q.ppp_status=="ppp_connecting")}function p(){return(q.ppp_status=="ppp_connected"||q.ppp_status=="ppp_connecting"||(!K.profileName()&&K.apnMode()==h.auto))}function F(){var O=q["APN_configtmp"+q.apn_index];var N=q["ipv6_APN_configtmp"+q.apn_index];var M=[];var L=[];if(O){M=O.split("($)")}if(N){L=N.split("($)")}return{m_profile_name:M[0],wan_apn:M[1],ppp_auth_mode:M[4]==""||typeof(M[4])=="undefined"?"":M[4].toLowerCase(),ppp_username:M[5],ppp_passtmp:M[6],pdp_type:M[7],ipv6_wan_apn:L[1],ipv6_ppp_auth_mode:typeof(L[4])=="undefined"||L[4]==""?"":L[4].toLowerCase(),ipv6_ppp_username:L[5],ipv6_ppp_passtmp:L[6],ipv6_pdp_type:L[7]}}K.currAPN=o.computed(F);K.apn=o.observable(K.currAPN().wan_apn);K.ipv6_apn=o.observable(K.currAPN().ipv6_wan_apn);K.ipv6_selectedAuthMode=o.observable(K.currAPN().ipv6_ppp_auth_mode);K.ipv6_username=o.observable(K.currAPN().ipv6_ppp_username);K.ipv6_password=o.observable(K.currAPN().ipv6_ppp_passtmp);K.profileName=o.observable(K.currAPN().m_profile_name);K.selectedAuthMode=o.observable(K.currAPN().ppp_auth_mode);K.username=o.observable(K.currAPN().ppp_username);K.password=o.observable(K.currAPN().ppp_passtmp);K.ipType=o.observable(K.currAPN().pdp_type=="IP"?"IP":K.currAPN().ipv6_pdp_type);K.transAPN=o.observable("apn_ipv4_apn");K.transAPNIPv6=o.observable("apn_ipv6_apn");K.transAuthMode=o.observable("apn_authentication_ipv4");K.transAuthModeIPv6=o.observable("apn_authentication_ipv6");K.transUserName=o.observable("apn_user_name_ipv4");K.transPassword=o.observable("apn_password_ipv4");K.transUserNameIPv6=o.observable("apn_user_name_ipv6");K.transPasswordIPv6=o.observable("apn_password_ipv6");K.apnDisabled=o.computed(H);K.apnMode=o.observable(q.apn_mode);K.apnModeDisabled=o.computed(p);K.authModes=o.observableArray(d());if(K.ipType()=="IPv6"){K.showIPv4=false;K.showIPv6=true;K.transAPNIPv6("apn");K.transAuthModeIPv6("apn_authentication");K.transUserNameIPv6("apn_user_name");K.transPasswordIPv6("apn_password")}else{if(c.IPV4_AND_V6_SUPPORT&&K.ipType()=="IPv4v6"){K.showIPv4=true;K.showIPv6=true}else{if(K.ipType()=="IP"||K.ipType()=="IPv4"){K.showIPv4=true;K.showIPv6=false;K.transAPN("apn");K.transAuthMode("apn_authentication");K.transUserName("apn_user_name");K.transPassword("apn_password")}else{K.showIPv4=true;K.showIPv6=false;K.transAPN("apn");K.transAuthMode("apn_authentication");K.transUserName("apn_user_name");K.transPassword("apn_password")}}}K.wifiDisabled=(q.wifi_cur_state!="1");K.ssid=o.observable(q.SSID1);K.broadcast=o.observable(q.HideSSID);K.hasWifiWep=c.WIFI_WEP_SUPPORT;K.securityModes=o.observableArray(e);K.selectedSecurityMode=o.observable(q.AuthMode);K.WPAKey=o.observable(q.WPAPSK1);K.apnMode_display=o.observable("");K.apnMode_trans=o.computed(I);K.selectedAuthMode_display=o.computed(y);K.ipv6_selectedAuthMode_display=o.computed(C);K.showWifiPassword=o.observable(false);K.showWifiPasswordHandler=r;var v=k.getWifiAdvance();K.adBand=o.observable(v.wifiBand);K.adMode=o.observable(v.mode);K.encryptType=o.observable(q.EncrypType);K.keyID=o.observable(q.DefaultKeyID);K.wepPassword=o.observable("");K.getWepPassword=z;K.wepPassword(K.getWepPassword());K.profileChangeHandler=G;K.broadcast_display=o.observable("");K.broadcast_trans=o.computed(w);K.selectedSecurityMode_display=o.observable();K.selectedSecurityMode_trans=o.computed(B);K.callback=u;K.next=E;K.previous=D;K.save=J;function I(){if(h.auto==K.apnMode()){K.apnMode_display(g.i18n.prop("apn_auto_apn"));return"apn_auto_apn"}else{K.apnMode_display(g.i18n.prop("apn_manual_apn"));return"apn_manual_apn"}}function w(){if("0"==K.broadcast()){K.broadcast_display(g.i18n.prop("enable"));return"enable"}else{K.broadcast_display(g.i18n.prop("disable"));return"disable"}}function E(){var L=K.currentStep();var M=K.currentStep()+1;s(M);if(L==1&&K.apnMode()==h.auto){M=K.currentStep()+1;s(M)}}function D(){var L=K.currentStep();var M=K.currentStep()-1;s(M);if(L==3&&K.apnMode()==h.auto){M=K.currentStep()-1;s(M)}}function J(){var M=function(){t()};var L=x();if(L==a.wifi_off){showConfirm("quick_setting_wifi_disable_confirm",M)}else{if(L==a.wps_on){showAlert("wps_on_info")}else{showConfirm("quick_setting_param_changed_confirm",M)}}}function u(L){if(L.result=="success"){successOverlay();location.hash="#network_choose"}else{errorOverlay()}}function s(L){if(L>b){L=b}else{if(L<j){L=j}}K.currentStep(L);return true}function C(){var L=K.ipv6_selectedAuthMode();return A(L)}function A(M){for(var L=0;L<c.APN_AUTH_MODES.length;L++){if(M==c.APN_AUTH_MODES[L].value){return c.APN_AUTH_MODES[L].name}}}function z(){return K.keyID()=="3"?q.Key4Str1:(K.keyID()=="2"?q.Key3Str1:K.keyID()=="1"?q.Key2Str1:q.Key1Str1)}function x(){var L=k.getWpsInfo();if(L.radioFlag=="0"){return a.wifi_off}else{if(L.wpsFlag=="1"){return a.wps_on}}return a.ok}function G(M,L){g("#pwdWepKey").parent().find("label[class='error']").hide();K.wepPassword(K.getWepPassword());return true}function t(){showLoading();var N=c.IPV4V6_SUPPORT&&K.currAPN().pdp_type=="IPv4v6";var O="";if(c.PASSWORD_ENCODE){O=K.WPAKey()}else{var M=k.getDeviceInfoLow();var P=l.enc.Latin1.parse(M.skey);var L=l.enc.Latin1.parse(M.siv);O=l.AES.encrypt(K.WPAKey(),P,{iv:L,mode:l.mode.CBC,padding:l.pad.ZeroPadding}).toString()}var Q={apn_index:q.apn_index,apnMode:K.apnMode(),Encryption_Mode_hid:K.selectedSecurityMode(),ipv6_ppp_auth_mode:N?K.selectedAuthMode():K.ipv6_selectedAuthMode(),ipv6_ppp_username:N?K.username():K.ipv6_username(),ipv6_ppp_passtmp:N?K.password():K.ipv6_password(),ipv6_wan_apn:N?K.apn():K.ipv6_apn(),pdp_type:K.ipType(),ppp_auth_mode:K.selectedAuthMode(),ppp_username:K.username(),ppp_passtmp:K.password(),profile_name:K.profileName(),security_shared_mode:"NONE",SSID_Broadcast:K.broadcast(),SSID_name:K.ssid(),wan_apn:K.apn(),wep_default_key:0,WPA_ENCRYPTION_hid:K.selectedSecurityMode()=="OPEN"?"NONE":K.selectedSecurityMode()=="WPA2PSK"?1:2,WPA_PreShared_Key:O};Q.wep_default_key=K.keyID();if(K.encryptType()=="SHARED"||K.selectedSecurityMode()=="WEP"){Q.security_shared_mode="WEP";Q.wep_key_1=q.Key1Str1;Q.wep_key_2=q.Key2Str1;Q.wep_key_3=q.Key3Str1;Q.wep_key_4=q.Key4Str1;var R="0";if(K.wepPassword().length=="5"||K.wepPassword().length=="13"){R="1"}else{R="0"}if(K.keyID()=="3"){Q.wep_key_4=K.wepPassword();Q.WEP4Select=R}else{if(K.keyID()=="2"){Q.wep_key_3=K.wepPassword();Q.WEP3Select=R}else{if(K.keyID()=="1"){Q.wep_key_2=K.wepPassword();Q.WEP2Select=R}else{Q.wep_key_1=K.wepPassword();Q.WEP1Select=R}}}}else{if(K.encryptType()=="WPAPSKWPA2PSK"){Q.security_shared_mode="NONE"}else{Q.security_shared_mode="NONE"}}k.setQuickSetting4IPv6(Q,K.callback)}function y(){var L=K.selectedAuthMode();return A(L)}function B(){var N=K.selectedSecurityMode();var M=c.WIFI_WEP_SUPPORT?c.AUTH_MODES_WEP:c.AUTH_MODES;for(var L=0;L<M.length;L++){if(N==M[L].value){K.selectedSecurityMode_display(g.i18n.prop("security_mode_"+M[L].value));return"security_mode_"+M[L].value}}}function r(){g("#pwdWepKey").parent().find(".error").hide();g("#codeWPAKey").parent().find(".error").hide();var L=g("#showWifiPassword:checked");if(L&&L.length==0){K.showWifiPassword(true)}else{K.showWifiPassword(false)}}}function n(){var p=g("#container");o.cleanNode(p[0]);var q=new f();o.applyBindings(q,p[0]);g("#quickSettingForm").validate({submitHandler:function(){if(q.currentStep()<5){q.next()}else{q.save()}},rules:{txtAPN:"apn_check",txtIPv6APN:"apn_check",txtSSID:"ssid",pwdWepKey:{wifi_wep_password_check:true,wifi_password_check:true},txtWepKey:{wifi_wep_password_check:true,wifi_password_check:true},txtWPAKey:"wifi_password_check",codeWPAKey:"wifi_password_check",txtUserName:"ppp_username_check",txtIPv6UserName:"ppp_username_check",txtSecretCode:"ppp_secretcode_check",txtIPv6SecretCode:"ppp_secretcode_check"},errorPlacement:function(r,s){var t=s.attr("id");if(t=="pwdWepKey"||t=="txtWepKey"){r.insertAfter("#lblShowWepPassword")}else{if(t=="txtWPAKey"||t=="codeWPAKey"){r.insertAfter("#lblShowWifiPassword")}else{r.insertAfter(s)}}}})}return{init:n}});define("main","set service knockout underscore jquery statusBar echarts".split(" "),function(k,f,e,l,h,g,c){var d={color:["red","red","red","red","red"],series:[{name:"",type:"pie",radius:["0","72"],itemStyle:{normal:{label:{show:false},labelLine:{show:false}}},data:[],selectedOffset:3}],animation:false,title:{text:"",x:"center",y:"center",itemGap:0,textStyle:{color:"#FFF",fontFamily:"",fontSize:20,fontWeight:"bolder"},subtextStyle:{color:"#FFF",fontFamily:"",fontSize:16,fontWeight:"bolder"}},tooltip:{formatter:"{b}"}};var m=window.language;var a=0;var j=null;var b={CONNECTED:1,DISCONNECTED:2,CONNECTING:3,DISCONNECTING:4};function o(){a=0;n.oldUsedData=null;n.oldAlarmData=null;j=c.init(h("#traffic_graphic")[0]);var q=h("#container")[0];e.cleanNode(q);var r=new p();e.applyBindings(r,q);var t=f.getLoginData();var s=t.psw_changed;if(s!="1"){showConfirm("password_note_first_change",function(){window.location.hash="#pwd_mode"});return}}var n={initStatus:null,initShownStatus:function(q){this.initStatus={};var r=q.ipv6PdpType.toLowerCase().indexOf("v6")>0;if(k.RJ45_SUPPORT){var s=checkCableMode(q.blc_wan_mode);if(s){this.initStatus.showIpv6WanIpAddr=false;this.initStatus.showIpv4WanIpAddr=true}else{if(k.IPV6_SUPPORT){if(q.pdpType=="IP"){this.initStatus.showIpv6WanIpAddr=false;this.initStatus.showIpv4WanIpAddr=true}else{if(r){if(q.ipv6PdpType=="IPv6"){this.initStatus.showIpv6WanIpAddr=true;this.initStatus.showIpv4WanIpAddr=false}else{this.initStatus.showIpv6WanIpAddr=true;this.initStatus.showIpv4WanIpAddr=true}}}}else{this.initStatus.showIpv6WanIpAddr=false;this.initStatus.showIpv4WanIpAddr=true}}}else{if(k.IPV6_SUPPORT){if(q.pdpType=="IP"){this.initStatus.showIpv6WanIpAddr=false;this.initStatus.showIpv4WanIpAddr=true}else{if(r){if(q.ipv6PdpType=="IPv6"){this.initStatus.showIpv6WanIpAddr=true;this.initStatus.showIpv4WanIpAddr=false}else{this.initStatus.showIpv6WanIpAddr=true;this.initStatus.showIpv4WanIpAddr=true}}}}else{this.initStatus.showIpv6WanIpAddr=false;this.initStatus.showIpv4WanIpAddr=true}}},wanIpGet:function(r){var q={wanIpAddress:"",ipv6WanIpAddress:""};q.wanIpAddress=verifyDeviceInfo(r.wanIpAddress);q.ipv6WanIpAddress=verifyDeviceInfo(r.ipv6WanIpAddress);return q},cachedAPStationBasic:null,cachedConnectionMode:null,getCanConnectNetWork:function(s){var q=f.getStatusInfo();if(q.simStatus!="modem_init_complete"){return false}var r=q.networkType.toLowerCase();if(r=="searching"){return false}if(r==""||r=="limited service"){r="limited_service"}if(r=="no service"){r="no_service"}if(r=="limited_service"||r=="no_service"){if(s.cStatus()!=b.CONNECTED){return false}}if(k.AP_STATION_SUPPORT){if(q.connectWifiStatus=="connect"){if(q.ap_station_mode=="wifi_pref"||q.ap_station_mode==undefined){return false}}}return true},doConnect:function(){showLoading("connecting");f.connect({},function(q){if(q.result){successOverlay()}else{errorOverlay()}})},refreshHomeData:function(r){var q=f.getConnectionInfo();r.connectStatus(q.connectStatus);r.canConnect(this.getCanConnectNetWork(r));r.networkType(n.getNetworkType(q.networkType));if(q.connectStatus=="ppp_connected"){r.current_Flux(transUnit(parseInt(q.data_counter.currentReceived,10)+parseInt(q.data_counter.currentSent,10),false));r.connected_Time(transSecond2Time(q.data_counter.currentConnectedTime));r.up_Speed(transUnit(q.data_counter.uploadRate,true));r.down_Speed(transUnit(q.data_counter.downloadRate,true))}else{r.current_Flux(transUnit(0,false));r.connected_Time(transSecond2Time(0));r.up_Speed(transUnit(0,true));r.down_Speed(transUnit(0,true))}r.trafficAlertEnable(q.limitVolumeEnable);if(q.limitVolumeEnable){if(q.limitVolumeType=="1"){r.trafficUsed(transUnit(parseInt(q.data_counter.monthlySent,10)+parseInt(q.data_counter.monthlyReceived,10),false));r.trafficLimited(transUnit(q.limitDataMonth,false))}else{r.trafficUsed(transSecond2Time(q.data_counter.monthlyConnectedTime));r.trafficLimited(transSecond2Time(q.limitTimeMonth))}}if(m!=window.language){m=window.language;a=1}if(r.showTraffic()){n.updateEcharts(q)}else{n.allFreeEcharts()}n.refreshStationInfo(r)},allFreeEcharts:function(){var q=n.data.free;q.value=1;q.selected=false;q.name=h.i18n.prop("echarts_no");d.series[0].data=[q];d.title.text="";n.setEcharts(d,h.i18n.prop("echarts_no"))},getNetworkType:function(q){var r=q.toLowerCase();if(r==""||r=="limited service"){r="limited_service"}if(r=="no service"){r="no_service"}if(r=="limited_service"||r=="no_service"){return h.i18n.prop("network_type_"+r)}else{return q}},data:{full:{value:30,name:"",itemStyle:{normal:{color:"#DF4313"}}},used:{value:30,name:"",itemStyle:{normal:{color:"#8CC916"}}},left1:{value:50,name:"",itemStyle:{normal:{color:"#D8D8D8"}}},free:{value:50,name:"",itemStyle:{normal:{color:"#D8D8D8"}}},alert:{value:1,name:"",itemStyle:{normal:{color:"#FF5500"}}},alarm:{value:19.7,name:"",itemStyle:{normal:{color:"#8CC916"}}},start:{value:50,name:"",itemStyle:{normal:{color:"#D8D8D8"}}}},getDataInfo:function(q){return{data:/\d+(.\d+)?/.exec(q)[0],unit:/[A-Z]{1,2}/.exec(q)[0]}},oldAlarmData:null,oldUsedData:null,updateEcharts:function(K){var u=h.i18n.prop("echarts_no");a++;if(a%10!=2){return false}var N=0,v=0,C=0,t=0,q=0,D=0;if(K.limitVolumeEnable){u=h.i18n.prop("echarts_used");d.series[0].data=[];if(K.limitVolumeType=="1"){var L=transUnit(K.limitDataMonth,false);d.series[0].data=[];if(K.limitDataMonth==0){var I=n.data.used;I.value=1;I.selected=false;I.name=h.i18n.prop("echarts_used");d.series[0].data.push(I)}else{var z=n.getDataInfo(L);N=z.data*n.getUnitValue(z.unit)*1048576;v=parseInt(K.data_counter.monthlySent,10)+parseInt(K.data_counter.monthlyReceived,10);C=N*K.limitVolumePercent/100;if(v>=N){var M=n.data.full;M.value=100;M.name=h.i18n.prop("echarts_full");d.series[0].data.push(M);u=h.i18n.prop("echarts_full")}else{if(C-v>0){D=C-v;t=N-C}else{q=v-C;t=N-v}var I=n.data.used;if(C-v>0){I.value=v}else{I.value=C}I.name=h.i18n.prop("echarts_used");d.series[0].data.push(I);if(D>0){var B=n.data.left1;B.value=D;B.name=h.i18n.prop("echarts_left1");d.series[0].data.push(B)}var y=n.data.alert;y.value=N/200;y.name=h.i18n.prop("echarts_alert");d.series[0].data.push(y);if(q>0){var w=n.data.alarm;w.value=q;w.name=h.i18n.prop("echarts_alarm");d.series[0].data.push(w)}var A=n.data.free;A.value=t;A.name=h.i18n.prop("echarts_free");d.series[0].data.push(A)}}}else{d.series[0].data=[];if(K.limitTimeMonth==0){var I=n.data.used;I.value=1;I.selected=false;I.name=h.i18n.prop("echarts_used");d.series[0].data.push(I)}else{N=K.limitTimeMonth;v=K.data_counter.monthlyConnectedTime;C=N*K.limitVolumePercent/100;if(v>=N){var x=n.data.full;x.value=100;x.name=h.i18n.prop("echarts_full");d.series[0].data.push(x);u=h.i18n.prop("echarts_full")}else{if(C-v>0){D=C-v;t=N-C}else{q=v-C;t=N-v}var r=n.data.used;if(C-v>0){r.value=v}else{r.value=C}r.name=h.i18n.prop("echarts_used");d.series[0].data.push(r);if(D>0){var J=n.data.left1;J.value=D;J.name=h.i18n.prop("echarts_left1");d.series[0].data.push(J)}var G=n.data.alert;G.value=N/200;G.name=h.i18n.prop("echarts_alert");d.series[0].data.push(G);if(q>0){var E=n.data.alarm;E.value=q;E.name=h.i18n.prop("echarts_alarm");d.series[0].data.push(E)}var H=n.data.free;H.value=t;H.name=h.i18n.prop("echarts_free");d.series[0].data.push(H)}}}}else{var I=n.data.used;I.value=1;I.selected=false;I.name=h.i18n.prop("echarts_no");d.series[0].data=[I];d.title.text=""}var s=l.find(d.series[0].data,function(O){return O.name==h.i18n.prop("echarts_used")});var F=l.find(d.series[0].data,function(O){return O.name==h.i18n.prop("echarts_alarm")});if(!F){F={value:0}}if(typeof s=="undefined"){n.setEcharts(d,u)}else{if(n.oldUsedData!=s.value||n.oldAlarmData!=F.value){n.oldUsedData=s.value;n.oldAlarmData=F.value;n.setEcharts(d,u)}}},getUnitValue:function(q){q=q.toUpperCase();if(q=="GB"){return"1024"}else{if(q=="TB"){return"1048576"}else{return"1"}}},setEcharts:function(t,s){var r=n.data.start;r.value=0;r.name=s;r.selected=false;var q=[r].concat(t.series[0].data);t.series[0].data=q;j.setOption(t,true);addTimeout(function(){j.resize()},1000)},refreshStationInfo:function(q){q.wirelessDeviceNum(f.getStatusInfo().wirelessDeviceNum);if(a%10==2){f.getAttachedCableDevices({},function(r){q.wireDeviceNum(r.attachedDevices.length)})}},getUnit:function(q){if(q=="1024"){return"GB"}else{if(q=="1048576"){return"TB"}else{return"MB"}}},refreshOpmodeInfo:function(w){var u=f.getOpMode();w.isLoggedIn(u.loginfo=="ok");var t=checkCableMode(u.blc_wan_mode);if(w.opCurMode()&&!t){var s=f.getLoginData();var r=s.modem_main_state;if(r=="modem_sim_undetected"||r=="modem_undetected"||r=="modem_sim_destroy"||r=="modem_waitpin"||r=="modem_waitpuk"||r=="modem_imsi_waitnck"){window.location.reload();return}}w.opCurMode(t);if(t&&u.ethwan_mode=="DHCP"){w.enableFlag(false)}else{if((!t&&u.ppp_status!="ppp_disconnected")||(t&&u.rj45_state!="idle"&&u.rj45_state!="dead")){w.enableFlag(true)}else{w.enableFlag(false)}}var v=(u.blc_wan_mode=="AUTO_PPP"||u.blc_wan_mode=="AUTO_PPPOE")?"AUTO":u.blc_wan_mode;var q="";switch(v){case"AUTO":q="opmode_auto";break;case"PPPOE":q="opmode_cable";break;case"PPP":q="opmode_gateway";break;default:break}h("#opmode").attr("data-trans",q).text(h.i18n.prop(q));w.isShowHomeConnect(!t);w.showTraffic(k.TRAFFIC_SUPPORT&&!t);w.isSupportQuicksetting(k.HAS_QUICK_SETTING&&!t)}};function p(){var w=this;w.hasSms=k.HAS_SMS;w.hasPhonebook=k.HAS_PHONEBOOK;var r=f.getExtraFunc();w.hasUssd=r.ussdEnable;w.isCPE=k.PRODUCT_TYPE=="CPE";w.hasRj45=k.RJ45_SUPPORT;w.notDataCard=k.PRODUCT_TYPE!="DATACARD";w.hasParentalControl=k.HAS_PARENTAL_CONTROL;var t=f.getWifiBasic();if(k.WIFI_SUPPORT_QR_SWITCH){w.showQRCode=k.WIFI_SUPPORT_QR_CODE&&t.show_qrcode_flag}else{w.showQRCode=k.WIFI_SUPPORT_QR_CODE}w.qrcodeSrc="./pic/qrcode_ssid_wifikey.png?_="+h.now();if(w.hasRj45){var q=checkCableMode(f.getOpMode().blc_wan_mode);w.opCurMode=e.observable(q);w.isShowHomeConnect=e.observable(!q);w.showTraffic=e.observable(k.TRAFFIC_SUPPORT&&!q);w.isSupportQuicksetting=e.observable(k.HAS_QUICK_SETTING&&!q)}else{w.isShowHomeConnect=e.observable(true);w.showTraffic=e.observable(k.TRAFFIC_SUPPORT);w.isSupportQuicksetting=e.observable(k.HAS_QUICK_SETTING)}if(k.PRODUCT_TYPE=="DATACARD"){h("#home_image").addClass("data-card")}var s=f.getConnectionInfo();w.networkType=e.observable(n.getNetworkType(s.networkType));w.connectStatus=e.observable(s.connectStatus);w.canConnect=e.observable(false);w.cStatus=e.computed(function(){if(w.connectStatus().indexOf("_connected")!=-1){return b.CONNECTED}else{if(w.connectStatus().indexOf("_disconnecting")!=-1){return b.DISCONNECTING}else{if(w.connectStatus().indexOf("_connecting")!=-1){return b.CONNECTING}else{return b.DISCONNECTED}}}});w.current_Flux=e.observable(transUnit(0,false));w.connected_Time=e.observable(transSecond2Time(0));w.up_Speed=e.observable(transUnit(0,true));w.down_Speed=e.observable(transUnit(0,true));w.isLoggedIn=e.observable(false);w.enableFlag=e.observable(true);w.simSerialNumber=e.observable("");w.iccid=e.observable("");w.rsrq=e.observable("");w.sinr=e.observable("");w.pci=e.observable("");w.imei=e.observable("");w.imsi=e.observable("");w.ssid=e.observable("");w.hasWifi=k.HAS_WIFI;w.showMultiSsid=e.observable(k.HAS_MULTI_SSID&&t.multi_ssid_enable=="1");w.trafficAlertEnable=e.observable(false);w.trafficUsed=e.observable("");w.trafficLimited=e.observable("");w.wireDeviceNum=e.observable(f.getAttachedCableDevices().attachedDevices.length);w.wirelessDeviceNum=e.observable(f.getStatusInfo().wirelessDeviceNum);w.showOpModeWindow=function(){if(w.enableFlag()){return}showSettingWindow("change_mode","opmode_popup","opmode_popup",400,300,function(){})};w.currentOpMode=e.observable("0");var u=false;h("#showDetailInfo").popover({html:true,placement:"top",trigger:"focus",title:function(){return h.i18n.prop("device_info")},content:function(){return v()}}).on("shown.bs.popover",function(){u=true}).on("hidden.bs.popover",function(){u=false});function x(){var z=f.getDeviceInfo();w.simSerialNumber(verifyDeviceInfo(z.simSerialNumber));w.iccid(verifyDeviceInfo(z.iccid));w.imei(verifyDeviceInfo(z.imei));w.imsi(verifyDeviceInfo(z.imsi));w.rsrq(verifyDeviceInfo(z.rsrq));w.sinr(verifyDeviceInfo(z.sinr));w.pci(verifyDeviceInfo(z.pci));w.ssid(verifyDeviceInfo(z.ssid));w.showMultiSsid(k.HAS_MULTI_SSID&&z.multi_ssid_enable=="1");return z}x();function y(){var z=f.getResideband();if(checkCableMode(f.getOpMode().blc_wan_mode)||z.reside_band=="band_invalid"){return" "}else{return z.reside_band}}function v(){var B=x();n.initShownStatus(B);var z=n.wanIpGet(B);var C=l.template(h("#detailInfoTmpl").html());var A=C({simSerialNumber:verifyDeviceInfo(B.simSerialNumber),iccid:verifyDeviceInfo(B.iccid),imei:verifyDeviceInfo(B.imei),imsi:verifyDeviceInfo(B.imsi),signal:signalFormat(B.signal),hasWifi:k.HAS_WIFI,isCPE:k.PRODUCT_TYPE=="CPE",hasRj45:k.RJ45_SUPPORT,showMultiSsid:k.HAS_MULTI_SSID&&B.multi_ssid_enable=="1",ssid:verifyDeviceInfo(B.ssid),max_access_num:verifyDeviceInfo(B.max_access_num),m_ssid:verifyDeviceInfo(B.m_ssid),m_max_access_num:verifyDeviceInfo(B.m_max_access_num),wifi_long_mode:"wifi_des_"+B.wifiRange,lanDomain:verifyDeviceInfo(B.lanDomain),ipAddress:verifyDeviceInfo(B.ipAddress),showMacAddress:k.SHOW_MAC_ADDRESS,macAddress:verifyDeviceInfo(B.macAddress),showIpv4WanIpAddr:n.initStatus.showIpv4WanIpAddr,wanIpAddress:z.wanIpAddress,showIpv6WanIpAddr:n.initStatus.showIpv6WanIpAddr,ipv6WanIpAddress:z.ipv6WanIpAddress,sw_version:verifyDeviceInfo(B.sw_version),hw_version:verifyDeviceInfo(B.hw_version),rsrp:signalFormat(B.rsrp),rsrq:verifyRsrqSign(B.rsrq),rssi:signalFormat(B.rssi),sinr:verifyDeviceInfo(B.sinr),cellid:verifyDeviceInfo(B.cellid),pci:verifyDeviceInfo(B.pci),reside_band:y()});return h(A).translate()}w.connectHandler=function(){if(w.connectStatus()=="ppp_connected"){showLoading("disconnecting");f.disconnect({},function(z){if(z.result){successOverlay()}else{errorOverlay()}})}else{if(f.getStatusInfo().roamingStatus){showConfirm("dial_roaming_connect",function(){w.connect()})}else{w.connect()}}};w.connect=function(){var A=f.getStatusInfo();var B=g.getTrafficResult(A);if(A.limitVolumeEnable&&B.showConfirm){var z=null;if(B.usedPercent>100){z={msg:"traffic_beyond_connect_msg"};g.setTrafficAlertPopuped(true)}else{z={msg:"traffic_limit_connect_msg",params:[B.limitPercent]};g.setTrafficAlert100Popuped(false)}showConfirm(z,function(){n.doConnect()})}else{n.doConnect()}};f.getSignalStrength({},function(A){var z=signalFormat(convertSignal(A));h("#fresh_signal_strength").text(z);h("#fresh_rsrq_strength").text(A.rsrq);h("#fresh_sinr_strength").text(A.sinr);h("#fresh_pci_strength").text(A.pci);if(u){h("#popoverSignalTxt").text(z)}});n.refreshHomeData(w);addInterval(function(){f.getSignalStrength({},function(A){var z=signalFormat(convertSignal(A));h("#fresh_signal_strength").text(z);h("#fresh_rsrq_strength").text(A.rsrq);h("#fresh_sinr_strength").text(A.sinr);h("#fresh_pci_strength").text(A.pci);if(u){h("#popoverSignalTxt").text(z)}});n.refreshHomeData(w)},1000);if(w.hasRj45){n.refreshOpmodeInfo(w);addInterval(function(){n.refreshOpmodeInfo(w)},1000)}w.showNetworkSettingsWindow=function(){if(w.hasRj45){f.getOpMode({},function(z){var A=checkCableMode(z.blc_wan_mode);if(A){window.location.hash="#network_set"}else{window.location.hash="#conn_set"}})}else{window.location.hash="#conn_set"}}}return{init:o}});define("language","knockout service jquery set underscore".split(" "),function(j,f,d,c,g){function a(){return f.getLanguage()}function b(k){window.CURRENT_LANGUAGE=k;d("body").attr("lang",k);d.i18n.properties({name:"Messages",path:"i18n/",mode:"map",cache:true,language:k,callback:function(){jQuery.validator.messages=d.i18n.map;d("body").translate()}})}window.language=null;function e(){var p=this;var o=a();var k=f.getSupportLanguages();if(k.supLanguages!==""){for(var m=0;m<c.LANGUAGES.length;m++){var l=k.supLanguages.indexOf(c.LANGUAGES[m].value);l===-1&&c.LANGUAGES.splice(m,1)&&m--}}var n=g.map(c.LANGUAGES,function(q){return new Option(q.name,q.value)});document.title=c.WEBUI_TITLE;if(d("#webui_title")[0]){d("#webui_title").html(c.WEBUI_TITLE)}p.languages=j.observableArray(n);p.currentLan=j.observable(o.Language);window.language=p.currentLan();p.langChangeHandler=function(r,q){clearValidateMsg();f.setLanguage({Language:p.currentLan()},function(){b(p.currentLan());window.language=p.currentLan()})};b(p.currentLan())}function h(){j.applyBindings(new e(),d("#language")[0])}return{init:h}});define("entry","jquery knockout set service underscore menu logout CryptoJS".split(" "),function(f,p,d,g,n,c,q,m){var l={LOGIN:0,WAIT_PIN:1,WAIT_PUK:2,PUK_LOCKED:3,LOGGEDIN:4,LOADING:5};var b=h();var e=0;var k="0";function j(){var y=this;var v=g.getLoginData();var t=g.getLoginStatus();y.confirmPIN=p.observable();y.leftSeconds=p.observable(0);y.loginCount=p.observable(0);y.loginSecuritySupport=p.observable(d.LOGIN_SECURITY_SUPPORT);y.newPIN=p.observable();y.password=p.observable();y.PIN=p.observable();y.pinNumber=p.observable(v.pinnumber);y.PUK=p.observable();y.pukNumber=p.observable(v.puknumber);y.showEntrance=p.observable(false);y.sharePathInvalid=p.observable(false);y.uiLoginTimer=p.observable(300);y.accountLocked=p.computed(function(){return y.loginCount()==d.MAX_LOGIN_COUNT&&y.leftSeconds()!="-1"});y.leftUnlockTime=p.computed(function(){y.leftSeconds();var A=transSecond2Time(y.uiLoginTimer());return A.substring(A.indexOf(":")+1,A.length)});if(d.SD_CARD_SUPPORT){g.getSDConfiguration({},function(A){y.showEntrance(A.sd_status=="1"&&A.share_status=="1"&&A.sd_mode=="0");if(y.showEntrance()){g.checkFileExists({path:A.share_file},function(B){if(B.status=="exist"||B.status=="processing"){y.sharePathInvalid(false)}else{y.sharePathInvalid(true)}})}})}var r=s(t,v);y.pageState=p.observable(r);if(r==l.LOADING){addTimeout(u,500)}x();y.login=function(){if(d.LOGIN_SECURITY_SUPPORT&&y.accountLocked()){showAlert("password_error_account_lock_time",function(){x()});return false}y.pageState(l.LOADING);window.clearInterval(b);var C="";if(d.PASSWORD_ENCODE){C=y.password()}else{var B=g.getDeviceInfoLow();var D=m.enc.Latin1.parse(B.skey);var A=m.enc.Latin1.parse(B.siv);C=m.AES.encrypt(y.password(),D,{iv:A,mode:m.mode.CBC,padding:m.pad.ZeroPadding}).toString()}g.login({password:C},function(E){setTimeout(function(){b=h()},1300);if(E.result){y.pageState(l.LOGGEDIN);if(d.LOGIN_SECURITY_SUPPORT){y.loginCount(0);y.uiLoginTimer(300);clearInterval(e)}f("#container").empty();window.location.hash="#main";q.init()}else{y.password("");if(d.LOGIN_SECURITY_SUPPORT){y.checkLoginData(function(){if(y.loginCount()==d.MAX_LOGIN_COUNT){showAlert("password_error_five_times",function(){x()});y.startLoginLockInterval()}else{showAlert({msg:"password_error_left",params:[d.MAX_LOGIN_COUNT-y.loginCount()]},function(){x()})}})}else{showAlert("password_error",function(){x()})}y.pageState(l.LOGIN)}})};y.checkLoginData=function(A){g.getLoginData({},function(C){var B=parseInt(C.psw_fail_num_str,10);y.loginCount(d.MAX_LOGIN_COUNT-B);y.leftSeconds(C.login_lock_time);y.uiLoginTimer(C.login_lock_time);if(f.isFunction(A)){A()}else{if(y.loginCount()==d.MAX_LOGIN_COUNT){y.startLoginLockInterval()}}})};y.startLoginLockInterval=function(){e=setInterval(function(){g.getLoginData({},function(A){if(A.login_lock_time<=0||A.psw_fail_num_str==5){y.loginCount(0);clearInterval(e)}if(y.leftSeconds()!=A.login_lock_time){y.leftSeconds(A.login_lock_time);y.uiLoginTimer(A.login_lock_time)}else{y.uiLoginTimer(y.uiLoginTimer()>0?y.uiLoginTimer()-1:0)}})},1000)};y.checkLoginData();y.enterPIN=function(){y.pageState(l.LOADING);var A=y.PIN();g.enterPIN({PinNumber:A},function(B){if(!B.result){showAlert("pin_error",function(){u()});y.PIN("")}else{u()}})};function x(){setTimeout(function(){var A=f("#txtAdmin:visible");var B=f("#txtPIN:visible");var C=f("#txtPUK:visible");if(A.length>0){A.focus()}else{if(B.length>0){B.focus()}else{if(C.length>0){C.focus()}}}},100)}function u(){var C=g.getLoginData();var A=g.getLoginStatus();var B=s(A,C);if(B==l.LOADING){addTimeout(u,500)}else{y.pageState(B);y.pinNumber(C.pinnumber);y.pukNumber(C.puknumber)}x()}y.enterPUK=function(){y.pageState(l.LOADING);var C=y.newPIN();var A=y.confirmPIN();var B={};B.PinNumber=C;B.PUKNumber=y.PUK();g.enterPUK(B,function(D){if(!D.result){showAlert("puk_error",function(){u()});y.PUK("");y.newPIN("");y.confirmPIN("")}else{u()}})};function z(A,C){if(A.status=="loggedIn"){var B=C.modem_main_state;if(B=="modem_waitpin"){return l.WAIT_PIN}else{if((B=="modem_waitpuk"||C.pinnumber==0)&&(C.puknumber!=0)){return l.WAIT_PUK}else{if((C.puknumber==0||B=="modem_sim_destroy")&&B!="modem_sim_undetected"&&B!="modem_undetected"){return l.PUK_LOCKED}else{return l.LOGGEDIN}}}}else{var B=C.modem_main_state;if(f.inArray(B,d.TEMPORARY_MODEM_MAIN_STATE)!=-1){return l.LOADING}else{return l.LOGIN}}}function s(A,B){if(d.LOGIN_THEN_CHECK_PIN){return z(A,B)}else{return w(A,B)}}function w(A,C){if(A.status=="loggedIn"){return l.LOGGEDIN}else{var B=C.modem_main_state;if(f.inArray(B,d.TEMPORARY_MODEM_MAIN_STATE)!=-1){return l.LOADING}else{if(B=="modem_waitpin"){return l.WAIT_PIN}else{if((B=="modem_waitpuk"||parseInt(C.pinnumber)===0)&&(parseInt(C.puknumber)!=0)){return l.WAIT_PUK}else{if((parseInt(C.puknumber)===0||B=="modem_sim_destroy")&&B!="modem_sim_undetected"&&B!="modem_undetected"){return l.PUK_LOCKED}else{return l.LOGIN}}}}}}}function a(){if(window.location.hash!=d.defaultRoute&&n.indexOf(d.GUEST_HASH,window.location.hash)==-1){if(!manualLogout&&k=="1"){manualLogout=false;k="UNREAL";showAlert("need_login_again",function(){window.location="index.html"})}else{if(k=="UNREAL"){return}else{window.location="index.html"}}}}function h(){return setInterval(function(){var r=g.getStatusInfo();if(!r.isLoggedIn){a();return}k=g.getStatusInfo().isLoggedIn?"1":"0"},1000)}function o(){var t=g.getStatusInfo();if(t.isLoggedIn){window.location.hash="#main";return}var r=f("#container")[0];p.cleanNode(r);var s=new j();p.applyBindings(s,r);f("#frmLogin").validate({submitHandler:function(){s.login()},rules:{txtAdmin:"login_password_length_check"}});f("#frmPIN").validate({submitHandler:function(){s.enterPIN()},rules:{txtPIN:"pin_check"}});f("#frmPUK").validate({submitHandler:function(){s.enterPUK()},rules:{txtNewPIN:"pin_check",txtConfirmPIN:{equalToPin:"#txtNewPIN"},txtPUK:"puk_check"}})}return{init:o,gotoLogin:a}});define("logout","set service knockout underscore jquery".split(" "),function(b,f,j,g,d){function c(){var l=this;var k=function(){var m=f.getLoginStatus();return(m.status=="loggedIn")}();l.loggedIn=j.observable(k);l.logout=function(){showConfirm("confirm_logout",function(){manualLogout=true;f.logout({},a())})};l.showLogout=function(){if(b.HAS_LOGIN){return l.loggedIn()}else{return false}}}function a(){window.location="index.html"}function e(){var k=new c();h(k)}function h(l){var k=d("#logout")[0];j.cleanNode(k);j.applyBindings(l,k)}return{init:e}});define("opmode","knockout service jquery set underscore".split(" "),function(d,a,f,c,b){function e(){var h=this;h.isLoggedIn=d.observable(false);h.enableFlag=d.observable(false);h.showOpModeWindow=function(){showSettingWindow("change_mode","opmode_popup","opmode_popup",400,300,function(){})};h.currentOpMode=d.observable("0");a.getOpMode({},function(l){h.isLoggedIn(l.loginfo=="ok");if(l.opms_wan_mode!="PPP"&&l.rj45_state!="idle"&&l.rj45_state!="dead"){h.enableFlag(false)}else{if(l.opms_wan_mode=="PPP"&&l.ppp_status!="ppp_disconnected"){h.enableFlag(false)}else{if(l.opms_wan_mode=="DHCP"){h.enableFlag(true)}else{h.enableFlag(true)}}}var k=(l.opms_wan_mode=="DHCP"||l.opms_wan_mode=="STATIC")?"PPPOE":l.opms_wan_mode;var j="";switch(k){case"BRIDGE":j="opmode_bridge";break;case"PPP":j="opmode_gateway";break;case"PPPOE":j="opmode_cable";break;default:break}f("#opmode").attr("data-trans",j).text(f.i18n.prop(j))});setInterval(function(){var j=a.getConnectionInfo();if(j.opms_wan_mode=="DHCP"){h.enableFlag(true)}else{if((j.opms_wan_mode=="PPP"&&j.ppp_status!="ppp_disconnected")||(j.opms_wan_mode!="PPP"&&j.rj45_state!="idle"&&j.rj45_state!="dead")){h.enableFlag(false)}else{h.enableFlag(true)}}},1000)}function g(){var h=f("#currentOpMode")[0];d.cleanNode(h);var j=new e();d.applyBindings(j,h)}return{init:g}});define("opmode_popup","knockout service jquery set underscore".split(" "),function(d,a,f,c,b){function e(){var j=this;var h="";j.selectedMode=d.observable("0");a.getOpMode({},function(k){if(k.blc_wan_mode=="AUTO_PPP"){h="AUTO"}else{if(k.blc_wan_mode=="AUTO_PPPOE"){h="AUTO"}else{if(k.blc_wan_mode=="PPPOE"){h="PPPOE"}else{h=k.blc_wan_mode}}}j.selectedMode(h)});j.changeOpMode=function(){var k=f('input:radio[name="opMode"]:checked').val();var l="";if(k==h){hidePopupSettingWindow();return}if(k=="LTE_BRIDGE"){l="opmode_msg3"}else{l="opmode_msg2"}showConfirm(l,function(){showLoading();a.SetOperationMode({opMode:k},function(n){if(n&&n.result=="success"){var m="";switch(k){case"AUTO":m="opmode_auto";break;case"PPP":m="opmode_gateway";break;case"PPPOE":m="opmode_cable";break;default:break}f("#opmode").attr("data-trans",m).text(f.i18n.prop(m));successOverlay()}else{errorOverlay()}})})}}function g(){var h=new e();d.applyBindings(h,f("#popupSettingWindow")[0]);f("#opmode_form").validate({submitHandler:function(){h.changeOpMode()}})}return{init:g}});define("router","underscore jquery menu set service".split(" "),function(j,f,b,c,g){var e="";var a=f("#container");checkFormContentModify=function(o){if(c.CONTENT_MODIFIED.modified&&window.location.hash!=o){if(c.CONTENT_MODIFIED.message=="sms_to_save_draft"){c.CONTENT_MODIFIED.callback.ok(c.CONTENT_MODIFIED.data);c.resetContentModifyValue();window.location.hash=o}else{showConfirm(c.CONTENT_MODIFIED.message,{ok:function(){c.CONTENT_MODIFIED.callback.ok(c.CONTENT_MODIFIED.data);c.resetContentModifyValue();window.location.hash=o},no:function(){var p=c.CONTENT_MODIFIED.callback.no(c.CONTENT_MODIFIED.data);if(!p){window.location.hash=o;c.resetContentModifyValue()}}})}return false}else{return true}};function n(){setInterval(function(){var t=g.getStatusInfo();var o=b.findMenu();if(o.length==0){return false}var s=["phonebook","sms_list"];var p=(f.inArray(o[0].path,s)!=-1);if(o[0].checkSIMStatus===true){var r=t.simStatus=="modem_sim_undetected"||t.simStatus=="modem_sim_destroy"||t.simStatus=="modem_waitpin"||t.simStatus=="modem_waitpuk";var q=t.simStatus=="modem_imsi_waitnck";if(t.isLoggedIn&&((f("#div-nosimcard")[0]==undefined&&r)||(f("#div-network-lock")[0]==undefined&&q)||((f("#div-nosimcard")[0]!=undefined||f("#div-network-lock")[0]!=undefined)&&t.simStatus=="modem_init_complete"))){d(o[0],t.simStatus,p)}}},1000)}function m(){var p=window.location.hash;if(p=="#entry"||j.indexOf(c.GUEST_HASH,p)!=-1){f("#manageContainer").attr("style","margin-top:-36px;")}else{f("#manageContainer").attr("style","margin-top:0px;")}if(window.location.hash=="#entry"){f("#mainContainer").addClass("loginBackgroundBlue")}else{var o=f("#mainContainer");if(o.hasClass("loginBackgroundBlue")){f("#container").css({margin:0});o.removeClass("loginBackgroundBlue").height("auto")}}}function d(q,o,p){var r={};f.extend(r,q);if(o=="modem_sim_undetected"||o=="modem_sim_destroy"){if(!p){r.path="sim_abnormal"}}else{if(o=="modem_waitpin"||o=="modem_waitpuk"){r.path="sim_abnormal"}else{if(o=="modem_imsi_waitnck"){r.path="locknet"}}}l(r)}function l(q){var p=q.path.replace(/\//g,"_");var r=f("body").removeClass();if(p!="entry"&&p!="main"){r.addClass("beautiful_bg page_"+p)}else{r.addClass("page_"+p)}clearTimer();hideLoading();var o="text!tmpl/"+q.path+".html";require([o,q.path],function(s,t){a.stop(true,true);a.hide();a.html(s);t.init();b.refreshMenu();f("#container").translate();b.activeSubMenu();f("form").attr("autocomplete","off");a.fadeIn()})}function h(){if(window.location.hash!=e){var t=g.getStatusInfo();if(window.location.hash==c.defaultRoute||j.indexOf(c.GUEST_HASH,window.location.hash)!=-1){if(t.isLoggedIn){window.location.hash=e==""?"#main":e;return}}var q=b.findMenu();if(q.length==0){window.location.hash=c.defaultRoute}else{if(c.RJ45_SUPPORT&&window.location.hash=="#main"){if((q[0].checkSIMStatus&&checkCableMode(t.blc_wan_mode))||(!q[0].checkSIMStatus&&!checkCableMode(t.blc_wan_mode))){window.location.reload();return}}var o=b.findMenu(e);e=q[0].hash;if(e=="#entry"){f("#indexContainer").addClass("login-page-bg");b.rebuild()}else{f("#indexContainer").removeClass("login-page-bg")}if(o.length!=0&&q[0].path==o[0].path&&q[0].level!=o[0].level&&q[0].level!="1"&&o[0].level!="1"){return}m();var s=["phonebook","sms_list"];var r=(f.inArray(q[0].path,s)!=-1);if(q[0].checkSIMStatus===true||r){if(t.simStatus==undefined){showLoading("waiting");function p(){var u=g.getStatusInfo();if(u.simStatus==undefined||f.inArray(u.simStatus,c.TEMPORARY_MODEM_MAIN_STATE)!=-1){addTimeout(p,500)}else{d(q[0],u.simStatus,r);hideLoading()}}p()}else{d(q[0],t.simStatus,r)}}else{l(q[0])}}}}function k(){n();window.location.hash=window.location.hash||"#main";if(("onhashchange" in window)&&((typeof document.documentMode==="undefined")||document.documentMode==8)){window.onhashchange=h;h()}else{setInterval(h,200)}f("a[href^='#']").die("click").live("click",function(){var o=f(this);c.CONTENT_MODIFIED.checkChangMethod();return checkFormContentModify(o.attr("href"))})}return{init:k}});define("statusBar","knockout jquery underscore service set menu tooltip".split(" "),function(W,G,ad,g,L,X,I){var h=false;var s=false;var z=false;var q=null;var U=0;var c=[];var Y=false;var w=true;var T=true;var Z={};var H=null;var x=false;var K=null;var P=null;var l=false;var u=false;var V=0;var J=function(){return g.getStatusInfo()};function M(){var aj=this;var ai=J();var af=ai.roamingStatus?true:false;var ah=G("#langLogoBar");function ae(){showLoading("connecting");g.connect({},function(ak){if(ak.result){refreshWifiConnectStatus(aj,ak.status)}successOverlay()},function(ak){errorOverlay()})}function ag(){showLoading("disconnecting");g.disconnect({},function(ak){if(ak.result){refreshWifiConnectStatus(aj,ak.status)}successOverlay()},function(ak){errorOverlay()})}if(ai.isLoggedIn){if(!ah.hasClass("langborderBg")){ah.addClass("langborderBg")}G("#statusBar:hidden").show()}else{if(ah.hasClass("langborderBg")){ah.removeClass("langborderBg")}G("#statusBar:visible").hide()}aj.batteryLevel=W.observable(ai.batteryLevel+"%");aj.batteryPers=W.observable(n(ai.batteryPers,ai.batteryStatus,ai.batteryShow));aj.batteryStatus=W.observable(ai.batteryStatus);aj.connectionCssClass=W.observable("");aj.connectStatus=W.observable(ai.connectStatus);aj.connectStatusText=W.observable();aj.connectStatusTrans=W.observable();aj.hasWifi=W.observable(L.HAS_WIFI);aj.isLoggedIn=W.observable(ai.isLoggedIn);aj.isShowConnectionIcon=W.observable(false);aj.isShowFotaNewversionIcon=W.observable(ai.new_version_state&&ai.fota_package_already_download!="yes"&&!L.isShowFotaIcon);aj.isShowRj45ConnectionIcon=W.observable(false);aj.opCurMode=W.observable(checkCableMode(g.getOpMode().blc_wan_mode));aj.networkOperator=W.observable(o(ai.spn_b1_flag,ai.spn_name_data,ai.spn_b2_flag,ai.networkOperator,af));aj.networkType=W.observable(getNetworkType(ai.networkType));aj.pinStatus=W.observable(ai.pinStatus);aj.pinStatusText=W.observable();aj.rj45ConnectionCssClass=W.observable("");aj.roamingStatus=W.observable(ai.roamingStatus?"R":"");aj.showAttachedDevices=W.observable(ai.wifiStatus);aj.showSmsDeleteConfirm=W.observable(false);aj.smsUnreadCount=W.observable(0);aj.simStatus=W.observable(D(ai.simStatus));aj.signalCssClass=W.observable(F(ai.signalImg,ai.networkType,ai.simStatus));aj.updateType=W.observable(g.getUpdateType().update_type);aj.wifiStatusCssClass=W.observable(m(ai.wifiStatus,ai.wirelessDeviceNum));aj.wifiStatusImg=W.observable(e(ai.wifiStatus,ai.wirelessDeviceNum));aj.vpn_type=W.observable(ai.vpn_type);aj.vpn_state=W.observable(ai.vpn_state);aj.vpnCssClass=W.observable(O(ai.connect_status));aj.isShowVpnState=W.observable(false);k(aj,ai.connectStatus,ai.data_counter,ai.connectWifiSSID,ai.connectWifiStatus,ai.rj45ConnectStatus);aj.connect=ae;aj.disconnect=ag}function ab(){var ae="#msg_main";if(window.location.hash=="#msg_main"){ae="#msg_list"}L.CONTENT_MODIFIED.checkChangMethod();if(checkFormContentModify(ae)){window.location.hash=ae}}gotoSmsList=ab;function o(ai,ae,ah,ag,af){if(ae==""){return ag}else{ae=decodeMessage(ae);if(ai=="0"&&ah=="0"){if(af){return ae==ag?ag:(ae+"  "+ag)}else{return ae}}else{if(ai=="1"&&ah=="1"){if(af){return ag}else{return ae==ag?ag:(ae+"  "+ag)}}else{if(ai=="1"){return ae==ag?ag:(ae+"  "+ag)}else{if(ah=="1"){if(af){return ag}else{return ae}}}}}return""}}function y(av,al,ao){L.smsMaxId=av.id;var ag=G.now();Z["m"+ag]=ag;var aw=av.number;if(w&&L.phonebook&&L.phonebook.length==0){w=false;if(L.HAS_PHONEBOOK){aa()}else{L.phonebook=[]}}for(aq in L.phonebook){if(getLastNumber(L.phonebook[aq].pbm_number,L.SMS_MATCH_LENGTH)==getLastNumber(av.number,L.SMS_MATCH_LENGTH)){aw=L.phonebook[aq].pbm_name;break}}var aj={mark:"m"+ag,name:aw,title:G.i18n.prop("sms"),titleTrans:"sms",tag:av.tag,content:av.content,datetime:av.time};if(H==null){H=G.template("newMessagePopTmpl",G("#newMessagePopTmpl"))}G(".bubbleItem:not(.report)","#buttom-bubble").remove();G.tmpl("newMessagePopTmpl",aj).appendTo("#buttom-bubble");if((window.location.hash=="#msg_main"||window.location.hash=="#msg_list")&&ao=="1"){var ah=L.currentChatObject&&L.currentChatObject==getLastNumber(av.number,L.SMS_MATCH_LENGTH);var ap=getLastNumber(av.number,L.SMS_MATCH_LENGTH);var au=G("#smslist-item-"+ap);if(au&&au.length>0){for(var aq=0;L.listMsgs&&aq<L.listMsgs.length;aq++){if(getLastNumber(L.listMsgs[aq].number,L.SMS_MATCH_LENGTH)==getLastNumber(av.number,L.SMS_MATCH_LENGTH)){L.listMsgs[aq].id=av.id;L.listMsgs[aq].latestId=av.id;L.listMsgs[aq].latestSms=av.content;L.listMsgs[aq].latestTime=av.time;if(!al){L.listMsgs[aq].newCount++;L.listMsgs[aq].totalCount++}break}}au.find(".smslist-item-checkbox p.checkbox").attr("id",av.id);au.find(".smslist-item-checkbox input:checkbox").val(av.id).attr("id","checkbox"+av.id);if(!al){var ai=au.find(".smslist-item-total-count").text();ai=Number(ai.substring(1,ai.length-1));au.find(".smslist-item-total-count").text("("+(ai+1)+")");if(!L.currentChatObject||L.currentChatObject!=getLastNumber(av.number,L.SMS_MATCH_LENGTH)){var ak=au.find(".smslist-item-new-count").removeClass("hide");if(ak&&ak.text().length>0){ak.text(Number(ak.text())+1)}else{ak.text(1)}}}if(au.find(".smslist-item-draft-flag").length>0){if(L.currentChatObject&&L.currentChatObject==getLastNumber(av.number,L.SMS_MATCH_LENGTH)){au.find(" td:nth-child(2)").removeClass("font-weight-bold")}else{au.find(" td:nth-child(2)").addClass("font-weight-bold")}}else{var af=au.find(".smslist-item-msg").text(av.content);af.closest("td").prop("title",av.content);au.find("span.clock-time").text(av.time);if(L.currentChatObject&&L.currentChatObject==getLastNumber(av.number,L.SMS_MATCH_LENGTH)){af.closest("tr").removeClass("font-weight-bold")}else{af.closest("tr").addClass("font-weight-bold")}}au.find(".smslist-item-repeat span").die().click(function(){forwardClickHandler(av.id)});var at=au;au.hide().remove();G("#smslist-table").prepend(at.show())}else{var am="";if(L.phonebook&&L.phonebook.length>0){for(aq in L.phonebook){if(getLastNumber(L.phonebook[aq].pbm_number,L.SMS_MATCH_LENGTH)==getLastNumber(av.number,L.SMS_MATCH_LENGTH)){am=L.phonebook[aq].pbm_name;break}}}var ar={id:av.id,name:am,number:av.number,latestId:av.id,totalCount:1,newCount:ah?0:1,latestSms:av.content,latestTime:av.time,checked:false,hasDraft:false,itemId:getLastNumber(av.number,L.SMS_MATCH_LENGTH)};if(P==null){P=G.template("smsTableTmpl",G("#smsTableTmpl"))}G.tmpl("smsTableTmpl",{data:[ar]}).prependTo("#smslist-table")}if(L.HAS_PHONEBOOK){G(".sms-add-contact-icon").removeClass("hide")}else{G(".sms-add-contact-icon").addClass("hide")}if(ah){var ae=G("#talk-item-"+av.id,"#chatlist");if(ae&&ae.length>0){G(".J_content pre",ae).html(dealContent(av.content));G(".time .smslist-item-time",ae).text(av.time);G(".smslist-item-repeat",ae).die().click(function(){forwardClickHandler(av.id)});G(".smslist-item-delete",ae).die().click(function(){deleteSingleItemClickHandler(av.id)})}else{G("#smsOtherTmpl").tmpl(av).appendTo("#chatlist");G(".clear-container","#chatpanel").animate({scrollTop:G("#chatlist").height()})}if(!L.SMS_SET_READ_WHEN_COMPLETE){g.setSmsRead({ids:[av.id]},G.noop)}else{if(L.SMS_SET_READ_WHEN_COMPLETE&&av.receivedAll){g.setSmsRead({ids:[av.id]},G.noop)}}}enableCheckbox(G("#smslist-checkAll"))}if(window.location.hash=="#msg_sim"&&ao=="0"){var am="";if(L.phonebook&&L.phonebook.length>0){for(aq in L.phonebook){if(getLastNumber(L.phonebook[aq].pbm_number,L.SMS_MATCH_LENGTH)==getLastNumber(av.number,L.SMS_MATCH_LENGTH)){am=L.phonebook[aq].pbm_name;break}}}var ar={id:av.id,name:am,number:av.number,content:av.content,time:av.time,tag:av.tag,checked:false,itemId:getLastNumber(av.number,L.SMS_MATCH_LENGTH)};if(al){var an=G(".simMsgList-item-class-"+ar.id);an.hide().remove()}if(K==null){K=G.template("ssimMessageListTemplate",G("#simMessageListTemplate"))}G.tmpl("simMessageListTemplate",{data:[ar]}).prependTo("#simMsgList_container")}}function a(){var ae=g.getCurrentUpgradeState();if(ae.current_upgrade_state=="low_battery"){showInfo("ota_low_battery");clearInterval(U)}}function D(ae){var af;switch(ae){case"modem_destroy":af="./pic/simcard_undetected.png";break;case"modem_imsi_waitnck":af="./pic/simcard_undetected.png";break;case"modem_init_complete":af="./pic/simcard_detected.png";break;case"modem_sim_destroy":af="./pic/simcard_undetected.png";break;case"modem_sim_undetected":af="./pic/simcard_undetected.png";break;case"modem_undetected":af="./pic/simcard_undetected.png";break;case"modem_waitpin":af="./pic/simcard_undetected.png";break;case"modem_waitpuk":af="./pic/simcard_undetected.png";break;default:af="./pic/simcard_detected.png";break}return af}function B(ae,af){setTimeout(function(){var ah=G("#chosenUserSelect");var ai=G("option",ah);for(var ag=0;ag<ai.length;ag++){if(getLastNumber(af,L.SMS_MATCH_LENGTH)==ai[ag].value){ai[ag].text=ae+"/"+af;ai[ag].value=af;break}}ah.trigger("liszt:updated")},0)}function t(ae){if(G.isArray(ae.pbm_data)&&ae.pbm_data.length>0){L.phonebook=ae.pbm_data}}function j(ae,af){if(!L.dbMsgs){L.dbMsgs=[]}if(c.length==0){G.each(L.dbMsgs,function(ag,ah){c.push(ah.id)})}G.each(ae,function(ag,ai){if(G.inArray(ai.id,c)==-1){c.push(ai.id);L.dbMsgs.push(ai);if(ai.tag=="1"){y(ai,false,af)}}else{for(var ah=0;ah<L.dbMsgs.length;ah++){if(L.dbMsgs[ah].id==ai.id&&L.dbMsgs[ah].content!=ai.content&&ai.tag=="1"){L.dbMsgs[ah].content=ai.content;y(ai,true,af);break}}}})}function n(ah,ae,af){var ag=null;if(af=="0"){G("#batteryCharging").css("display","none")}else{G("#batteryCharging").css("display","inline");if("0"==ae){if("1"==ah){ag="pic/power_one.png"}else{if("2"==ah){ag="pic/power_two.png"}else{if("3"==ah){ag="pic/power_three.png"}else{if("4"==ah){ag="pic/power_full.png"}else{ag="pic/power_out.png"}}}}}else{ag="pic/power_charging.gif"}}return ag}function k(aj,af,ag,am,ah,al,ae){var ai="icon_connection ";var ak="icon_connection ";if(ae=="AUTO_PPPOE"||ae=="PPPOE"){if(al=="connection"){ai+="rj45_connected"}else{ai+="disconnect"}}else{ai+="disconnect"}if(af=="ppp_connecting"||af=="wifi_connecting"){ak+="connecting"}else{if(af=="ppp_connected"){if(ag.uploadRate!="0"&&ag.downloadRate!="0"){ak+="connectionBoth"}else{if(ag.uploadRate!="0"&&ag.downloadRate=="0"){ak+="connectionUp"}else{if(ag.uploadRate=="0"&&ag.downloadRate!="0"){ak+="connectionDown"}else{ak+="connectionNone"}}}}else{if(af=="ppp_disconnected"){if(am&&ah=="connect"){g.getHotspotList({},function(ar){var aq="icon_connection ";var ao="connecting ";for(var ap=0,an=ar.hotspotList.length;ap<an;ap++){if(ar.hotspotList[ap].connectStatus=="1"){ao="wifi_connected";break}}aq+=ao;aj.connectionCssClass(aq)});aj.rj45ConnectionCssClass(ai);return}else{if(am&&(ah=="connecting"||ah=="dhcping")){ak+="connecting"}else{ak+="disconnect"}}}else{ak+="disconnect"}}}aj.connectionCssClass(ak);aj.rj45ConnectionCssClass(ai)}function aa(){var ae=g.getPhoneBooks({page:0,data_per_page:2000,orderBy:"id",isAsc:false});t(ae)}function F(ag,af,ae){af=af.toLowerCase();ae=ae?ae.toLowerCase():"";if(af==""||af=="limited_service"||af=="no_service"||af=="limited service"||af=="no service"||ae!="modem_init_complete"||ag==""){ag="_none"}return"signal signal"+ag}function O(ae){if(ae=="connected"){return"vpn vpn_connected"}}function m(ae,af){if(ae){if(af==0){return"wifi_status0"}else{return"wifi_status"+af}}else{return"wifi_status_off"}}function e(ae,af){if(ae){if(af==0){return"./pic/wlan0.png"}else{return"./pic/wlan"+af+".png"}}else{return"./pic/wlan_off.png"}}function R(){g.getPackSizeInfo({},function(af){var ae;if(parseInt(af.fota_pkg_total_size)==0){ae=0}else{ae=parseInt(parseInt(af.fota_dl_pkg_size)*100/parseInt(af.fota_pkg_total_size))}if(ae>100){ae=100}if(ae>=0){if(ae>95){showProgressBar("ota_update","<br/>"+G.i18n.prop("ota_update_warning"))}setProgressBar(ae)}})}function A(){if(w&&L.phonebook&&L.phonebook.length==0){w=false;if(L.HAS_PHONEBOOK){aa()}else{L.phonebook=[]}}g.getSMSDeliveryReport({page:0,smsCount:10},function(ag){var af=ag.messages;var ae=[];G.each(af,function(ah,ai){if(G.inArray(ai.number,ae)==-1){ae.push(ai.number);window.setTimeout(function(){var aj=G.now();Z["m"+aj]=aj;ai.name=ai.number;for(ah in L.phonebook){if(getLastNumber(L.phonebook[ah].pbm_number,L.SMS_MATCH_LENGTH)==getLastNumber(ai.number,L.SMS_MATCH_LENGTH)){ai.name=L.phonebook[ah].pbm_name;break}}var ak=G.i18n.prop("sms_delivery_report_"+ai.content);var al={mark:"m"+aj,name:ai.name,title:G.i18n.prop("sms_report"),titleTrans:"sms_report",content:ak,datetime:ai.time,report:"report"};if(H==null){H=G.template("newMessagePopTmpl",G("#newMessagePopTmpl"))}G(".report","#buttom-bubble").remove();G.tmpl("newMessagePopTmpl",al).appendTo("#buttom-bubble")},100)}})},function(){})}function N(ae){return ae=="modem_sim_undetected"||ae=="modem_undetected"||ae=="modem_sim_destroy"||ae=="modem_waitpin"||ae=="modem_waitpuk"||ae=="modem_imsi_waitnck"}function E(){q=true;var ae=g.getNewVersionState();function ah(){var ai=["downloading"];var aj=g.getCurrentUpgradeState();if(aj.current_upgrade_state.toLowerCase()=="idle"){addTimeout(ah,1000)}else{if((G.inArray(aj.current_upgrade_state,ai)!=-1)&&(ae.fota_new_version_state!="already_has_pkg")){hideLoading();p()}}}if(!(G("#progress").is(":visible"))){ah()}var ag=0;var af=function(){var aj=null;if(ag<=3){ag=ag+1;aj=g.getCurrentUpgradeState()}else{aj=J()}var ai=aj.current_upgrade_state;if(q&&T==true){if(ae.fota_new_version_state=="already_has_pkg"){if(ai=="low_battery"){hideProgressBar();q=false;g.removeTimerThings("fota_current_upgrade_state",function(){});showInfo("ota_pkg_low_battery");window.clearTimeout(V);return}else{if(ai=="prepare_install"){hideProgressBar();q=false;g.removeTimerThings("fota_current_upgrade_state",function(){});showInfo("ota_pkg_download_success");window.clearTimeout(V);U=setInterval(function(){a()},1000);return}}}else{if(ai=="downloading"){R()}else{if(ai=="download_failed"){hideProgressBar();q=false;showAlert("ota_download_failed");window.clearTimeout(V);return}else{if(ai=="low_battery"){hideProgressBar();q=false;g.removeTimerThings("fota_current_upgrade_state",function(){});showInfo("ota_low_battery");window.clearTimeout(V);return}else{if(ai=="prepare_install"){hideProgressBar();q=false;g.removeTimerThings("fota_current_upgrade_state",function(){});showInfo("ota_download_success");window.clearTimeout(V);U=setInterval(function(){a()},1000);return}else{q=false;hideProgressBar();window.clearTimeout(V);return}}}}}V=window.setTimeout(af,1000)}};if(q&&T==true){V=window.setTimeout(af,100)}else{window.clearTimeout(V)}}function r(af){if((!(G("#loading").is(":visible")))&&(!(G("#confirm").is(":visible")))){var ae=af?"ota_update_success":"ota_update_failed";Y=true;showAlert(ae,function(){Y=false;if(L.UPGRADE_TYPE=="OTA"){g.clearUpdateResult({},G.noop())}})}else{window.setTimeout(function(){r(af)},1000)}}function p(){var af=g.getMandatory();var ae=af.is_mandatory;var ag=g.getPackSizeInfo();var ah;if(parseInt(ag.fota_pkg_total_size)==0){ah=0}else{ah=parseInt(parseInt(ag.fota_dl_pkg_size)*100/parseInt(ag.fota_pkg_total_size))}if(ah>100){ah=100}if(ae){showProgressBar("ota_update","<br/>"+G.i18n.prop("ota_update_warning"))}else{var ai="";if(L.UPGRADE_TYPE=="OTA"){ai="<br/><br/><button id='btnStopUpgrade' onclick='stopOTAUpgrade();' class='btn-1 btn-primary'>"+G.i18n.prop("cancel")+"</button>"}showProgressBar("ota_update","<br/>"+G.i18n.prop("ota_update_warning")+ai)}if(ah>=0){setProgressBar(ah)}}function Q(){g.setUpgradeSelectOp({selectOp:"1"},function(ae){if(ae.result=="success"){E()}})}function d(){g.setUpgradeSelectOp({selectOp:"0"},function(ae){})}function C(ae){var ag=J();if(ae){var af=g.getOpMode();if(!checkConnectedStatus(ag.connectStatus,af.rj45_state,ag.connectWifiStatus)){showAlert("ota_network_disconnected");return}if(ag.fota_user_selector=="none"){Q()}else{if(ag.fota_user_selector=="accept"){E()}else{if(ag.fota_user_selector=="cancel"){showAlert("ota_have_cancel")}else{if(ag.fota_user_selector=="downloading_cancel"){showAlert("ota_have_cancel")}}}}}else{if(ag.fota_user_selector=="none"){d()}else{if(ag.fota_user_selector=="accept"){E()}else{if(ag.fota_user_selector=="cancel"){}else{if(ag.fota_user_selector=="downloading_cancel"){}}}}}}function b(ag){var af=ag.current_upgrade_state;if(af=="upgrade_pack_redownload"){showConfirm("ota_interrupted",{ok:function(){C(1)},no:function(){C(0)}})}else{var ae=["prepare_install","low_battery","connecting_server","connect_server_success","downloading","accept"];if(G.inArray(af,ae)!=-1){E()}else{showConfirm(G.i18n.prop("ota_new_version"),{ok:function(){C(1);L.ISNOW_NOTICE=false},no:function(){C(0);L.ISNOW_NOTICE=false}})}}}showOTAAlert=function(){L.ISNOW_NOTICE=true;var ae=g.getMandatory().is_mandatory;if(ae){E()}else{var af={};af=g.getCurrentUpgradeState();b(af)}};stopOTAUpgrade=function(){g.setUpgradeSelectOp({selectOp:"2"},function(ae){});q=false;window.clearTimeout(V);hideLoading();showAlert("ota_cancel")};function f(ae){u=!!ae;l=!!ae;if(!ae){x=true}}function v(ae){l=!!ae;if(!ae){x=true}}function ac(ag){var ae={showConfirm:false,limitPercent:ag.limitVolumePercent};if(ag.limitVolumeType=="1"){var af=parseInt(ag.data_counter.monthlySent,10)+parseInt(ag.data_counter.monthlyReceived,10);ae.usedPercent=af/ag.limitVolumeSize*100;if(ae.usedPercent>ae.limitPercent){ae.showConfirm=true;ae.type="data"}}else{ae.usedPercent=ag.data_counter.monthlyConnectedTime/ag.limitVolumeSize*100;if(ae.usedPercent>ae.limitPercent){ae.showConfirm=true;ae.type="time"}}return ae}function S(){if(L.PRODUCT_TYPE=="DATACARD"){G("#statusBar").addClass("padding-right-90");G("#language").addClass("data-card-language")}var ai=G("<img />").attr("src","pic/res_alert.png");var ah=G("<img />").attr("src","pic/res_confirm.png");var al=G("<img />").attr("src","pic/res_info.png");window.setTimeout(function(){var an=new M();W.applyBindings(an,G("#statusBar")[0]);window.setInterval(function(){var at=J();var ap=at.roamingStatus?true:false;var ar=G("#langLogoBar");T=at.isLoggedIn;var aq=checkCableMode(g.getOpMode().blc_wan_mode);an.opCurMode=W.observable(aq);an.batteryLevel(at.batteryLevel+"%");an.batteryPers(n(at.batteryPers,at.batteryStatus,at.batteryShow));an.batteryStatus(at.batteryStatus);an.isShowFotaNewversionIcon(at.new_version_state&&at.fota_user_selector&&at.fota_package_already_download!="yes"&&L.ISNOW_NOTICE&&an.updateType()=="mifi_fota");an.isShowRj45ConnectionIcon(L.RJ45_SUPPORT);an.networkOperator(o(at.spn_b1_flag,at.spn_name_data,at.spn_b2_flag,at.networkOperator,ap));an.networkType(getNetworkType(at.networkType));an.pinStatus(at.pinStatus);an.roamingStatus(at.roamingStatus?"R":"");an.showAttachedDevices(at.wifiStatus);an.simStatus(D(at.simStatus));an.signalCssClass(F(at.signalImg,at.networkType,at.simStatus));an.isLoggedIn(at.isLoggedIn);an.wifiStatusCssClass(m(at.wifiStatus,at.wirelessDeviceNum));an.wifiStatusImg(e(at.wifiStatus,at.wirelessDeviceNum));an.vpnCssClass(O(at.connect_status));if(L.HAS_SMS){if(!h&&at.isLoggedIn){am(at.smsUnreadCount)}else{an.smsUnreadCount(at.smsUnreadCount)}}k(an,at.connectStatus,at.data_counter,at.connectWifiSSID,at.connectWifiStatus,at.rj45ConnectStatus,at.blc_wan_mode);af(an,at.connectStatus,at.connectWifiSSID,at.connectWifiStatus);ag(an,at.connect_status);checkTrafficLimitAlert(an,at);ae({simStatus:at.simStatus,wifiStatus:at.wifiStatus,deviceSize:at.wirelessDeviceNum,networkType:at.networkType});if(at.isLoggedIn){G("#statusBar:hidden").show()}else{G("#statusBar:visible").hide()}},500);if(L.HAS_SMS){window.setInterval(function(){if(an.isLoggedIn()){am()}},10000);ak()}window.setInterval(function(){var aq=J();var ap=["prepare_install","low_battery","download_success","downloading"];if(an.isLoggedIn()==true&&!(G("#progress").is(":visible"))&&aq.defaultWanName!=""){if(G.inArray(aq.current_upgrade_state,ap)!=-1){if(null==q){if(!aq.is_mandatory){G.modal.close()}E()}else{if(false==q){q=null}}}}},1000);var ao=function(){var ap=g.getStatusInfo();if(ap.isLoggedIn){g.getUpgradeResult({},function(aq){if(aq.upgrade_result=="success"){r(true)}else{if(aq.upgrade_result=="fail"){r(false)}else{window.setTimeout(ao,1000)}}},function(){window.setTimeout(ao,1000)})}else{window.setTimeout(ao,1000)}};if(an.updateType()=="mifi_fota"){ao();window.setInterval(function(){var ap=J();if(ap.isLoggedIn&&ap.defaultWanName!=""){if(ap.new_version_state&&ap.fota_package_already_download!="yes"&&!L.ALREADY_NOTICE){g.getUpgradeResult({},function(aq){if(aq.upgrade_result=="success"){r(true)}else{if(aq.upgrade_result=="fail"){r(false)}else{if(Y==false){L.ALREADY_NOTICE=true;showOTAAlert()}}}})}}},1000)}function am(ap){g.getSmsCapability({},function(aq){var ar=false;if(aq.nvTotal!=0&&aq.nvUsed>=aq.nvTotal){G("#sms_unread_count").attr("tipTitle","sms_capacity_is_full");ar=true}else{if(aq.nvTotal!=0&&aq.nvUsed+5>=aq.nvTotal){G("#sms_unread_count").attr("tipTitle","sms_capacity_will_full");ar=true}else{G("#sms_unread_count").attr("tipTitle","sms_unread_count")}}an.showSmsDeleteConfirm(ar);if(typeof ap!="undefined"){an.smsUnreadCount(ap)}h=true})}},1200);I.init();function ak(){var am=J();if(am.isLoggedIn){g.getSMSReady({},function(an){if(an.sms_cmd_status_result=="1"){window.setTimeout(function(){ak()},1000)}else{s=true}})}else{window.setTimeout(function(){ak()},1000)}}checkTrafficLimitAlert=function(ap,aq){if(window.location.hash=="#entry"){return false}var am=L.AP_STATION_SUPPORT?g.getStatusInfo().ap_station_enable:"undefined";var ar=ac(aq);var ao=G("#confirm-container:visible").length>0;var an=(L.PRODUCT_TYPE=="CPE"&&checkCableMode(aq.blc_wan_mode))?true:false;if(L.AP_STATION_SUPPORT&&(typeof am=="undefined"||am==="")){g.refreshAPStationStatus({},G.noop());return false}am=am==1;if(!aq.isLoggedIn||ao||(u&&l)||!aq.limitVolumeEnable||(!am&&!(aq.connectStatus=="ppp_connected"))||an){return false}if(x){window.setTimeout(function(){x=false},2000);return false}if(ar.showConfirm){var at=null;if(ar.usedPercent>100&&!l){u=true;l=true;at={msg:am?"traffic_beyond_msg":"traffic_beyond_disconnect_msg"}}else{if(!u){u=true;l=false;at={msg:am?"traffic_limit_msg":"traffic_limit_disconnect_msg",params:[ar.limitPercent]}}}if(at!=null){if(am){showAlert(at)}else{showConfirm(at,function(){showLoading("disconnecting");g.disconnect({},function(au){if(au.result){successOverlay()}else{errorOverlay()}})})}}}return true};function ae(am){G("#statusItemSimStatus").attr("tipTitle","sim_status_"+am.simStatus);if(am.wifiStatus){if(am.deviceSize==0){G("#wifi_status").attr("tipTitle","wifi_status_on")}else{G("#wifi_status").attr("tipTitle","wifi_status"+am.deviceSize)}}else{G("#wifi_status").attr("tipTitle","wifi_status_off")}}function af(ao,am,an,ap){ao.connectStatus(am);if(am=="ppp_disconnecting"){ao.connectStatusTrans("disconnecting");ao.connectStatusText(G.i18n.prop("disconnecting"))}else{if(am=="ppp_connecting"){ao.connectStatusTrans("connecting");ao.connectStatusText(G.i18n.prop("connecting"))}else{if(am=="ppp_connected"){ao.connectStatusTrans("connected");ao.connectStatusText(G.i18n.prop("connected"))}else{if(an){if(ap=="dhcping"||ap=="connecting"){ao.connectStatus("wifi_connecting");ao.connectStatusTrans("connecting");ao.connectStatusText(G.i18n.prop("connecting"))}else{if(ap=="connect"){ao.connectStatus("wifi_connect");ao.connectStatusTrans("connected");ao.connectStatusText(G.i18n.prop("connected"))}else{ao.connectStatus("ppp_disconnected");ao.connectStatusTrans("disconnected");ao.connectStatusText(G.i18n.prop("disconnected"))}}}else{ao.connectStatusTrans("disconnected");ao.connectStatusText(G.i18n.prop("disconnected"))}}}}}function ag(am,an){if(an=="connected"){am.isShowVpnState(true)}else{am.isShowVpnState(false)}}getNetworkType=function(an){var am=an.toLowerCase();if(am==""||am=="limited service"){am="limited_service"}if(am=="no service"){am="no_service"}if(am=="limited_service"||am=="no_service"){G("#networkType","#statusBar").attr("data-trans","network_type_"+am);return G.i18n.prop("network_type_"+am)}else{G("#networkType","#statusBar").removeAttr("data-trans");return an}};if(L.HAS_SMS&&X.checkIsMenuExist("sms_list")){window.setInterval(function(){var an=J();if(window.location.hash=="#entry"||N(an.simStatus)){return}for(key in Z){var ao=Z[key];if(G.now()-ao>5000){delete (Z["m"+ao]);var am=G(".bubbleItem#m"+ao,"#buttom-bubble");am.fadeOut(1000,function(){G(this).remove()})}}if(an.isLoggedIn){if(an.newSmsReceived&&!z){z=true;g.resetNewSmsReceivedVar();aj()}if(an.smsReportReceived){g.resetSmsReportReceivedVar();A()}}},1000);if(L.SMS_DATABASE_SORT_SUPPORT){window.setInterval(function(){if(X.checkIsMenuExist("sms_list")){var am=J();if(am.isLoggedIn&&s&&!z&&!N(am.simStatus)){z=true;aj()}}},20001)}}function aj(){var an=1;var am=5;if(!L.dbMsgs||L.dbMsgs.length==0){am=500;an=10}g.getSMSMessages({page:0,smsCount:am,nMessageStoreType:0,tags:an,orderBy:"order by id desc"},function(ao){if(ao&&ao.messages){j(ao.messages,0)}z=false});g.getSMSMessages({page:0,smsCount:am,nMessageStoreType:1,tags:an,orderBy:"order by id desc"},function(ao){if(ao&&ao.messages){j(ao.messages,1)}z=false})}if(L.HAS_SMS){G(".bubbleItem","#buttom-bubble").live("mouseover",function(){var am=G(this);delete (Z[am.attr("id")])}).live("mouseout",function(){var an=G(this);var am=G.now();Z["m"+am]=am;an.attr("id","m"+am);G(".bubbleItem h3 a.bubbleCloseBtn","#buttom-bubble").data("targetid","m"+am)});G(".bubbleItem h3 a.bubbleCloseBtn","#buttom-bubble").die().live("click",function(){var an=G(this).data("targetid");delete (Z[an]);var am=G(".bubbleItem#"+an,"#buttom-bubble");am.fadeOut(1000,function(){G(this).remove()})})}}return{init:S,setTrafficAlertPopuped:f,setTrafficAlert100Popuped:v,getTrafficResult:ac,showOTAAlert:showOTAAlert}});define("status_traffic_alert","jquery knockout service statusBar echarts".split(" "),function(h,n,k,f,e){var l=null;var o=null;var b=false;var d=false;var j={data:{alarm:{itemStyle:{normal:{color:"#8CC916"}},name:"",value:19.7},alert:{itemStyle:{normal:{color:"#FF5500"}},name:"",value:1},free:{itemStyle:{normal:{color:"#D8D8D8"}},name:"",value:50},full:{itemStyle:{normal:{color:"#DF4313"}},name:"",value:30},left1:{itemStyle:{normal:{color:"#D8D8D8"}},name:"",value:50},start:{itemStyle:{normal:{color:"#D8D8D8"}},name:"",value:50},used:{itemStyle:{normal:{color:"#8CC916"}},name:"",value:30}},cacheEle:{},getEle:function(p){if(this.cacheEle.hasOwnProperty("id")){return this.cacheEle[p]}else{this.cacheEle[p]=h("#"+p);return this.cacheEle[p]}},fetchTrafficAlertInfo:function(){o=g();return o},getTrafficStatisticalDatalnfo:function(p){return{data:/\d+(.\d+)?/.exec(p)[0],unit:/[A-Z]{1,2}/.exec(p)[0]}},getTrafficTimeHours:function(p){var q=p.split(":");return{h:parseInt(q[0],10),m:parseInt(q[1],10),s:parseInt(q[2],10)}},getTrafficTimeInfo:function(p){return{data:/\d+(.\d+)?/.exec(p)[0],unit:/[a-z]{4,6}/.exec(p)[0]}},getTrafficTimeToSeconds:function(q){var p=this.getTrafficTimeHours(q);return p.h*3600+p.m*60+p.s},getTrafficUnitByScale:function(p){if(p=="1024"){return"GB"}else{if(p=="1048576"){return"TB"}else{return"MB"}}},getTrafficValueByStatisticalUnit:function(p){p=p.toLowerCase();if(p=="minute"){return"60"}else{if(p=="gb"){return"1024"}else{if(p=="hour"){return"3600"}else{if(p=="tb"){return"1048576"}else{return"1"}}}}},isFormEditable:function(s){var r=s.dataLimitTypeChecked()=="1"&&(s.viewEditUsedData()||s.viewEditAlertData()||s.viewEditTotalData());var p=s.dataLimitTypeChecked()=="0"&&(s.viewEditUsedTime()||s.viewEditAlertTime()||s.viewEditTotalTime());if(r||p){h(".border-color-transition:visible").addClass("attention-focus");addTimeout(function(){h(".border-color-transition:visible").removeClass("attention-focus")},1500);return true}else{var q=false;if(s.dataLimitTypeChecked()==1){if(s.alertDataReach()=="0"){s.editAlertDataHandler();q=true}if(s.limitDataMonth()=="0"){s.editTotalDataHandler();q=true}}else{if(s.alertTimeReach()=="0"){s.editAlertTimeHandler();q=true}if(s.limitTimeMonth()=="0"){s.editTotalTimeHandler();q=true}}if(q){h(".border-color-transition:visible").addClass("attention-focus");addTimeout(function(){h(".border-color-transition:visible").removeClass("attention-focus")},1500)}return q}},refreshFlowDiagramInfo:function(H){var F=0;var G=0;var w=0;var u=0;var D=0;var p=0;var q=h.i18n.prop("echarts_no");if(o.dataLimitChecked=="1"){q=h.i18n.prop("echarts_used");a.series[0].data=[];if(H.dataLimitTypeChecked()=="1"){a.title.text="";a.series[0].data=[];if(H.limitDataMonth()==0){var I=j.data.used;I.value=1;I.name=h.i18n.prop("echarts_used");I.selected=false;a.series[0].data.push(I)}else{D=H.limitDataMonth()*H.selectedDataUnit()*1048576;p=parseInt(o.monthlySent,10)+parseInt(o.monthlyReceived,10);u=D*H.alertDataReach()/100;if(p>=D){var s=j.data.full;s.value=100;s.name=h.i18n.prop("echarts_full");a.series[0].data.push(s);q=h.i18n.prop("echarts_full")}else{if(u>p){w=u-p;G=D-u}else{F=p-u;G=D-p}var I=j.data.used;if(u-p>0){I.value=p}else{I.value=u}I.name=h.i18n.prop("echarts_used");a.series[0].data.push(I);if(w>0){var z=j.data.left1;z.value=w;z.name=h.i18n.prop("echarts_left1");a.series[0].data.push(z)}var v=j.data.alert;v.value=D/200;v.name=h.i18n.prop("echarts_alert");a.series[0].data.push(v);if(F>0){var r=j.data.alarm;r.value=F;r.name=h.i18n.prop("echarts_alarm");a.series[0].data.push(r)}var t=j.data.free;t.value=G;t.name=h.i18n.prop("echarts_free");a.series[0].data.push(t)}}}else{a.series[0].data=[];if(H.limitTimeMonth()==0){var I=j.data.used;I.value=1;I.selected=false;I.name=h.i18n.prop("echarts_used");a.series[0].data.push(I)}else{D=H.limitTimeMonth()*H.selectedTimeUnit();p=o.monthlyConnectedTime;u=D*H.alertTimeReach()/100;if(p>=D){var x=j.data.full;x.value=100;x.name=h.i18n.prop("echarts_full");a.series[0].data.push(x);q=h.i18n.prop("echarts_full")}else{if(u-p>0){w=u-p;G=D-u}else{F=p-u;G=D-p}var y=j.data.used;if(u-p>0){y.value=p}else{y.value=u}y.name=h.i18n.prop("echarts_used");a.series[0].data.push(y);if(w>0){var E=j.data.left1;E.value=w;E.name=h.i18n.prop("echarts_left1");a.series[0].data.push(E)}var C=j.data.alert;C.value=D/200;C.name=h.i18n.prop("echarts_alert");a.series[0].data.push(C);if(F>0){var A=j.data.alarm;A.value=F;A.name=h.i18n.prop("echarts_alarm");a.series[0].data.push(A)}var B=j.data.free;B.value=G;B.name=h.i18n.prop("echarts_free");a.series[0].data.push(B)}}}}else{var I=j.data.used;I.value=1;I.selected=false;I.name=h.i18n.prop("echarts_no");a.series[0].data=[I];a.title.text=""}j.setFlowDiagramInfo(a,q)},setFlowDiagramInfo:function(p,q){var s=j.data.start;s.name=q;s.selected=false;s.value=0;var r=[s].concat(p.series[0].data);p.series[0].data=r;l.setOption(p,true);addTimeout(function(){l.resize()},1000)}};var a={animation:false,color:["red","red","red","red","red"],series:[{name:"",radius:["0","75"],selectedOffset:3,type:"pie",data:[],itemStyle:{normal:{labelLine:{show:false},label:{show:false}}}}],title:{itemGap:0,text:"",subtextStyle:{color:"#FFF",fontFamily:"",fontSize:16,fontWeight:"bolder"},textStyle:{color:"#FFF",fontFamily:"",fontSize:20,fontWeight:"bolder"},x:"center",y:"center"},tooltip:{formatter:"{b}"}};function g(){return k.getTrafficAlertInfo()}function c(){var p=this;var V=j.fetchTrafficAlertInfo();var A=V.limitDataMonth.split("_");b=false;d=false;p.alertDataReach=n.observable(V.alertDataReach||0);p.alertTimeReach=n.observable(V.alertTimeReach||0);p.dataLimitChecked=n.observable(V.dataLimitChecked=="0"?"0":"1");p.dataLimitTypeChecked=n.observable(V.dataLimitTypeChecked=="0"?"0":"1");p.limitTimeMonth=n.observable(V.limitTimeMonth||0);p.usedDataText=n.observable(transUnit(parseInt(V.monthlySent,10)+parseInt(V.monthlyReceived,10),false));var r=j.getTrafficStatisticalDatalnfo(p.usedDataText());var F=r.data;p.dataUsed=n.observable(F);var B=r.unit;p.selectedDataUsedUnit=n.observable(j.getTrafficValueByStatisticalUnit(B));p.usedDataTextDescData=n.observable("");p.limitDataMonth=n.observable(A[0]||0);p.selectedDataUnit=n.observable(A[1]||1);var I=transUnit(p.limitDataMonth()*p.selectedDataUnit()*1024*1024,false);var t=I.substring(I.length-2);p.limitDataMonth(I.substring(0,I.length-2));p.selectedDataUnit(j.getTrafficValueByStatisticalUnit(t));p.usedDataTextDesc=n.computed(H);p.limitDataMonthDescData=n.observable("");p.limitDataMonthDesc=n.computed(Y);p.alertDataReachDescData=n.observable("");p.alertDataReachDesc=n.computed(R);p.leftDataDescData=n.observable("");p.leftDataDesc=n.computed(N);p.monthlyConnectedTime=n.observable(transSecond2Time(V.monthlyConnectedTime));var S=j.getTrafficTimeInfo(transTimeUnit(V.monthlyConnectedTime));p.usedTime=n.observable(S.data);p.selectedTimeUsedUnit=n.observable(j.getTrafficValueByStatisticalUnit(S.unit));p.usedTimeTextDescData=n.observable("");p.usedTimeTextDesc=n.computed(T);var X=j.getTrafficTimeInfo(transTimeUnit(parseFloat(p.limitTimeMonth())*3600));p.selectedTimeUnit=n.observable(j.getTrafficValueByStatisticalUnit(X.unit));p.limitTimeMonth(X.data);p.limitTimeMonthDescData=n.observable("");p.limitTimeMonthDescText=n.observable("traffic_limit_time_h");p.limitTimeMonthDesc=n.computed(w);p.alertTimeReachDescData=n.observable("");p.alertTimeReachDesc=n.computed(u);p.leftTimeDescData=n.observable("");p.leftTimeDesc=n.computed(y);p.save=z;p.viewEditUsedData=n.observable(false);p.editUsedDataHandler=x;p.editUsedDataSaveHandler=aa;p.saveUsedData=M;p.editUsedDataCancelHandler=G;p.viewEditTotalData=n.observable(false);p.editTotalDataHandler=E;p.editTotalDataSaveHandler=s;p.editTotalDataCancelHandler=Q;p.viewEditAlertData=n.observable(false);p.editAlertDataHandler=L;p.editAlertDataSaveHandler=q;p.editAlertDataCancelHandler=Z;p.viewEditUsedTime=n.observable(false);p.editUsedTimeHandler=v;p.saveUsedTime=J;p.editUsedTimeSaveHandler=O;p.editUsedTimeCancelHandler=C;p.viewEditTotalTime=n.observable(false);p.editTotalTimeHandler=D;p.editTotalTimeSaveHandler=ab;p.editTotalTimeCancelHandler=P;p.viewEditAlertTime=n.observable(false);p.editAlertTimeHandler=K;p.editAlertTimeSaveHandler=U;p.editAlertTimeCancelHandler=W;j.refreshFlowDiagramInfo(p);function R(){if(isNaN(p.limitDataMonth()*p.selectedDataUnit()*p.alertDataReach())){p.alertDataReachDescData(p.alertDataReach()+", ");return h.i18n.prop("traffic_alert_reach_text",p.alertDataReach()," ")}var ac=transUnit(p.limitDataMonth()*p.selectedDataUnit()*p.alertDataReach()*1048576/100,false);p.alertDataReachDescData(p.alertDataReach()+","+ac);return h.i18n.prop("traffic_alert_reach_text",p.alertDataReach(),ac)}function u(){if(isNaN(p.limitTimeMonth()*p.alertTimeReach())){p.alertTimeReachDescData(p.alertTimeReach()+", ");return h.i18n.prop("traffic_alert_reach_text",p.alertTimeReach()," ")}var ac=transSecond2Time(p.limitTimeMonth()*p.selectedTimeUnit()*p.alertTimeReach()/100);p.alertTimeReachDescData(p.alertTimeReach()+","+ac);return h.i18n.prop("traffic_alert_reach_text",p.alertTimeReach(),ac)}function Z(){p.alertDataReach(j.getEle("editAlertData").data("oldValue"));p.viewEditAlertData(false)}function L(){j.getEle("editAlertData").data("oldValue",p.alertDataReach());p.viewEditAlertData(true)}function q(){if(j.getEle("alertDataReach").valid()){p.viewEditAlertData(false)}}function W(){p.alertTimeReach(j.getEle("editAlertTime").data("oldValue"));p.viewEditAlertTime(false)}function K(){j.getEle("editAlertTime").data("oldValue",p.alertTimeReach());p.viewEditAlertTime(true)}function U(){if(j.getEle("alertTimeReach").valid()){p.viewEditAlertTime(false)}}function E(){j.getEle("editTotalData").data("oldValue",p.limitDataMonth());j.getEle("selectedDataUnit").data("oldValue",p.selectedDataUnit());p.viewEditTotalData(true)}function s(){if(j.getEle("limitDataMonth").valid()){p.usedDataText(transUnit(p.limitDataMonth()*p.selectedDataUnit()*1048576,false));p.viewEditTotalData(false)}}function Q(){p.limitDataMonth(j.getEle("editTotalData").data("oldValue"));p.selectedDataUnit(j.getEle("selectedDataUnit").data("oldValue"));p.viewEditTotalData(false)}function P(){p.limitTimeMonth(j.getEle("editTotalTime").data("oldValue"));p.viewEditTotalTime(false)}function D(){j.getEle("editTotalTime").data("oldValue",p.limitTimeMonth());p.viewEditTotalTime(true)}function ab(){if(j.getEle("limitTimeMonth").valid()){p.viewEditTotalTime(false)}}function G(){p.dataUsed(j.getEle("editUsedData").data("oldValue"));p.selectedDataUsedUnit(j.getEle("selectedDataUsedUnit").data("oldValue"));j.getEle("editUsedDataCancel").siblings("label.error").hide();p.viewEditUsedData(false)}function x(){j.getEle("editUsedData").data("oldValue",p.dataUsed());j.getEle("selectedDataUsedUnit").data("oldValue",p.selectedDataUsedUnit());p.dataUsed(p.dataUsed());p.viewEditUsedData(true)}function aa(){if(j.getEle("dataUsed").valid()){b=true;p.viewEditUsedData(false)}}function C(){p.usedTime(j.getEle("editUsedTime").data("oldValue"));p.viewEditUsedTime(false)}function v(){j.getEle("editUsedTime").data("oldValue",p.usedTime());p.viewEditUsedTime(true)}function O(){if(j.getEle("usedTime").valid()){p.monthlyConnectedTime(transSecond2Time(parseFloat(p.usedTime())*p.selectedTimeUsedUnit()));p.viewEditUsedTime(false);d=true}}function N(){var ac=(p.limitDataMonth()*p.selectedDataUnit()-p.dataUsed()*p.selectedDataUsedUnit())*1048576;if(ac<0){ac=0}if(isNaN(ac)){p.leftDataDescData("");return h.i18n.prop("traffic_data_left_text"," ")}p.leftDataDescData(transUnit(ac,false));return h.i18n.prop("traffic_data_left_text",transUnit(ac,false))}function y(){var ac=p.limitTimeMonth()*p.selectedTimeUnit()-j.getTrafficTimeToSeconds(p.monthlyConnectedTime());if(ac<0){ac=0}if(isNaN(ac)){p.leftTimeDescData(" ");return h.i18n.prop("traffic_data_left_text"," ")}p.leftTimeDescData(transSecond2Time(ac));return h.i18n.prop("traffic_data_left_text",transSecond2Time(ac))}function Y(){if(isNaN(p.limitDataMonth())){p.limitDataMonthDescData("");return h.i18n.prop("traffic_limit_data_text"," ")}else{}p.limitDataMonthDescData(p.limitDataMonth()+j.getTrafficUnitByScale(p.selectedDataUnit()));return h.i18n.prop("traffic_limit_data_text",p.limitDataMonth()+j.getTrafficUnitByScale(p.selectedDataUnit()))}function w(){if(isNaN(p.limitTimeMonth())){p.limitTimeMonthDescData(" ");p.limitTimeMonthDescText("traffic_limit_time_h");return h.i18n.prop("traffic_limit_time_h"," ")}else{}p.limitTimeMonthDescData(p.limitTimeMonth());if(p.selectedTimeUnit()=="60"){p.limitTimeMonthDescText("traffic_limit_time_m");return h.i18n.prop("traffic_limit_time_m",p.limitTimeMonth())}else{p.limitTimeMonthDescText("traffic_limit_time_h");return h.i18n.prop("traffic_limit_time_h",p.limitTimeMonth())}}function z(){if(j.isFormEditable(p)&&p.dataLimitChecked()=="1"){return false}if(p.selectedDataUnit()=="1"&&p.selectedDataUsedUnit()=="1048576"&&p.dataLimitTypeChecked()=="1"&&p.dataLimitChecked()=="1"&&!(parseInt(p.dataUsed(),10)<parseInt("4096",10))){showAlert("traffic_over_note");return false}showLoading();k.setTrafficAlertInfo({alertDataReach:parseInt(p.alertDataReach(),10),alertTimeReach:parseInt(p.alertTimeReach(),10),dataLimitChecked:p.dataLimitChecked(),dataLimitTypeChecked:p.dataLimitTypeChecked(),limitDataMonth:p.limitDataMonth()+"_"+p.selectedDataUnit(),limitTimeMonth:p.selectedTimeUnit()=="60"?p.limitTimeMonth()/60:p.limitTimeMonth()},function(ac){if(ac.result=="success"){if(p.dataLimitTypeChecked()=="1"&&b){p.saveUsedData()}else{if(p.dataLimitTypeChecked()=="0"&&d){p.saveUsedTime()}else{j.fetchTrafficAlertInfo();j.refreshFlowDiagramInfo(p);f.setTrafficAlertPopuped(false);successOverlay()}}}else{errorOverlay()}},function(){j.refreshFlowDiagramInfo(p);errorOverlay()})}function M(){var ac=p.dataUsed()*p.selectedDataUsedUnit();k.trafficCalibration({way:"data",value:ac},function(){j.fetchTrafficAlertInfo();j.refreshFlowDiagramInfo(p);successOverlay();p.viewEditUsedData(false);f.setTrafficAlertPopuped(false);b=false},function(){j.fetchTrafficAlertInfo();j.refreshFlowDiagramInfo(p);errorOverlay()})}function J(){k.trafficCalibration({way:"time",value:p.selectedTimeUsedUnit()=="60"?parseFloat(p.usedTime())/60:p.usedTime()},function(){j.fetchTrafficAlertInfo();j.refreshFlowDiagramInfo(p);successOverlay();p.monthlyConnectedTime(transSecond2Time(parseFloat(p.usedTime())*p.selectedTimeUsedUnit()));p.viewEditUsedTime(false);f.setTrafficAlertPopuped(false);d=false},function(){j.fetchTrafficAlertInfo();j.refreshFlowDiagramInfo(p);errorOverlay()})}function H(){if(isNaN(p.dataUsed())){p.usedDataTextDescData("");return h.i18n.prop("traffic_used_text"," ")}p.usedDataTextDescData(p.dataUsed()+j.getTrafficUnitByScale(p.selectedDataUsedUnit()));return h.i18n.prop("traffic_used_text",p.dataUsed()+j.getTrafficUnitByScale(p.selectedDataUsedUnit()))}function T(){p.usedTimeTextDescData(p.monthlyConnectedTime());return h.i18n.prop("traffic_used_text",p.monthlyConnectedTime())}}function m(){l=e.init(h("#traffic_graphic")[0]);window.onresize=l.resize;var r=h("#container");n.cleanNode(r[0]);var q=new c();n.applyBindings(q,r[0]);h("#trafficAlertForm").validate({submitHandler:function(){q.save()},errorPlacement:function(t,s){if(s.attr("name")=="alertDataReach"){t.insertAfter("#editAlertDataDiv")}else{if(s.attr("name")=="alertTimeReach"){t.insertAfter("#editAlertTimeDiv")}else{if(s.attr("name")=="dataUsed"){t.insertAfter("#editUsedDataDiv")}else{if(s.attr("name")=="limitDataMonth"){t.insertAfter("#editTotalDataDiv")}else{if(s.attr("name")=="limitTimeMonth"){t.insertAfter("#editTotalTimeDiv")}else{if(s.attr("name")=="usedTime"){t.insertAfter("#editUsedTimeDiv")}else{t.insertAfter(s)}}}}}}},rules:{alertDataReach:{range:[1,100],digits:true},alertTimeReach:{range:[1,100],digits:true},dataUsed:{range:[0,9999],decimalRange:true},limitDataMonth:{range:[1,9999],decimalRange:true},limitTimeMonth:{range:[1,9999],decimalRange:true},usedTime:{range:[0,9999],decimalRange:true}}});var p=window.language;window.setInterval(function(){if(p!=window.language){p=window.language;j.refreshFlowDiagramInfo(q)}},1000)}return{init:m}});define("tooltip",["jquery"],function(b){function a(g,j,f){var l=g.offset().top;var k=g.offset().left;var e=f.position[0];var d=j.outerHeight()+g.outerHeight();var h=j.outerWidth()+g.outerWidth();l-=j.outerHeight()-f.offset[0];k+=g.outerWidth()+f.offset[1];if(/iPad/i.test(navigator.userAgent)){l-=b(window).scrollTop()}if(e=="center"){l+=d/2}if(e=="bottom"){l+=d}e=f.position[1];if(e=="center"){k-=h/2}else{if(e=="left"){k-=h}}return{top:l,left:k}}function c(){b(".statusItem","#statusBar").each(function(d,f){var e=b(this);e.attr("tipTitle",e.attr("title")).removeAttr("title")}).hover(function(){var e=b(this);var f=e.attr("tipTitle");var d=b("<div>").addClass("tooltip in").appendTo(document.body).hide().append(e.attr("i18n")?b.i18n.prop(f):f);if(e.attr("i18n")){d.attr("data-trans",f).attr("id","tooltip_"+e.attr("id"))}var g=a(e,d,{position:["bottom","center"],offset:[0,0]});d.css({position:"absolute",top:g.top,left:g.left}).show()},function(){b(".tooltip").hide().remove()})}return{init:c}});define("menu","set service knockout underscore jquery".split(" "),function(p,r,q,u,j){var k=false;var e;var f=[];var b="";function l(w){for(var v=0;v<f.length;v++){if(f[v].path==w){return true}}return false}function m(){var v=r.getLoginStatus();return(v.status=="loggedIn")}function s(){var v=m();var w=u.filter(f,function(x){return(x.level=="1"&&((x.requireLogin&&v)||!x.requireLogin)&&x.hash!="#entry")});e.menuMain(w);e.loggedIn(v);g(e.menuMain().length);e.showMenu(v||k);j("#nav").translate()}function g(v){var w=100/v;j("ul#list-nav li").each(function(){j(this).css("width",w+"%")})}function n(){var w=window.location.hash;var x=u.find(f,function(y){return y.hash==w});while(x.parent){x=u.find(f,function(y){return y.hash==x.parent})}if(!x.parent){j("#list-nav li").removeClass("active");var v=x.hash.substring(1,x.hash.length);j("#list-nav li[mid="+v+"]").addClass("active")}e.changeMenu(x)}function o(w){w=w||window.location.hash;var v=m();return u.filter(f,function(x){return(w==x.hash&&((x.requireLogin&&v)||!x.requireLogin))})}function h(x,w){var v=u.find(f,function(y){return y.parent==w.hash&&y.path==w.path});j(".menu-"+x+"-level").removeClass("active");if(v){if(x=="two"){h("three",v);a(v.hash,x)}j(".menu-"+x+"-level."+v.hash.substring(1)).addClass("active")}}function t(){var v=window.location.hash;var w=u.find(f,function(x){return x.hash==v});if(w.level==1){h("two",w)}if(w.level==2){h("three",w);a(w.hash,w.level)}if(w.level==3){a(w.parent,w.level);j(".menu-three-level").removeClass("active");j(".menu-three-level."+w.hash.substring(1)).addClass("active")}}function a(w,x){libjqobj=j(".menu-two-level."+w.substring(1));var v=["3","three","2","two"];if(u.indexOf(v,x)!=-1&&libjqobj.hasClass("active")){return}libjqobj.siblings().removeClass("active");libjqobj.addClass("active");libjqobj.siblings().not(".menu-two-level").slideUp();libjqobj.next().has("ul li").slideDown()}p.blc_wan_mode=r.getOpMode().blc_wan_mode;if(!p.RJ45_SUPPORT){b="menu"}else{switch(p.blc_wan_mode){case"PPPOE":case"AUTO_PPPOE":b="menu_pppoe";break;default:b="menu";break}}require([p.DEVICE+"/"+b],function(v){f=v;if(p.SD_CARD_SUPPORT){f=f.concat([{hash:"#httpshare_guest",path:"sd_httpshare",level:"",requireLogin:false,checkSIMStatus:false},{hash:"#sdcard",path:"sd",level:"",requireLogin:true,checkSIMStatus:false},{hash:"#httpshare",path:"sd_httpshare",level:"",requireLogin:true,checkSIMStatus:false}])}});function d(){e=new c()}function c(){var v=m();var x=this;x.loggedIn=q.observable(v);x.showMenu=q.observable(v||k);var y=u.filter(f,function(z){return(z.level=="1"&&((z.requireLogin&&x.loggedIn())||!z.requireLogin)&&z.hash!="#entry")});x.menuMain=q.observableArray(y);x.secondMenu=q.observableArray([]);x.changeMenu=function(z){var A=w(z);if(A.length==0){j("#container").addClass("fixContainerWidth")}else{j("#container").removeClass("fixContainerWidth")}x.secondMenu(A);return true};x.thirdMenu=function(){return x.curThirdMenu};x.getThirdMenu=function(z){x.curThirdMenu=w(z)};function w(z){return u.filter(f,function(A){return((A.parent&&A.parent==z.hash)&&((A.requireLogin&&x.loggedIn())||!A.requireLogin))})}}return{activeSubMenu:t,checkIsMenuExist:l,findMenu:o,rebuild:s,refreshMenu:n,init:d}});